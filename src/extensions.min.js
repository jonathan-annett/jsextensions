/* jshint ignore:start */
/* js-sha1 */
/*
 * [js-sha1]{@link https://github.com/emn178/js-sha1}
 *
 * @version 0.6.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
!function(){"use strict";function t(t){t?(f[0]=f[16]=f[1]=f[2]=f[3]=f[4]=f[5]=f[6]=f[7]=f[8]=f[9]=f[10]=f[11]=f[12]=f[13]=f[14]=f[15]=0,this.blocks=f):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}var h="object"==typeof window?window:{},s=!h.JS_SHA1_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;s&&(h=global);var i=!h.JS_SHA1_NO_COMMON_JS&&"object"==typeof module&&module.exports,e="function"==typeof define&&define.amd,r="0123456789abcdef".split(""),o=[-2147483648,8388608,32768,128],n=[24,16,8,0],a=["hex","array","digest","arrayBuffer"],f=[],u=function(h){return function(s){return new t(!0).update(s)[h]()}},c=function(){var h=u("hex");s&&(h=p(h)),h.create=function(){return new t},h.update=function(t){return h.create().update(t)};for(var i=0;i<a.length;++i){var e=a[i];h[e]=u(e)}return h},p=function(t){var h=eval("require('crypto')"),s=eval("require('buffer').Buffer"),i=function(i){if("string"==typeof i)return h.createHash("sha1").update(i,"utf8").digest("hex");if(i.constructor===ArrayBuffer)i=new Uint8Array(i);else if(void 0===i.length)return t(i);return h.createHash("sha1").update(new s(i)).digest("hex")};return i};t.prototype.update=function(t){if(!this.finalized){var s="string"!=typeof t;s&&t.constructor===h.ArrayBuffer&&(t=new Uint8Array(t));for(var i,e,r=0,o=t.length||0,a=this.blocks;r<o;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),s)for(e=this.start;r<o&&e<64;++r)a[e>>2]|=t[r]<<n[3&e++];else for(e=this.start;r<o&&e<64;++r)(i=t.charCodeAt(r))<128?a[e>>2]|=i<<n[3&e++]:i<2048?(a[e>>2]|=(192|i>>6)<<n[3&e++],a[e>>2]|=(128|63&i)<<n[3&e++]):i<55296||i>=57344?(a[e>>2]|=(224|i>>12)<<n[3&e++],a[e>>2]|=(128|i>>6&63)<<n[3&e++],a[e>>2]|=(128|63&i)<<n[3&e++]):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++r)),a[e>>2]|=(240|i>>18)<<n[3&e++],a[e>>2]|=(128|i>>12&63)<<n[3&e++],a[e>>2]|=(128|i>>6&63)<<n[3&e++],a[e>>2]|=(128|63&i)<<n[3&e++]);this.lastByteIndex=e,this.bytes+=e-this.start,e>=64?(this.block=a[16],this.start=e-64,this.hash(),this.hashed=!0):this.start=e}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},t.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,h=this.lastByteIndex;t[16]=this.block,t[h>>2]|=o[3&h],this.block=t[16],h>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},t.prototype.hash=function(){var t,h,s=this.h0,i=this.h1,e=this.h2,r=this.h3,o=this.h4,n=this.blocks;for(t=16;t<80;++t)h=n[t-3]^n[t-8]^n[t-14]^n[t-16],n[t]=h<<1|h>>>31;for(t=0;t<20;t+=5)s=(h=(i=(h=(e=(h=(r=(h=(o=(h=s<<5|s>>>27)+(i&e|~i&r)+o+1518500249+n[t]<<0)<<5|o>>>27)+(s&(i=i<<30|i>>>2)|~s&e)+r+1518500249+n[t+1]<<0)<<5|r>>>27)+(o&(s=s<<30|s>>>2)|~o&i)+e+1518500249+n[t+2]<<0)<<5|e>>>27)+(r&(o=o<<30|o>>>2)|~r&s)+i+1518500249+n[t+3]<<0)<<5|i>>>27)+(e&(r=r<<30|r>>>2)|~e&o)+s+1518500249+n[t+4]<<0,e=e<<30|e>>>2;for(;t<40;t+=5)s=(h=(i=(h=(e=(h=(r=(h=(o=(h=s<<5|s>>>27)+(i^e^r)+o+1859775393+n[t]<<0)<<5|o>>>27)+(s^(i=i<<30|i>>>2)^e)+r+1859775393+n[t+1]<<0)<<5|r>>>27)+(o^(s=s<<30|s>>>2)^i)+e+1859775393+n[t+2]<<0)<<5|e>>>27)+(r^(o=o<<30|o>>>2)^s)+i+1859775393+n[t+3]<<0)<<5|i>>>27)+(e^(r=r<<30|r>>>2)^o)+s+1859775393+n[t+4]<<0,e=e<<30|e>>>2;for(;t<60;t+=5)s=(h=(i=(h=(e=(h=(r=(h=(o=(h=s<<5|s>>>27)+(i&e|i&r|e&r)+o-1894007588+n[t]<<0)<<5|o>>>27)+(s&(i=i<<30|i>>>2)|s&e|i&e)+r-1894007588+n[t+1]<<0)<<5|r>>>27)+(o&(s=s<<30|s>>>2)|o&i|s&i)+e-1894007588+n[t+2]<<0)<<5|e>>>27)+(r&(o=o<<30|o>>>2)|r&s|o&s)+i-1894007588+n[t+3]<<0)<<5|i>>>27)+(e&(r=r<<30|r>>>2)|e&o|r&o)+s-1894007588+n[t+4]<<0,e=e<<30|e>>>2;for(;t<80;t+=5)s=(h=(i=(h=(e=(h=(r=(h=(o=(h=s<<5|s>>>27)+(i^e^r)+o-899497514+n[t]<<0)<<5|o>>>27)+(s^(i=i<<30|i>>>2)^e)+r-899497514+n[t+1]<<0)<<5|r>>>27)+(o^(s=s<<30|s>>>2)^i)+e-899497514+n[t+2]<<0)<<5|e>>>27)+(r^(o=o<<30|o>>>2)^s)+i-899497514+n[t+3]<<0)<<5|i>>>27)+(e^(r=r<<30|r>>>2)^o)+s-899497514+n[t+4]<<0,e=e<<30|e>>>2;this.h0=this.h0+s<<0,this.h1=this.h1+i<<0,this.h2=this.h2+e<<0,this.h3=this.h3+r<<0,this.h4=this.h4+o<<0},t.prototype.hex=function(){this.finalize();var t=this.h0,h=this.h1,s=this.h2,i=this.h3,e=this.h4;return r[t>>28&15]+r[t>>24&15]+r[t>>20&15]+r[t>>16&15]+r[t>>12&15]+r[t>>8&15]+r[t>>4&15]+r[15&t]+r[h>>28&15]+r[h>>24&15]+r[h>>20&15]+r[h>>16&15]+r[h>>12&15]+r[h>>8&15]+r[h>>4&15]+r[15&h]+r[s>>28&15]+r[s>>24&15]+r[s>>20&15]+r[s>>16&15]+r[s>>12&15]+r[s>>8&15]+r[s>>4&15]+r[15&s]+r[i>>28&15]+r[i>>24&15]+r[i>>20&15]+r[i>>16&15]+r[i>>12&15]+r[i>>8&15]+r[i>>4&15]+r[15&i]+r[e>>28&15]+r[e>>24&15]+r[e>>20&15]+r[e>>16&15]+r[e>>12&15]+r[e>>8&15]+r[e>>4&15]+r[15&e]},t.prototype.toString=t.prototype.hex,t.prototype.digest=function(){this.finalize();var t=this.h0,h=this.h1,s=this.h2,i=this.h3,e=this.h4;return[t>>24&255,t>>16&255,t>>8&255,255&t,h>>24&255,h>>16&255,h>>8&255,255&h,s>>24&255,s>>16&255,s>>8&255,255&s,i>>24&255,i>>16&255,i>>8&255,255&i,e>>24&255,e>>16&255,e>>8&255,255&e]},t.prototype.array=t.prototype.digest,t.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(20),h=new DataView(t);return h.setUint32(0,this.h0),h.setUint32(4,this.h1),h.setUint32(8,this.h2),h.setUint32(12,this.h3),h.setUint32(16,this.h4),t};var y=c();i?module.exports=y:(h.sha1=y,e&&define(function(){return y}))}();/* browser-fs.min.js */
(function($N){$N[0][$N[1]]=function($N,$E){$N[$E]={};(function(module,exports,window){(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.JSZip=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";var utils=require("./utils");var support=require("./support");var _keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";exports.encode=function(input){var output=[];var chr1,chr2,chr3,enc1,enc2,enc3,enc4;var i=0,len=input.length,remainingBytes=len;var isArray=utils.getTypeOf(input)!=="string";while(i<input.length){remainingBytes=len-i;if(!isArray){chr1=input.charCodeAt(i++);chr2=i<len?input.charCodeAt(i++):0;chr3=i<len?input.charCodeAt(i++):0}else{chr1=input[i++];chr2=i<len?input[i++]:0;chr3=i<len?input[i++]:0}enc1=chr1>>2;enc2=(chr1&3)<<4|chr2>>4;enc3=remainingBytes>1?(chr2&15)<<2|chr3>>6:64;enc4=remainingBytes>2?chr3&63:64;output.push(_keyStr.charAt(enc1)+_keyStr.charAt(enc2)+_keyStr.charAt(enc3)+_keyStr.charAt(enc4))}return output.join("")};exports.decode=function(input){var chr1,chr2,chr3;var enc1,enc2,enc3,enc4;var i=0,resultIndex=0;var dataUrlPrefix="data:";if(input.substr(0,dataUrlPrefix.length)===dataUrlPrefix){throw new Error("Invalid base64 input, it looks like a data url.")}input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");var totalLength=input.length*3/4;if(input.charAt(input.length-1)===_keyStr.charAt(64)){totalLength--}if(input.charAt(input.length-2)===_keyStr.charAt(64)){totalLength--}if(totalLength%1!==0){throw new Error("Invalid base64 input, bad content length.")}var output;if(support.uint8array){output=new Uint8Array(totalLength|0)}else{output=new Array(totalLength|0)}while(i<input.length){enc1=_keyStr.indexOf(input.charAt(i++));enc2=_keyStr.indexOf(input.charAt(i++));enc3=_keyStr.indexOf(input.charAt(i++));enc4=_keyStr.indexOf(input.charAt(i++));chr1=enc1<<2|enc2>>4;chr2=(enc2&15)<<4|enc3>>2;chr3=(enc3&3)<<6|enc4;output[resultIndex++]=chr1;if(enc3!==64){output[resultIndex++]=chr2}if(enc4!==64){output[resultIndex++]=chr3}}return output}},{"./support":30,"./utils":32}],2:[function(require,module,exports){"use strict";var external=require("./external");var DataWorker=require("./stream/DataWorker");var DataLengthProbe=require("./stream/DataLengthProbe");var Crc32Probe=require("./stream/Crc32Probe");var DataLengthProbe=require("./stream/DataLengthProbe");function CompressedObject(compressedSize,uncompressedSize,crc32,compression,data){this.compressedSize=compressedSize;this.uncompressedSize=uncompressedSize;this.crc32=crc32;this.compression=compression;this.compressedContent=data}CompressedObject.prototype={getContentWorker:function(){var worker=new DataWorker(external.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new DataLengthProbe("data_length"));var that=this;worker.on("end",function(){if(this.streamInfo["data_length"]!==that.uncompressedSize){throw new Error("Bug : uncompressed data size mismatch")}});return worker},getCompressedWorker:function(){return new DataWorker(external.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}};CompressedObject.createWorkerFrom=function(uncompressedWorker,compression,compressionOptions){return uncompressedWorker.pipe(new Crc32Probe).pipe(new DataLengthProbe("uncompressedSize")).pipe(compression.compressWorker(compressionOptions)).pipe(new DataLengthProbe("compressedSize")).withStreamInfo("compression",compression)};module.exports=CompressedObject},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(require,module,exports){"use strict";var GenericWorker=require("./stream/GenericWorker");exports.STORE={magic:"\0\0",compressWorker:function(compressionOptions){return new GenericWorker("STORE compression")},uncompressWorker:function(){return new GenericWorker("STORE decompression")}};exports.DEFLATE=require("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(require,module,exports){"use strict";var utils=require("./utils");function makeTable(){var c,table=[];for(var n=0;n<256;n++){c=n;for(var k=0;k<8;k++){c=c&1?3988292384^c>>>1:c>>>1}table[n]=c}return table}var crcTable=makeTable();function crc32(crc,buf,len,pos){var t=crcTable,end=pos+len;crc=crc^-1;for(var i=pos;i<end;i++){crc=crc>>>8^t[(crc^buf[i])&255]}return crc^-1}function crc32str(crc,str,len,pos){var t=crcTable,end=pos+len;crc=crc^-1;for(var i=pos;i<end;i++){crc=crc>>>8^t[(crc^str.charCodeAt(i))&255]}return crc^-1}module.exports=function crc32wrapper(input,crc){if(typeof input==="undefined"||!input.length){return 0}var isArray=utils.getTypeOf(input)!=="string";if(isArray){return crc32(crc|0,input,input.length,0)}else{return crc32str(crc|0,input,input.length,0)}}},{"./utils":32}],5:[function(require,module,exports){"use strict";exports.base64=false;exports.binary=false;exports.dir=false;exports.createFolders=true;exports.date=null;exports.compression=null;exports.compressionOptions=null;exports.comment=null;exports.unixPermissions=null;exports.dosPermissions=null},{}],6:[function(require,module,exports){"use strict";var ES6Promise=null;if(typeof Promise!=="undefined"){ES6Promise=Promise}else{ES6Promise=require("lie")}module.exports={Promise:ES6Promise}},{"lie":37}],7:[function(require,module,exports){"use strict";var USE_TYPEDARRAY=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Uint32Array!=="undefined";var pako=require("pako");var utils=require("./utils");var GenericWorker=require("./stream/GenericWorker");var ARRAY_TYPE=USE_TYPEDARRAY?"uint8array":"array";exports.magic="\b\0";function FlateWorker(action,options){GenericWorker.call(this,"FlateWorker/"+action);this._pako=null;this._pakoAction=action;this._pakoOptions=options;this.meta={}}utils.inherits(FlateWorker,GenericWorker);FlateWorker.prototype.processChunk=function(chunk){this.meta=chunk.meta;if(this._pako===null){this._createPako()}this._pako.push(utils.transformTo(ARRAY_TYPE,chunk.data),false)};FlateWorker.prototype.flush=function(){GenericWorker.prototype.flush.call(this);if(this._pako===null){this._createPako()}this._pako.push([],true)};FlateWorker.prototype.cleanUp=function(){GenericWorker.prototype.cleanUp.call(this);this._pako=null};FlateWorker.prototype._createPako=function(){this._pako=new pako[this._pakoAction]({raw:true,level:this._pakoOptions.level||-1});var self=this;this._pako.onData=function(data){self.push({data:data,meta:self.meta})}};exports.compressWorker=function(compressionOptions){return new FlateWorker("Deflate",compressionOptions)};exports.uncompressWorker=function(){return new FlateWorker("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,"pako":38}],8:[function(require,module,exports){"use strict";var utils=require("../utils");var GenericWorker=require("../stream/GenericWorker");var utf8=require("../utf8");var crc32=require("../crc32");var signature=require("../signature");var decToHex=function(dec,bytes){var hex="",i;for(i=0;i<bytes;i++){hex+=String.fromCharCode(dec&255);dec=dec>>>8}return hex};var generateUnixExternalFileAttr=function(unixPermissions,isDir){var result=unixPermissions;if(!unixPermissions){result=isDir?16893:33204}return(result&65535)<<16};var generateDosExternalFileAttr=function(dosPermissions,isDir){return(dosPermissions||0)&63};var generateZipParts=function(streamInfo,streamedContent,streamingEnded,offset,platform,encodeFileName){var file=streamInfo["file"],compression=streamInfo["compression"],useCustomEncoding=encodeFileName!==utf8.utf8encode,encodedFileName=utils.transformTo("string",encodeFileName(file.name)),utfEncodedFileName=utils.transformTo("string",utf8.utf8encode(file.name)),comment=file.comment,encodedComment=utils.transformTo("string",encodeFileName(comment)),utfEncodedComment=utils.transformTo("string",utf8.utf8encode(comment)),useUTF8ForFileName=utfEncodedFileName.length!==file.name.length,useUTF8ForComment=utfEncodedComment.length!==comment.length,dosTime,dosDate,extraFields="",unicodePathExtraField="",unicodeCommentExtraField="",dir=file.dir,date=file.date;var dataInfo={crc32:0,compressedSize:0,uncompressedSize:0};if(!streamedContent||streamingEnded){dataInfo.crc32=streamInfo["crc32"];dataInfo.compressedSize=streamInfo["compressedSize"];dataInfo.uncompressedSize=streamInfo["uncompressedSize"]}var bitflag=0;if(streamedContent){bitflag|=8}if(!useCustomEncoding&&(useUTF8ForFileName||useUTF8ForComment)){bitflag|=2048}var extFileAttr=0;var versionMadeBy=0;if(dir){extFileAttr|=16}if(platform==="UNIX"){versionMadeBy=798;extFileAttr|=generateUnixExternalFileAttr(file.unixPermissions,dir)}else{versionMadeBy=20;extFileAttr|=generateDosExternalFileAttr(file.dosPermissions,dir)}dosTime=date.getUTCHours();dosTime=dosTime<<6;dosTime=dosTime|date.getUTCMinutes();dosTime=dosTime<<5;dosTime=dosTime|date.getUTCSeconds()/2;dosDate=date.getUTCFullYear()-1980;dosDate=dosDate<<4;dosDate=dosDate|date.getUTCMonth()+1;dosDate=dosDate<<5;dosDate=dosDate|date.getUTCDate();if(useUTF8ForFileName){unicodePathExtraField=decToHex(1,1)+decToHex(crc32(encodedFileName),4)+utfEncodedFileName;extraFields+="up"+decToHex(unicodePathExtraField.length,2)+unicodePathExtraField}if(useUTF8ForComment){unicodeCommentExtraField=decToHex(1,1)+decToHex(crc32(encodedComment),4)+utfEncodedComment;extraFields+="uc"+decToHex(unicodeCommentExtraField.length,2)+unicodeCommentExtraField}var header="";header+="\n\0";header+=decToHex(bitflag,2);header+=compression.magic;header+=decToHex(dosTime,2);header+=decToHex(dosDate,2);header+=decToHex(dataInfo.crc32,4);header+=decToHex(dataInfo.compressedSize,4);header+=decToHex(dataInfo.uncompressedSize,4);header+=decToHex(encodedFileName.length,2);header+=decToHex(extraFields.length,2);var fileRecord=signature.LOCAL_FILE_HEADER+header+encodedFileName+extraFields;var dirRecord=signature.CENTRAL_FILE_HEADER+decToHex(versionMadeBy,2)+header+decToHex(encodedComment.length,2)+"\0\0"+"\0\0"+decToHex(extFileAttr,4)+decToHex(offset,4)+encodedFileName+extraFields+encodedComment;return{fileRecord:fileRecord,dirRecord:dirRecord}};var generateCentralDirectoryEnd=function(entriesCount,centralDirLength,localDirLength,comment,encodeFileName){var dirEnd="";var encodedComment=utils.transformTo("string",encodeFileName(comment));dirEnd=signature.CENTRAL_DIRECTORY_END+"\0\0"+"\0\0"+decToHex(entriesCount,2)+decToHex(entriesCount,2)+decToHex(centralDirLength,4)+decToHex(localDirLength,4)+decToHex(encodedComment.length,2)+encodedComment;return dirEnd};var generateDataDescriptors=function(streamInfo){var descriptor="";descriptor=signature.DATA_DESCRIPTOR+decToHex(streamInfo["crc32"],4)+decToHex(streamInfo["compressedSize"],4)+decToHex(streamInfo["uncompressedSize"],4);return descriptor};function ZipFileWorker(streamFiles,comment,platform,encodeFileName){GenericWorker.call(this,"ZipFileWorker");this.bytesWritten=0;this.zipComment=comment;this.zipPlatform=platform;this.encodeFileName=encodeFileName;this.streamFiles=streamFiles;this.accumulate=false;this.contentBuffer=[];this.dirRecords=[];this.currentSourceOffset=0;this.entriesCount=0;this.currentFile=null;this._sources=[]}utils.inherits(ZipFileWorker,GenericWorker);ZipFileWorker.prototype.push=function(chunk){var currentFilePercent=chunk.meta.percent||0;var entriesCount=this.entriesCount;var remainingFiles=this._sources.length;if(this.accumulate){this.contentBuffer.push(chunk)}else{this.bytesWritten+=chunk.data.length;GenericWorker.prototype.push.call(this,{data:chunk.data,meta:{currentFile:this.currentFile,percent:entriesCount?(currentFilePercent+100*(entriesCount-remainingFiles-1))/entriesCount:100}})}};ZipFileWorker.prototype.openedSource=function(streamInfo){this.currentSourceOffset=this.bytesWritten;this.currentFile=streamInfo["file"].name;var streamedContent=this.streamFiles&&!streamInfo["file"].dir;if(streamedContent){var record=generateZipParts(streamInfo,streamedContent,false,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:record.fileRecord,meta:{percent:0}})}else{this.accumulate=true}};ZipFileWorker.prototype.closedSource=function(streamInfo){this.accumulate=false;var streamedContent=this.streamFiles&&!streamInfo["file"].dir;var record=generateZipParts(streamInfo,streamedContent,true,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.dirRecords.push(record.dirRecord);if(streamedContent){this.push({data:generateDataDescriptors(streamInfo),meta:{percent:100}})}else{this.push({data:record.fileRecord,meta:{percent:0}});while(this.contentBuffer.length){this.push(this.contentBuffer.shift())}}this.currentFile=null};ZipFileWorker.prototype.flush=function(){var localDirLength=this.bytesWritten;for(var i=0;i<this.dirRecords.length;i++){this.push({data:this.dirRecords[i],meta:{percent:100}})}var centralDirLength=this.bytesWritten-localDirLength;var dirEnd=generateCentralDirectoryEnd(this.dirRecords.length,centralDirLength,localDirLength,this.zipComment,this.encodeFileName);this.push({data:dirEnd,meta:{percent:100}})};ZipFileWorker.prototype.prepareNextSource=function(){this.previous=this._sources.shift();this.openedSource(this.previous.streamInfo);if(this.isPaused){this.previous.pause()}else{this.previous.resume()}};ZipFileWorker.prototype.registerPrevious=function(previous){this._sources.push(previous);var self=this;previous.on("data",function(chunk){self.processChunk(chunk)});previous.on("end",function(){self.closedSource(self.previous.streamInfo);if(self._sources.length){self.prepareNextSource()}else{self.end()}});previous.on("error",function(e){self.error(e)});return this};ZipFileWorker.prototype.resume=function(){if(!GenericWorker.prototype.resume.call(this)){return false}if(!this.previous&&this._sources.length){this.prepareNextSource();return true}if(!this.previous&&!this._sources.length&&!this.generatedError){this.end();return true}};ZipFileWorker.prototype.error=function(e){var sources=this._sources;if(!GenericWorker.prototype.error.call(this,e)){return false}for(var i=0;i<sources.length;i++){try{sources[i].error(e)}catch(e){}}return true};ZipFileWorker.prototype.lock=function(){GenericWorker.prototype.lock.call(this);var sources=this._sources;for(var i=0;i<sources.length;i++){sources[i].lock()}};module.exports=ZipFileWorker},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(require,module,exports){"use strict";var compressions=require("../compressions");var ZipFileWorker=require("./ZipFileWorker");var getCompression=function(fileCompression,zipCompression){var compressionName=fileCompression||zipCompression;var compression=compressions[compressionName];if(!compression){throw new Error(compressionName+" is not a valid compression method !")}return compression};exports.generateWorker=function(zip,options,comment){var zipFileWorker=new ZipFileWorker(options.streamFiles,comment,options.platform,options.encodeFileName);var entriesCount=0;try{zip.forEach(function(relativePath,file){entriesCount++;var compression=getCompression(file.options.compression,options.compression);var compressionOptions=file.options.compressionOptions||options.compressionOptions||{};var dir=file.dir,date=file.date;file._compressWorker(compression,compressionOptions).withStreamInfo("file",{name:relativePath,dir:dir,date:date,comment:file.comment||"",unixPermissions:file.unixPermissions,dosPermissions:file.dosPermissions}).pipe(zipFileWorker)});zipFileWorker.entriesCount=entriesCount}catch(e){zipFileWorker.error(e)}return zipFileWorker}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(require,module,exports){"use strict";function JSZip(){if(!(this instanceof JSZip)){return new JSZip}if(arguments.length){throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.")}this.files={};this.comment=null;this.root="";this.clone=function(){var newObj=new JSZip;for(var i in this){if(typeof this[i]!=="function"){newObj[i]=this[i]}}return newObj}}JSZip.prototype=require("./object");JSZip.prototype.loadAsync=require("./load");JSZip.support=require("./support");JSZip.defaults=require("./defaults");JSZip.version="3.2.0";JSZip.loadAsync=function(content,options){return new JSZip().loadAsync(content,options)};JSZip.external=require("./external");module.exports=JSZip},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(require,module,exports){"use strict";var utils=require("./utils");var external=require("./external");var utf8=require("./utf8");var utils=require("./utils");var ZipEntries=require("./zipEntries");var Crc32Probe=require("./stream/Crc32Probe");var nodejsUtils=require("./nodejsUtils");function checkEntryCRC32(zipEntry){return new external.Promise(function(resolve,reject){var worker=zipEntry.decompressed.getContentWorker().pipe(new Crc32Probe);worker.on("error",function(e){reject(e)}).on("end",function(){if(worker.streamInfo.crc32!==zipEntry.decompressed.crc32){reject(new Error("Corrupted zip : CRC32 mismatch"))}else{resolve()}}).resume()})}module.exports=function(data,options){var zip=this;options=utils.extend(options||{},{base64:false,checkCRC32:false,optimizedBinaryString:false,createFolders:false,decodeFileName:utf8.utf8decode});if(nodejsUtils.isNode&&nodejsUtils.isStream(data)){return external.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file."))}return utils.prepareContent("the loaded zip file",data,true,options.optimizedBinaryString,options.base64).then(function(data){var zipEntries=new ZipEntries(options);zipEntries.load(data);return zipEntries}).then(function checkCRC32(zipEntries){var promises=[external.Promise.resolve(zipEntries)];var files=zipEntries.files;if(options.checkCRC32){for(var i=0;i<files.length;i++){promises.push(checkEntryCRC32(files[i]))}}return external.Promise.all(promises)}).then(function addFiles(results){var zipEntries=results.shift();var files=zipEntries.files;for(var i=0;i<files.length;i++){var input=files[i];zip.file(input.fileNameStr,input.decompressed,{binary:true,optimizedBinaryString:true,date:input.date,dir:input.dir,comment:input.fileCommentStr.length?input.fileCommentStr:null,unixPermissions:input.unixPermissions,dosPermissions:input.dosPermissions,createFolders:options.createFolders})}if(zipEntries.zipComment.length){zip.comment=zipEntries.zipComment}return zip})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(require,module,exports){"use strict";var utils=require("../utils");var GenericWorker=require("../stream/GenericWorker");function NodejsStreamInputAdapter(filename,stream){GenericWorker.call(this,"Nodejs stream input adapter for "+filename);this._upstreamEnded=false;this._bindStream(stream)}utils.inherits(NodejsStreamInputAdapter,GenericWorker);NodejsStreamInputAdapter.prototype._bindStream=function(stream){var self=this;this._stream=stream;stream.pause();stream.on("data",function(chunk){self.push({data:chunk,meta:{percent:0}})}).on("error",function(e){if(self.isPaused){this.generatedError=e}else{self.error(e)}}).on("end",function(){if(self.isPaused){self._upstreamEnded=true}else{self.end()}})};NodejsStreamInputAdapter.prototype.pause=function(){if(!GenericWorker.prototype.pause.call(this)){return false}this._stream.pause();return true};NodejsStreamInputAdapter.prototype.resume=function(){if(!GenericWorker.prototype.resume.call(this)){return false}if(this._upstreamEnded){this.end()}else{this._stream.resume()}return true};module.exports=NodejsStreamInputAdapter},{"../stream/GenericWorker":28,"../utils":32}],13:[function(require,module,exports){"use strict";var Readable=require("readable-stream").Readable;var utils=require("../utils");utils.inherits(NodejsStreamOutputAdapter,Readable);function NodejsStreamOutputAdapter(helper,options,updateCb){Readable.call(this,options);this._helper=helper;var self=this;helper.on("data",function(data,meta){if(!self.push(data)){self._helper.pause()}if(updateCb){updateCb(meta)}}).on("error",function(e){self.emit("error",e)}).on("end",function(){self.push(null)})}NodejsStreamOutputAdapter.prototype._read=function(){this._helper.resume()};module.exports=NodejsStreamOutputAdapter},{"../utils":32,"readable-stream":16}],14:[function(require,module,exports){"use strict";module.exports={isNode:typeof Buffer!=="undefined",newBufferFrom:function(data,encoding){if(Buffer.from&&Buffer.from!==Uint8Array.from){return Buffer.from(data,encoding)}else{if(typeof data==="number"){throw new Error("The \"data\" argument must not be a number")}return new Buffer(data,encoding)}},allocBuffer:function(size){if(Buffer.alloc){return Buffer.alloc(size)}else{var buf=new Buffer(size);buf.fill(0);return buf}},isBuffer:function(b){return Buffer.isBuffer(b)},isStream:function(obj){return obj&&typeof obj.on==="function"&&typeof obj.pause==="function"&&typeof obj.resume==="function"}}},{}],15:[function(require,module,exports){"use strict";var utf8=require("./utf8");var utils=require("./utils");var GenericWorker=require("./stream/GenericWorker");var StreamHelper=require("./stream/StreamHelper");var defaults=require("./defaults");var CompressedObject=require("./compressedObject");var ZipObject=require("./zipObject");var generate=require("./generate");var nodejsUtils=require("./nodejsUtils");var NodejsStreamInputAdapter=require("./nodejs/NodejsStreamInputAdapter");var fileAdd=function(name,data,originalOptions){var dataType=utils.getTypeOf(data),parent;var o=utils.extend(originalOptions||{},defaults);o.date=o.date||new Date;if(o.compression!==null){o.compression=o.compression.toUpperCase()}if(typeof o.unixPermissions==="string"){o.unixPermissions=parseInt(o.unixPermissions,8)}if(o.unixPermissions&&o.unixPermissions&16384){o.dir=true}if(o.dosPermissions&&o.dosPermissions&16){o.dir=true}if(o.dir){name=forceTrailingSlash(name)}if(o.createFolders&&(parent=parentFolder(name))){folderAdd.call(this,parent,true)}var isUnicodeString=dataType==="string"&&o.binary===false&&o.base64===false;if(!originalOptions||typeof originalOptions.binary==="undefined"){o.binary=!isUnicodeString}var isCompressedEmpty=data instanceof CompressedObject&&data.uncompressedSize===0;if(isCompressedEmpty||o.dir||!data||data.length===0){o.base64=false;o.binary=true;data="";o.compression="STORE";dataType="string"}var zipObjectContent=null;if(data instanceof CompressedObject||data instanceof GenericWorker){zipObjectContent=data}else if(nodejsUtils.isNode&&nodejsUtils.isStream(data)){zipObjectContent=new NodejsStreamInputAdapter(name,data)}else{zipObjectContent=utils.prepareContent(name,data,o.binary,o.optimizedBinaryString,o.base64)}var object=new ZipObject(name,zipObjectContent,o);this.files[name]=object};var parentFolder=function(path){if(path.slice(-1)==="/"){path=path.substring(0,path.length-1)}var lastSlash=path.lastIndexOf("/");return lastSlash>0?path.substring(0,lastSlash):""};var forceTrailingSlash=function(path){if(path.slice(-1)!=="/"){path+="/"}return path};var folderAdd=function(name,createFolders){createFolders=typeof createFolders!=="undefined"?createFolders:defaults.createFolders;name=forceTrailingSlash(name);if(!this.files[name]){fileAdd.call(this,name,null,{dir:true,createFolders:createFolders})}return this.files[name]};function isRegExp(object){return Object.prototype.toString.call(object)==="[object RegExp]"}var out={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(cb){var filename,relativePath,file;for(filename in this.files){if(!this.files.hasOwnProperty(filename)){continue}file=this.files[filename];relativePath=filename.slice(this.root.length,filename.length);if(relativePath&&filename.slice(0,this.root.length)===this.root){cb(relativePath,file)}}},filter:function(search){var result=[];this.forEach(function(relativePath,entry){if(search(relativePath,entry)){result.push(entry)}});return result},file:function(name,data,o){if(arguments.length===1){if(isRegExp(name)){var regexp=name;return this.filter(function(relativePath,file){return!file.dir&&regexp.test(relativePath)})}else{var obj=this.files[this.root+name];if(obj&&!obj.dir){return obj}else{return null}}}else{name=this.root+name;fileAdd.call(this,name,data,o)}return this},folder:function(arg){if(!arg){return this}if(isRegExp(arg)){return this.filter(function(relativePath,file){return file.dir&&arg.test(relativePath)})}var name=this.root+arg;var newFolder=folderAdd.call(this,name);var ret=this.clone();ret.root=newFolder.name;return ret},remove:function(name){name=this.root+name;var file=this.files[name];if(!file){if(name.slice(-1)!=="/"){name+="/"}file=this.files[name]}if(file&&!file.dir){delete this.files[name]}else{var kids=this.filter(function(relativePath,file){return file.name.slice(0,name.length)===name});for(var i=0;i<kids.length;i++){delete this.files[kids[i].name]}}return this},generate:function(options){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(options){var worker,opts={};try{opts=utils.extend(options||{},{streamFiles:false,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:utf8.utf8encode});opts.type=opts.type.toLowerCase();opts.compression=opts.compression.toUpperCase();if(opts.type==="binarystring"){opts.type="string"}if(!opts.type){throw new Error("No output type specified.")}utils.checkSupport(opts.type);if(opts.platform==="darwin"||opts.platform==="freebsd"||opts.platform==="linux"||opts.platform==="sunos"){opts.platform="UNIX"}if(opts.platform==="win32"){opts.platform="DOS"}var comment=opts.comment||this.comment||"";worker=generate.generateWorker(this,opts,comment)}catch(e){worker=new GenericWorker("error");worker.error(e)}return new StreamHelper(worker,opts.type||"string",opts.mimeType)},generateAsync:function(options,onUpdate){return this.generateInternalStream(options).accumulate(onUpdate)},generateNodeStream:function(options,onUpdate){options=options||{};if(!options.type){options.type="nodebuffer"}return this.generateInternalStream(options).toNodejsStream(onUpdate)}};module.exports=out},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(require,module,exports){module.exports=require("stream")},{"stream":undefined}],17:[function(require,module,exports){"use strict";var DataReader=require("./DataReader");var utils=require("../utils");function ArrayReader(data){DataReader.call(this,data);for(var i=0;i<this.data.length;i++){data[i]=data[i]&255}}utils.inherits(ArrayReader,DataReader);ArrayReader.prototype.byteAt=function(i){return this.data[this.zero+i]};ArrayReader.prototype.lastIndexOfSignature=function(sig){var sig0=sig.charCodeAt(0),sig1=sig.charCodeAt(1),sig2=sig.charCodeAt(2),sig3=sig.charCodeAt(3);for(var i=this.length-4;i>=0;--i){if(this.data[i]===sig0&&this.data[i+1]===sig1&&this.data[i+2]===sig2&&this.data[i+3]===sig3){return i-this.zero}}return-1};ArrayReader.prototype.readAndCheckSignature=function(sig){var sig0=sig.charCodeAt(0),sig1=sig.charCodeAt(1),sig2=sig.charCodeAt(2),sig3=sig.charCodeAt(3),data=this.readData(4);return sig0===data[0]&&sig1===data[1]&&sig2===data[2]&&sig3===data[3]};ArrayReader.prototype.readData=function(size){this.checkOffset(size);if(size===0){return[]}var result=this.data.slice(this.zero+this.index,this.zero+this.index+size);this.index+=size;return result};module.exports=ArrayReader},{"../utils":32,"./DataReader":18}],18:[function(require,module,exports){"use strict";var utils=require("../utils");function DataReader(data){this.data=data;this.length=data.length;this.index=0;this.zero=0}DataReader.prototype={checkOffset:function(offset){this.checkIndex(this.index+offset)},checkIndex:function(newIndex){if(this.length<this.zero+newIndex||newIndex<0){throw new Error("End of data reached (data length = "+this.length+", asked index = "+newIndex+"). Corrupted zip ?")}},setIndex:function(newIndex){this.checkIndex(newIndex);this.index=newIndex},skip:function(n){this.setIndex(this.index+n)},byteAt:function(i){},readInt:function(size){var result=0,i;this.checkOffset(size);for(i=this.index+size-1;i>=this.index;i--){result=(result<<8)+this.byteAt(i)}this.index+=size;return result},readString:function(size){return utils.transformTo("string",this.readData(size))},readData:function(size){},lastIndexOfSignature:function(sig){},readAndCheckSignature:function(sig){},readDate:function(){var dostime=this.readInt(4);return new Date(Date.UTC((dostime>>25&127)+1980,(dostime>>21&15)-1,dostime>>16&31,dostime>>11&31,dostime>>5&63,(dostime&31)<<1))}};module.exports=DataReader},{"../utils":32}],19:[function(require,module,exports){"use strict";var Uint8ArrayReader=require("./Uint8ArrayReader");var utils=require("../utils");function NodeBufferReader(data){Uint8ArrayReader.call(this,data)}utils.inherits(NodeBufferReader,Uint8ArrayReader);NodeBufferReader.prototype.readData=function(size){this.checkOffset(size);var result=this.data.slice(this.zero+this.index,this.zero+this.index+size);this.index+=size;return result};module.exports=NodeBufferReader},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(require,module,exports){"use strict";var DataReader=require("./DataReader");var utils=require("../utils");function StringReader(data){DataReader.call(this,data)}utils.inherits(StringReader,DataReader);StringReader.prototype.byteAt=function(i){return this.data.charCodeAt(this.zero+i)};StringReader.prototype.lastIndexOfSignature=function(sig){return this.data.lastIndexOf(sig)-this.zero};StringReader.prototype.readAndCheckSignature=function(sig){var data=this.readData(4);return sig===data};StringReader.prototype.readData=function(size){this.checkOffset(size);var result=this.data.slice(this.zero+this.index,this.zero+this.index+size);this.index+=size;return result};module.exports=StringReader},{"../utils":32,"./DataReader":18}],21:[function(require,module,exports){"use strict";var ArrayReader=require("./ArrayReader");var utils=require("../utils");function Uint8ArrayReader(data){ArrayReader.call(this,data)}utils.inherits(Uint8ArrayReader,ArrayReader);Uint8ArrayReader.prototype.readData=function(size){this.checkOffset(size);if(size===0){return new Uint8Array(0)}var result=this.data.subarray(this.zero+this.index,this.zero+this.index+size);this.index+=size;return result};module.exports=Uint8ArrayReader},{"../utils":32,"./ArrayReader":17}],22:[function(require,module,exports){"use strict";var utils=require("../utils");var support=require("../support");var ArrayReader=require("./ArrayReader");var StringReader=require("./StringReader");var NodeBufferReader=require("./NodeBufferReader");var Uint8ArrayReader=require("./Uint8ArrayReader");module.exports=function(data){var type=utils.getTypeOf(data);utils.checkSupport(type);if(type==="string"&&!support.uint8array){return new StringReader(data)}if(type==="nodebuffer"){return new NodeBufferReader(data)}if(support.uint8array){return new Uint8ArrayReader(utils.transformTo("uint8array",data))}return new ArrayReader(utils.transformTo("array",data))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(require,module,exports){"use strict";exports.LOCAL_FILE_HEADER="PK\x03\x04";exports.CENTRAL_FILE_HEADER="PK\x01\x02";exports.CENTRAL_DIRECTORY_END="PK\x05\x06";exports.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07";exports.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06";exports.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(require,module,exports){"use strict";var GenericWorker=require("./GenericWorker");var utils=require("../utils");function ConvertWorker(destType){GenericWorker.call(this,"ConvertWorker to "+destType);this.destType=destType}utils.inherits(ConvertWorker,GenericWorker);ConvertWorker.prototype.processChunk=function(chunk){this.push({data:utils.transformTo(this.destType,chunk.data),meta:chunk.meta})};module.exports=ConvertWorker},{"../utils":32,"./GenericWorker":28}],25:[function(require,module,exports){"use strict";var GenericWorker=require("./GenericWorker");var crc32=require("../crc32");var utils=require("../utils");function Crc32Probe(){GenericWorker.call(this,"Crc32Probe");this.withStreamInfo("crc32",0)}utils.inherits(Crc32Probe,GenericWorker);Crc32Probe.prototype.processChunk=function(chunk){this.streamInfo.crc32=crc32(chunk.data,this.streamInfo.crc32||0);this.push(chunk)};module.exports=Crc32Probe},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(require,module,exports){"use strict";var utils=require("../utils");var GenericWorker=require("./GenericWorker");function DataLengthProbe(propName){GenericWorker.call(this,"DataLengthProbe for "+propName);this.propName=propName;this.withStreamInfo(propName,0)}utils.inherits(DataLengthProbe,GenericWorker);DataLengthProbe.prototype.processChunk=function(chunk){if(chunk){var length=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=length+chunk.data.length}GenericWorker.prototype.processChunk.call(this,chunk)};module.exports=DataLengthProbe},{"../utils":32,"./GenericWorker":28}],27:[function(require,module,exports){"use strict";var utils=require("../utils");var GenericWorker=require("./GenericWorker");var DEFAULT_BLOCK_SIZE=16*1024;function DataWorker(dataP){GenericWorker.call(this,"DataWorker");var self=this;this.dataIsReady=false;this.index=0;this.max=0;this.data=null;this.type="";this._tickScheduled=false;dataP.then(function(data){self.dataIsReady=true;self.data=data;self.max=data&&data.length||0;self.type=utils.getTypeOf(data);if(!self.isPaused){self._tickAndRepeat()}},function(e){self.error(e)})}utils.inherits(DataWorker,GenericWorker);DataWorker.prototype.cleanUp=function(){GenericWorker.prototype.cleanUp.call(this);this.data=null};DataWorker.prototype.resume=function(){if(!GenericWorker.prototype.resume.call(this)){return false}if(!this._tickScheduled&&this.dataIsReady){this._tickScheduled=true;utils.delay(this._tickAndRepeat,[],this)}return true};DataWorker.prototype._tickAndRepeat=function(){this._tickScheduled=false;if(this.isPaused||this.isFinished){return}this._tick();if(!this.isFinished){utils.delay(this._tickAndRepeat,[],this);this._tickScheduled=true}};DataWorker.prototype._tick=function(){if(this.isPaused||this.isFinished){return false}var size=DEFAULT_BLOCK_SIZE;var data=null,nextIndex=Math.min(this.max,this.index+size);if(this.index>=this.max){return this.end()}else{switch(this.type){case"string":data=this.data.substring(this.index,nextIndex);break;case"uint8array":data=this.data.subarray(this.index,nextIndex);break;case"array":case"nodebuffer":data=this.data.slice(this.index,nextIndex);break;}this.index=nextIndex;return this.push({data:data,meta:{percent:this.max?this.index/this.max*100:0}})}};module.exports=DataWorker},{"../utils":32,"./GenericWorker":28}],28:[function(require,module,exports){"use strict";function GenericWorker(name){this.name=name||"default";this.streamInfo={};this.generatedError=null;this.extraStreamInfo={};this.isPaused=true;this.isFinished=false;this.isLocked=false;this._listeners={"data":[],"end":[],"error":[]};this.previous=null}GenericWorker.prototype={push:function(chunk){this.emit("data",chunk)},end:function(){if(this.isFinished){return false}this.flush();try{this.emit("end");this.cleanUp();this.isFinished=true}catch(e){this.emit("error",e)}return true},error:function(e){if(this.isFinished){return false}if(this.isPaused){this.generatedError=e}else{this.isFinished=true;this.emit("error",e);if(this.previous){this.previous.error(e)}this.cleanUp()}return true},on:function(name,listener){this._listeners[name].push(listener);return this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null;this._listeners=[]},emit:function(name,arg){if(this._listeners[name]){for(var i=0;i<this._listeners[name].length;i++){this._listeners[name][i].call(this,arg)}}},pipe:function(next){return next.registerPrevious(this)},registerPrevious:function(previous){if(this.isLocked){throw new Error("The stream '"+this+"' has already been used.")}this.streamInfo=previous.streamInfo;this.mergeStreamInfo();this.previous=previous;var self=this;previous.on("data",function(chunk){self.processChunk(chunk)});previous.on("end",function(){self.end()});previous.on("error",function(e){self.error(e)});return this},pause:function(){if(this.isPaused||this.isFinished){return false}this.isPaused=true;if(this.previous){this.previous.pause()}return true},resume:function(){if(!this.isPaused||this.isFinished){return false}this.isPaused=false;var withError=false;if(this.generatedError){this.error(this.generatedError);withError=true}if(this.previous){this.previous.resume()}return!withError},flush:function(){},processChunk:function(chunk){this.push(chunk)},withStreamInfo:function(key,value){this.extraStreamInfo[key]=value;this.mergeStreamInfo();return this},mergeStreamInfo:function(){for(var key in this.extraStreamInfo){if(!this.extraStreamInfo.hasOwnProperty(key)){continue}this.streamInfo[key]=this.extraStreamInfo[key]}},lock:function(){if(this.isLocked){throw new Error("The stream '"+this+"' has already been used.")}this.isLocked=true;if(this.previous){this.previous.lock()}},toString:function(){var me="Worker "+this.name;if(this.previous){return this.previous+" -> "+me}else{return me}}};module.exports=GenericWorker},{}],29:[function(require,module,exports){"use strict";var utils=require("../utils");var ConvertWorker=require("./ConvertWorker");var GenericWorker=require("./GenericWorker");var base64=require("../base64");var support=require("../support");var external=require("../external");var NodejsStreamOutputAdapter=null;if(support.nodestream){try{NodejsStreamOutputAdapter=require("../nodejs/NodejsStreamOutputAdapter")}catch(e){}}function transformZipOutput(type,content,mimeType){switch(type){case"blob":return utils.newBlob(utils.transformTo("arraybuffer",content),mimeType);case"base64":return base64.encode(content);default:return utils.transformTo(type,content);}}function concat(type,dataArray){var i,index=0,res=null,totalLength=0;for(i=0;i<dataArray.length;i++){totalLength+=dataArray[i].length}switch(type){case"string":return dataArray.join("");case"array":return Array.prototype.concat.apply([],dataArray);case"uint8array":res=new Uint8Array(totalLength);for(i=0;i<dataArray.length;i++){res.set(dataArray[i],index);index+=dataArray[i].length}return res;case"nodebuffer":return Buffer.concat(dataArray);default:throw new Error("concat : unsupported type '"+type+"'");}}function accumulate(helper,updateCallback){return new external.Promise(function(resolve,reject){var dataArray=[];var chunkType=helper._internalType,resultType=helper._outputType,mimeType=helper._mimeType;helper.on("data",function(data,meta){dataArray.push(data);if(updateCallback){updateCallback(meta)}}).on("error",function(err){dataArray=[];reject(err)}).on("end",function(){try{var result=transformZipOutput(resultType,concat(chunkType,dataArray),mimeType);resolve(result)}catch(e){reject(e)}dataArray=[]}).resume()})}function StreamHelper(worker,outputType,mimeType){var internalType=outputType;switch(outputType){case"blob":case"arraybuffer":internalType="uint8array";break;case"base64":internalType="string";break;}try{this._internalType=internalType;this._outputType=outputType;this._mimeType=mimeType;utils.checkSupport(internalType);this._worker=worker.pipe(new ConvertWorker(internalType));worker.lock()}catch(e){this._worker=new GenericWorker("error");this._worker.error(e)}}StreamHelper.prototype={accumulate:function(updateCb){return accumulate(this,updateCb)},on:function(evt,fn){var self=this;if(evt==="data"){this._worker.on(evt,function(chunk){fn.call(self,chunk.data,chunk.meta)})}else{this._worker.on(evt,function(){utils.delay(fn,arguments,self)})}return this},resume:function(){utils.delay(this._worker.resume,[],this._worker);return this},pause:function(){this._worker.pause();return this},toNodejsStream:function(updateCb){utils.checkSupport("nodestream");if(this._outputType!=="nodebuffer"){throw new Error(this._outputType+" is not supported by this method")}return new NodejsStreamOutputAdapter(this,{objectMode:this._outputType!=="nodebuffer"},updateCb)}};module.exports=StreamHelper},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(require,module,exports){"use strict";exports.base64=true;exports.array=true;exports.string=true;exports.arraybuffer=typeof ArrayBuffer!=="undefined"&&typeof Uint8Array!=="undefined";exports.nodebuffer=typeof Buffer!=="undefined";exports.uint8array=typeof Uint8Array!=="undefined";if(typeof ArrayBuffer==="undefined"){exports.blob=false}else{var buffer=new ArrayBuffer(0);try{exports.blob=new Blob([buffer],{type:"application/zip"}).size===0}catch(e){try{var Builder=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder;var builder=new Builder;builder.append(buffer);exports.blob=builder.getBlob("application/zip").size===0}catch(e){exports.blob=false}}}try{exports.nodestream=!!require("readable-stream").Readable}catch(e){exports.nodestream=false}},{"readable-stream":16}],31:[function(require,module,exports){"use strict";var utils=require("./utils");var support=require("./support");var nodejsUtils=require("./nodejsUtils");var GenericWorker=require("./stream/GenericWorker");var _utf8len=new Array(256);for(var i=0;i<256;i++){_utf8len[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1}_utf8len[254]=_utf8len[254]=1;var string2buf=function(str){var buf,c,c2,m_pos,i,str_len=str.length,buf_len=0;for(m_pos=0;m_pos<str_len;m_pos++){c=str.charCodeAt(m_pos);if((c&64512)===55296&&m_pos+1<str_len){c2=str.charCodeAt(m_pos+1);if((c2&64512)===56320){c=65536+(c-55296<<10)+(c2-56320);m_pos++}}buf_len+=c<128?1:c<2048?2:c<65536?3:4}if(support.uint8array){buf=new Uint8Array(buf_len)}else{buf=new Array(buf_len)}for(i=0,m_pos=0;i<buf_len;m_pos++){c=str.charCodeAt(m_pos);if((c&64512)===55296&&m_pos+1<str_len){c2=str.charCodeAt(m_pos+1);if((c2&64512)===56320){c=65536+(c-55296<<10)+(c2-56320);m_pos++}}if(c<128){buf[i++]=c}else if(c<2048){buf[i++]=192|c>>>6;buf[i++]=128|c&63}else if(c<65536){buf[i++]=224|c>>>12;buf[i++]=128|c>>>6&63;buf[i++]=128|c&63}else{buf[i++]=240|c>>>18;buf[i++]=128|c>>>12&63;buf[i++]=128|c>>>6&63;buf[i++]=128|c&63}}return buf};var utf8border=function(buf,max){var pos;max=max||buf.length;if(max>buf.length){max=buf.length}pos=max-1;while(pos>=0&&(buf[pos]&192)===128){pos--}if(pos<0){return max}if(pos===0){return max}return pos+_utf8len[buf[pos]]>max?pos:max};var buf2string=function(buf){var str,i,out,c,c_len;var len=buf.length;var utf16buf=new Array(len*2);for(out=0,i=0;i<len;){c=buf[i++];if(c<128){utf16buf[out++]=c;continue}c_len=_utf8len[c];if(c_len>4){utf16buf[out++]=65533;i+=c_len-1;continue}c&=c_len===2?31:c_len===3?15:7;while(c_len>1&&i<len){c=c<<6|buf[i++]&63;c_len--}if(c_len>1){utf16buf[out++]=65533;continue}if(c<65536){utf16buf[out++]=c}else{c-=65536;utf16buf[out++]=55296|c>>10&1023;utf16buf[out++]=56320|c&1023}}if(utf16buf.length!==out){if(utf16buf.subarray){utf16buf=utf16buf.subarray(0,out)}else{utf16buf.length=out}}return utils.applyFromCharCode(utf16buf)};exports.utf8encode=function utf8encode(str){if(support.nodebuffer){return nodejsUtils.newBufferFrom(str,"utf-8")}return string2buf(str)};exports.utf8decode=function utf8decode(buf){if(support.nodebuffer){return utils.transformTo("nodebuffer",buf).toString("utf-8")}buf=utils.transformTo(support.uint8array?"uint8array":"array",buf);return buf2string(buf)};function Utf8DecodeWorker(){GenericWorker.call(this,"utf-8 decode");this.leftOver=null}utils.inherits(Utf8DecodeWorker,GenericWorker);Utf8DecodeWorker.prototype.processChunk=function(chunk){var data=utils.transformTo(support.uint8array?"uint8array":"array",chunk.data);if(this.leftOver&&this.leftOver.length){if(support.uint8array){var previousData=data;data=new Uint8Array(previousData.length+this.leftOver.length);data.set(this.leftOver,0);data.set(previousData,this.leftOver.length)}else{data=this.leftOver.concat(data)}this.leftOver=null}var nextBoundary=utf8border(data);var usableData=data;if(nextBoundary!==data.length){if(support.uint8array){usableData=data.subarray(0,nextBoundary);this.leftOver=data.subarray(nextBoundary,data.length)}else{usableData=data.slice(0,nextBoundary);this.leftOver=data.slice(nextBoundary,data.length)}}this.push({data:exports.utf8decode(usableData),meta:chunk.meta})};Utf8DecodeWorker.prototype.flush=function(){if(this.leftOver&&this.leftOver.length){this.push({data:exports.utf8decode(this.leftOver),meta:{}});this.leftOver=null}};exports.Utf8DecodeWorker=Utf8DecodeWorker;function Utf8EncodeWorker(){GenericWorker.call(this,"utf-8 encode")}utils.inherits(Utf8EncodeWorker,GenericWorker);Utf8EncodeWorker.prototype.processChunk=function(chunk){this.push({data:exports.utf8encode(chunk.data),meta:chunk.meta})};exports.Utf8EncodeWorker=Utf8EncodeWorker},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(require,module,exports){"use strict";var support=require("./support");var base64=require("./base64");var nodejsUtils=require("./nodejsUtils");var setImmediate=require("set-immediate-shim");var external=require("./external");function string2binary(str){var result=null;if(support.uint8array){result=new Uint8Array(str.length)}else{result=new Array(str.length)}return stringToArrayLike(str,result)}exports.newBlob=function(part,type){exports.checkSupport("blob");try{return new Blob([part],{type:type})}catch(e){try{var Builder=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder;var builder=new Builder;builder.append(part);return builder.getBlob(type)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};function identity(input){return input}function stringToArrayLike(str,array){for(var i=0;i<str.length;++i){array[i]=str.charCodeAt(i)&255}return array}var arrayToStringHelper={stringifyByChunk:function(array,type,chunk){var result=[],k=0,len=array.length;if(len<=chunk){return String.fromCharCode.apply(null,array)}while(k<len){if(type==="array"||type==="nodebuffer"){result.push(String.fromCharCode.apply(null,array.slice(k,Math.min(k+chunk,len))))}else{result.push(String.fromCharCode.apply(null,array.subarray(k,Math.min(k+chunk,len))))}k+=chunk}return result.join("")},stringifyByChar:function(array){var resultStr="";for(var i=0;i<array.length;i++){resultStr+=String.fromCharCode(array[i])}return resultStr},applyCanBeUsed:{uint8array:function(){try{return support.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(e){return false}}(),nodebuffer:function(){try{return support.nodebuffer&&String.fromCharCode.apply(null,nodejsUtils.allocBuffer(1)).length===1}catch(e){return false}}()}};function arrayLikeToString(array){var chunk=65536,type=exports.getTypeOf(array),canUseApply=true;if(type==="uint8array"){canUseApply=arrayToStringHelper.applyCanBeUsed.uint8array}else if(type==="nodebuffer"){canUseApply=arrayToStringHelper.applyCanBeUsed.nodebuffer}if(canUseApply){while(chunk>1){try{return arrayToStringHelper.stringifyByChunk(array,type,chunk)}catch(e){chunk=Math.floor(chunk/2)}}}return arrayToStringHelper.stringifyByChar(array)}exports.applyFromCharCode=arrayLikeToString;function arrayLikeToArrayLike(arrayFrom,arrayTo){for(var i=0;i<arrayFrom.length;i++){arrayTo[i]=arrayFrom[i]}return arrayTo}var transform={};transform["string"]={"string":identity,"array":function(input){return stringToArrayLike(input,new Array(input.length))},"arraybuffer":function(input){return transform["string"]["uint8array"](input).buffer},"uint8array":function(input){return stringToArrayLike(input,new Uint8Array(input.length))},"nodebuffer":function(input){return stringToArrayLike(input,nodejsUtils.allocBuffer(input.length))}};transform["array"]={"string":arrayLikeToString,"array":identity,"arraybuffer":function(input){return new Uint8Array(input).buffer},"uint8array":function(input){return new Uint8Array(input)},"nodebuffer":function(input){return nodejsUtils.newBufferFrom(input)}};transform["arraybuffer"]={"string":function(input){return arrayLikeToString(new Uint8Array(input))},"array":function(input){return arrayLikeToArrayLike(new Uint8Array(input),new Array(input.byteLength))},"arraybuffer":identity,"uint8array":function(input){return new Uint8Array(input)},"nodebuffer":function(input){return nodejsUtils.newBufferFrom(new Uint8Array(input))}};transform["uint8array"]={"string":arrayLikeToString,"array":function(input){return arrayLikeToArrayLike(input,new Array(input.length))},"arraybuffer":function(input){return input.buffer},"uint8array":identity,"nodebuffer":function(input){return nodejsUtils.newBufferFrom(input)}};transform["nodebuffer"]={"string":arrayLikeToString,"array":function(input){return arrayLikeToArrayLike(input,new Array(input.length))},"arraybuffer":function(input){return transform["nodebuffer"]["uint8array"](input).buffer},"uint8array":function(input){return arrayLikeToArrayLike(input,new Uint8Array(input.length))},"nodebuffer":identity};exports.transformTo=function(outputType,input){if(!input){input=""}if(!outputType){return input}exports.checkSupport(outputType);var inputType=exports.getTypeOf(input);var result=transform[inputType][outputType](input);return result};exports.getTypeOf=function(input){if(typeof input==="string"){return"string"}if(Object.prototype.toString.call(input)==="[object Array]"){return"array"}if(support.nodebuffer&&nodejsUtils.isBuffer(input)){return"nodebuffer"}if(support.uint8array&&input instanceof Uint8Array){return"uint8array"}if(support.arraybuffer&&input instanceof ArrayBuffer){return"arraybuffer"}};exports.checkSupport=function(type){var supported=support[type.toLowerCase()];if(!supported){throw new Error(type+" is not supported by this platform")}};exports.MAX_VALUE_16BITS=65535;exports.MAX_VALUE_32BITS=-1;exports.pretty=function(str){var res="",code,i;for(i=0;i<(str||"").length;i++){code=str.charCodeAt(i);res+="\\x"+(code<16?"0":"")+code.toString(16).toUpperCase()}return res};exports.delay=function(callback,args,self){setImmediate(function(){callback.apply(self||null,args||[])})};exports.inherits=function(ctor,superCtor){var Obj=function(){};Obj.prototype=superCtor.prototype;ctor.prototype=new Obj};exports.extend=function(){var result={},i,attr;for(i=0;i<arguments.length;i++){for(attr in arguments[i]){if(arguments[i].hasOwnProperty(attr)&&typeof result[attr]==="undefined"){result[attr]=arguments[i][attr]}}}return result};exports.prepareContent=function(name,inputData,isBinary,isOptimizedBinaryString,isBase64){var promise=external.Promise.resolve(inputData).then(function(data){var isBlob=support.blob&&(data instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(data))!==-1);if(isBlob&&typeof FileReader!=="undefined"){return new external.Promise(function(resolve,reject){var reader=new FileReader;reader.onload=function(e){resolve(e.target.result)};reader.onerror=function(e){reject(e.target.error)};reader.readAsArrayBuffer(data)})}else{return data}});return promise.then(function(data){var dataType=exports.getTypeOf(data);if(!dataType){return external.Promise.reject(new Error("Can't read the data of '"+name+"'. Is it "+"in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}if(dataType==="arraybuffer"){data=exports.transformTo("uint8array",data)}else if(dataType==="string"){if(isBase64){data=base64.decode(data)}else if(isBinary){if(isOptimizedBinaryString!==true){data=string2binary(data)}}}return data})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(require,module,exports){"use strict";var readerFor=require("./reader/readerFor");var utils=require("./utils");var sig=require("./signature");var ZipEntry=require("./zipEntry");var utf8=require("./utf8");var support=require("./support");function ZipEntries(loadOptions){this.files=[];this.loadOptions=loadOptions}ZipEntries.prototype={checkSignature:function(expectedSignature){if(!this.reader.readAndCheckSignature(expectedSignature)){this.reader.index-=4;var signature=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature "+"("+utils.pretty(signature)+", expected "+utils.pretty(expectedSignature)+")")}},isSignature:function(askedIndex,expectedSignature){var currentIndex=this.reader.index;this.reader.setIndex(askedIndex);var signature=this.reader.readString(4);var result=signature===expectedSignature;this.reader.setIndex(currentIndex);return result},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2);this.diskWithCentralDirStart=this.reader.readInt(2);this.centralDirRecordsOnThisDisk=this.reader.readInt(2);this.centralDirRecords=this.reader.readInt(2);this.centralDirSize=this.reader.readInt(4);this.centralDirOffset=this.reader.readInt(4);this.zipCommentLength=this.reader.readInt(2);var zipComment=this.reader.readData(this.zipCommentLength);var decodeParamType=support.uint8array?"uint8array":"array";var decodeContent=utils.transformTo(decodeParamType,zipComment);this.zipComment=this.loadOptions.decodeFileName(decodeContent)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8);this.reader.skip(4);this.diskNumber=this.reader.readInt(4);this.diskWithCentralDirStart=this.reader.readInt(4);this.centralDirRecordsOnThisDisk=this.reader.readInt(8);this.centralDirRecords=this.reader.readInt(8);this.centralDirSize=this.reader.readInt(8);this.centralDirOffset=this.reader.readInt(8);this.zip64ExtensibleData={};var extraDataSize=this.zip64EndOfCentralSize-44,index=0,extraFieldId,extraFieldLength,extraFieldValue;while(index<extraDataSize){extraFieldId=this.reader.readInt(2);extraFieldLength=this.reader.readInt(4);extraFieldValue=this.reader.readData(extraFieldLength);this.zip64ExtensibleData[extraFieldId]={id:extraFieldId,length:extraFieldLength,value:extraFieldValue}}},readBlockZip64EndOfCentralLocator:function(){this.diskWithZip64CentralDirStart=this.reader.readInt(4);this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8);this.disksCount=this.reader.readInt(4);if(this.disksCount>1){throw new Error("Multi-volumes zip are not supported")}},readLocalFiles:function(){var i,file;for(i=0;i<this.files.length;i++){file=this.files[i];this.reader.setIndex(file.localHeaderOffset);this.checkSignature(sig.LOCAL_FILE_HEADER);file.readLocalPart(this.reader);file.handleUTF8();file.processAttributes()}},readCentralDir:function(){var file;this.reader.setIndex(this.centralDirOffset);while(this.reader.readAndCheckSignature(sig.CENTRAL_FILE_HEADER)){file=new ZipEntry({zip64:this.zip64},this.loadOptions);file.readCentralPart(this.reader);this.files.push(file)}if(this.centralDirRecords!==this.files.length){if(this.centralDirRecords!==0&&this.files.length===0){throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)}else{}}},readEndOfCentral:function(){var offset=this.reader.lastIndexOfSignature(sig.CENTRAL_DIRECTORY_END);if(offset<0){var isGarbage=!this.isSignature(0,sig.LOCAL_FILE_HEADER);if(isGarbage){throw new Error("Can't find end of central directory : is this a zip file ? "+"If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html")}else{throw new Error("Corrupted zip: can't find end of central directory")}}this.reader.setIndex(offset);var endOfCentralDirOffset=offset;this.checkSignature(sig.CENTRAL_DIRECTORY_END);this.readBlockEndOfCentral();if(this.diskNumber===utils.MAX_VALUE_16BITS||this.diskWithCentralDirStart===utils.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===utils.MAX_VALUE_16BITS||this.centralDirRecords===utils.MAX_VALUE_16BITS||this.centralDirSize===utils.MAX_VALUE_32BITS||this.centralDirOffset===utils.MAX_VALUE_32BITS){this.zip64=true;offset=this.reader.lastIndexOfSignature(sig.ZIP64_CENTRAL_DIRECTORY_LOCATOR);if(offset<0){throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator")}this.reader.setIndex(offset);this.checkSignature(sig.ZIP64_CENTRAL_DIRECTORY_LOCATOR);this.readBlockZip64EndOfCentralLocator();if(!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,sig.ZIP64_CENTRAL_DIRECTORY_END)){this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(sig.ZIP64_CENTRAL_DIRECTORY_END);if(this.relativeOffsetEndOfZip64CentralDir<0){throw new Error("Corrupted zip: can't find the ZIP64 end of central directory")}}this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir);this.checkSignature(sig.ZIP64_CENTRAL_DIRECTORY_END);this.readBlockZip64EndOfCentral()}var expectedEndOfCentralDirOffset=this.centralDirOffset+this.centralDirSize;if(this.zip64){expectedEndOfCentralDirOffset+=20;expectedEndOfCentralDirOffset+=12+this.zip64EndOfCentralSize}var extraBytes=endOfCentralDirOffset-expectedEndOfCentralDirOffset;if(extraBytes>0){if(this.isSignature(endOfCentralDirOffset,sig.CENTRAL_FILE_HEADER)){}else{this.reader.zero=extraBytes}}else if(extraBytes<0){throw new Error("Corrupted zip: missing "+Math.abs(extraBytes)+" bytes.")}},prepareReader:function(data){this.reader=readerFor(data)},load:function(data){this.prepareReader(data);this.readEndOfCentral();this.readCentralDir();this.readLocalFiles()}};module.exports=ZipEntries},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(require,module,exports){"use strict";var readerFor=require("./reader/readerFor");var utils=require("./utils");var CompressedObject=require("./compressedObject");var crc32fn=require("./crc32");var utf8=require("./utf8");var compressions=require("./compressions");var support=require("./support");var MADE_BY_DOS=0;var MADE_BY_UNIX=3;var findCompression=function(compressionMethod){for(var method in compressions){if(!compressions.hasOwnProperty(method)){continue}if(compressions[method].magic===compressionMethod){return compressions[method]}}return null};function ZipEntry(options,loadOptions){this.options=options;this.loadOptions=loadOptions}ZipEntry.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(reader){var compression,localExtraFieldsLength;reader.skip(22);this.fileNameLength=reader.readInt(2);localExtraFieldsLength=reader.readInt(2);this.fileName=reader.readData(this.fileNameLength);reader.skip(localExtraFieldsLength);if(this.compressedSize===-1||this.uncompressedSize===-1){throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory "+"(compressedSize === -1 || uncompressedSize === -1)")}compression=findCompression(this.compressionMethod);if(compression===null){throw new Error("Corrupted zip : compression "+utils.pretty(this.compressionMethod)+" unknown (inner file : "+utils.transformTo("string",this.fileName)+")")}this.decompressed=new CompressedObject(this.compressedSize,this.uncompressedSize,this.crc32,compression,reader.readData(this.compressedSize))},readCentralPart:function(reader){this.versionMadeBy=reader.readInt(2);reader.skip(2);this.bitFlag=reader.readInt(2);this.compressionMethod=reader.readString(2);this.date=reader.readDate();this.crc32=reader.readInt(4);this.compressedSize=reader.readInt(4);this.uncompressedSize=reader.readInt(4);var fileNameLength=reader.readInt(2);this.extraFieldsLength=reader.readInt(2);this.fileCommentLength=reader.readInt(2);this.diskNumberStart=reader.readInt(2);this.internalFileAttributes=reader.readInt(2);this.externalFileAttributes=reader.readInt(4);this.localHeaderOffset=reader.readInt(4);if(this.isEncrypted()){throw new Error("Encrypted zip are not supported")}reader.skip(fileNameLength);this.readExtraFields(reader);this.parseZIP64ExtraField(reader);this.fileComment=reader.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null;this.dosPermissions=null;var madeBy=this.versionMadeBy>>8;this.dir=this.externalFileAttributes&16?true:false;if(madeBy===MADE_BY_DOS){this.dosPermissions=this.externalFileAttributes&63}if(madeBy===MADE_BY_UNIX){this.unixPermissions=this.externalFileAttributes>>16&65535}if(!this.dir&&this.fileNameStr.slice(-1)==="/"){this.dir=true}},parseZIP64ExtraField:function(reader){if(!this.extraFields[1]){return}var extraReader=readerFor(this.extraFields[1].value);if(this.uncompressedSize===utils.MAX_VALUE_32BITS){this.uncompressedSize=extraReader.readInt(8)}if(this.compressedSize===utils.MAX_VALUE_32BITS){this.compressedSize=extraReader.readInt(8)}if(this.localHeaderOffset===utils.MAX_VALUE_32BITS){this.localHeaderOffset=extraReader.readInt(8)}if(this.diskNumberStart===utils.MAX_VALUE_32BITS){this.diskNumberStart=extraReader.readInt(4)}},readExtraFields:function(reader){var end=reader.index+this.extraFieldsLength,extraFieldId,extraFieldLength,extraFieldValue;if(!this.extraFields){this.extraFields={}}while(reader.index<end){extraFieldId=reader.readInt(2);extraFieldLength=reader.readInt(2);extraFieldValue=reader.readData(extraFieldLength);this.extraFields[extraFieldId]={id:extraFieldId,length:extraFieldLength,value:extraFieldValue}}},handleUTF8:function(){var decodeParamType=support.uint8array?"uint8array":"array";if(this.useUTF8()){this.fileNameStr=utf8.utf8decode(this.fileName);this.fileCommentStr=utf8.utf8decode(this.fileComment)}else{var upath=this.findExtraFieldUnicodePath();if(upath!==null){this.fileNameStr=upath}else{var fileNameByteArray=utils.transformTo(decodeParamType,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(fileNameByteArray)}var ucomment=this.findExtraFieldUnicodeComment();if(ucomment!==null){this.fileCommentStr=ucomment}else{var commentByteArray=utils.transformTo(decodeParamType,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(commentByteArray)}}},findExtraFieldUnicodePath:function(){var upathField=this.extraFields[28789];if(upathField){var extraReader=readerFor(upathField.value);if(extraReader.readInt(1)!==1){return null}if(crc32fn(this.fileName)!==extraReader.readInt(4)){return null}return utf8.utf8decode(extraReader.readData(upathField.length-5))}return null},findExtraFieldUnicodeComment:function(){var ucommentField=this.extraFields[25461];if(ucommentField){var extraReader=readerFor(ucommentField.value);if(extraReader.readInt(1)!==1){return null}if(crc32fn(this.fileComment)!==extraReader.readInt(4)){return null}return utf8.utf8decode(extraReader.readData(ucommentField.length-5))}return null}};module.exports=ZipEntry},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(require,module,exports){"use strict";var StreamHelper=require("./stream/StreamHelper");var DataWorker=require("./stream/DataWorker");var utf8=require("./utf8");var CompressedObject=require("./compressedObject");var GenericWorker=require("./stream/GenericWorker");var ZipObject=function(name,data,options){this.name=name;this.dir=options.dir;this.date=options.date;this.comment=options.comment;this.unixPermissions=options.unixPermissions;this.dosPermissions=options.dosPermissions;this._data=data;this._dataBinary=options.binary;this.options={compression:options.compression,compressionOptions:options.compressionOptions}};ZipObject.prototype={internalStream:function(type){var result=null,outputType="string";try{if(!type){throw new Error("No output type specified.")}outputType=type.toLowerCase();var askUnicodeString=outputType==="string"||outputType==="text";if(outputType==="binarystring"||outputType==="text"){outputType="string"}result=this._decompressWorker();var isUnicodeString=!this._dataBinary;if(isUnicodeString&&!askUnicodeString){result=result.pipe(new utf8.Utf8EncodeWorker)}if(!isUnicodeString&&askUnicodeString){result=result.pipe(new utf8.Utf8DecodeWorker)}}catch(e){result=new GenericWorker("error");result.error(e)}return new StreamHelper(result,outputType,"")},async:function(type,onUpdate){return this.internalStream(type).accumulate(onUpdate)},nodeStream:function(type,onUpdate){return this.internalStream(type||"nodebuffer").toNodejsStream(onUpdate)},_compressWorker:function(compression,compressionOptions){if(this._data instanceof CompressedObject&&this._data.compression.magic===compression.magic){return this._data.getCompressedWorker()}else{var result=this._decompressWorker();if(!this._dataBinary){result=result.pipe(new utf8.Utf8EncodeWorker)}return CompressedObject.createWorkerFrom(result,compression,compressionOptions)}},_decompressWorker:function(){if(this._data instanceof CompressedObject){return this._data.getContentWorker()}else if(this._data instanceof GenericWorker){return this._data}else{return new DataWorker(this._data)}}};var removedMethods=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"];var removedFn=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")};for(var i=0;i<removedMethods.length;i++){ZipObject.prototype[removedMethods[i]]=removedFn}module.exports=ZipObject},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(require,module,exports){(function(global){"use strict";var Mutation=global.MutationObserver||global.WebKitMutationObserver;var scheduleDrain;{if(Mutation){var called=0;var observer=new Mutation(nextTick);var element=global.document.createTextNode("");observer.observe(element,{characterData:true});scheduleDrain=function(){element.data=called=++called%2}}else if(!global.setImmediate&&typeof global.MessageChannel!=="undefined"){var channel=new global.MessageChannel;channel.port1.onmessage=nextTick;scheduleDrain=function(){channel.port2.postMessage(0)}}else if("document"in global&&"onreadystatechange"in global.document.createElement("script")){scheduleDrain=function(){var scriptEl=global.document.createElement("script");scriptEl.onreadystatechange=function(){nextTick();scriptEl.onreadystatechange=null;scriptEl.parentNode.removeChild(scriptEl);scriptEl=null};global.document.documentElement.appendChild(scriptEl)}}else{scheduleDrain=function(){setTimeout(nextTick,0)}}}var draining;var queue=[];function nextTick(){draining=true;var i,oldQueue;var len=queue.length;while(len){oldQueue=queue;queue=[];i=-1;while(++i<len){oldQueue[i]()}len=queue.length}draining=false}module.exports=immediate;function immediate(task){if(queue.push(task)===1&&!draining){scheduleDrain()}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],37:[function(require,module,exports){"use strict";var immediate=require("immediate");function INTERNAL(){}var handlers={};var REJECTED=["REJECTED"];var FULFILLED=["FULFILLED"];var PENDING=["PENDING"];module.exports=Promise;function Promise(resolver){if(typeof resolver!=="function"){throw new TypeError("resolver must be a function")}this.state=PENDING;this.queue=[];this.outcome=void 0;if(resolver!==INTERNAL){safelyResolveThenable(this,resolver)}}Promise.prototype["finally"]=function(callback){if(typeof callback!=="function"){return this}var p=this.constructor;return this.then(resolve,reject);function resolve(value){function yes(){return value}return p.resolve(callback()).then(yes)}function reject(reason){function no(){throw reason}return p.resolve(callback()).then(no)}};Promise.prototype["catch"]=function(onRejected){return this.then(null,onRejected)};Promise.prototype.then=function(onFulfilled,onRejected){if(typeof onFulfilled!=="function"&&this.state===FULFILLED||typeof onRejected!=="function"&&this.state===REJECTED){return this}var promise=new this.constructor(INTERNAL);if(this.state!==PENDING){var resolver=this.state===FULFILLED?onFulfilled:onRejected;unwrap(promise,resolver,this.outcome)}else{this.queue.push(new QueueItem(promise,onFulfilled,onRejected))}return promise};function QueueItem(promise,onFulfilled,onRejected){this.promise=promise;if(typeof onFulfilled==="function"){this.onFulfilled=onFulfilled;this.callFulfilled=this.otherCallFulfilled}if(typeof onRejected==="function"){this.onRejected=onRejected;this.callRejected=this.otherCallRejected}}QueueItem.prototype.callFulfilled=function(value){handlers.resolve(this.promise,value)};QueueItem.prototype.otherCallFulfilled=function(value){unwrap(this.promise,this.onFulfilled,value)};QueueItem.prototype.callRejected=function(value){handlers.reject(this.promise,value)};QueueItem.prototype.otherCallRejected=function(value){unwrap(this.promise,this.onRejected,value)};function unwrap(promise,func,value){immediate(function(){var returnValue;try{returnValue=func(value)}catch(e){return handlers.reject(promise,e)}if(returnValue===promise){handlers.reject(promise,new TypeError("Cannot resolve promise with itself"))}else{handlers.resolve(promise,returnValue)}})}handlers.resolve=function(self,value){var result=tryCatch(getThen,value);if(result.status==="error"){return handlers.reject(self,result.value)}var thenable=result.value;if(thenable){safelyResolveThenable(self,thenable)}else{self.state=FULFILLED;self.outcome=value;var i=-1;var len=self.queue.length;while(++i<len){self.queue[i].callFulfilled(value)}}return self};handlers.reject=function(self,error){self.state=REJECTED;self.outcome=error;var i=-1;var len=self.queue.length;while(++i<len){self.queue[i].callRejected(error)}return self};function getThen(obj){var then=obj&&obj.then;if(obj&&(typeof obj==="object"||typeof obj==="function")&&typeof then==="function"){return function appyThen(){then.apply(obj,arguments)}}}function safelyResolveThenable(self,thenable){var called=false;function onError(value){if(called){return}called=true;handlers.reject(self,value)}function onSuccess(value){if(called){return}called=true;handlers.resolve(self,value)}function tryToUnwrap(){thenable(onSuccess,onError)}var result=tryCatch(tryToUnwrap);if(result.status==="error"){onError(result.value)}}function tryCatch(func,value){var out={};try{out.value=func(value);out.status="success"}catch(e){out.status="error";out.value=e}return out}Promise.resolve=resolve;function resolve(value){if(value instanceof this){return value}return handlers.resolve(new this(INTERNAL),value)}Promise.reject=reject;function reject(reason){var promise=new this(INTERNAL);return handlers.reject(promise,reason)}Promise.all=all;function all(iterable){var self=this;if(Object.prototype.toString.call(iterable)!=="[object Array]"){return this.reject(new TypeError("must be an array"))}var len=iterable.length;var called=false;if(!len){return this.resolve([])}var values=new Array(len);var resolved=0;var i=-1;var promise=new this(INTERNAL);while(++i<len){allResolver(iterable[i],i)}return promise;function allResolver(value,i){self.resolve(value).then(resolveFromAll,function(error){if(!called){called=true;handlers.reject(promise,error)}});function resolveFromAll(outValue){values[i]=outValue;if(++resolved===len&&!called){called=true;handlers.resolve(promise,values)}}}}Promise.race=race;function race(iterable){var self=this;if(Object.prototype.toString.call(iterable)!=="[object Array]"){return this.reject(new TypeError("must be an array"))}var len=iterable.length;var called=false;if(!len){return this.resolve([])}var i=-1;var promise=new this(INTERNAL);while(++i<len){resolver(iterable[i])}return promise;function resolver(value){self.resolve(value).then(function(response){if(!called){called=true;handlers.resolve(promise,response)}},function(error){if(!called){called=true;handlers.reject(promise,error)}})}}},{"immediate":36}],38:[function(require,module,exports){"use strict";var assign=require("./lib/utils/common").assign;var deflate=require("./lib/deflate");var inflate=require("./lib/inflate");var constants=require("./lib/zlib/constants");var pako={};assign(pako,deflate,inflate,constants);module.exports=pako},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(require,module,exports){"use strict";var zlib_deflate=require("./zlib/deflate");var utils=require("./utils/common");var strings=require("./utils/strings");var msg=require("./zlib/messages");var ZStream=require("./zlib/zstream");var toString=Object.prototype.toString;var Z_NO_FLUSH=0;var Z_FINISH=4;var Z_OK=0;var Z_STREAM_END=1;var Z_SYNC_FLUSH=2;var Z_DEFAULT_COMPRESSION=-1;var Z_DEFAULT_STRATEGY=0;var Z_DEFLATED=8;function Deflate(options){if(!(this instanceof Deflate))return new Deflate(options);this.options=utils.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY,to:""},options||{});var opt=this.options;if(opt.raw&&opt.windowBits>0){opt.windowBits=-opt.windowBits}else if(opt.gzip&&opt.windowBits>0&&opt.windowBits<16){opt.windowBits+=16}this.err=0;this.msg="";this.ended=false;this.chunks=[];this.strm=new ZStream;this.strm.avail_out=0;var status=zlib_deflate.deflateInit2(this.strm,opt.level,opt.method,opt.windowBits,opt.memLevel,opt.strategy);if(status!==Z_OK){throw new Error(msg[status])}if(opt.header){zlib_deflate.deflateSetHeader(this.strm,opt.header)}if(opt.dictionary){var dict;if(typeof opt.dictionary==="string"){dict=strings.string2buf(opt.dictionary)}else if(toString.call(opt.dictionary)==="[object ArrayBuffer]"){dict=new Uint8Array(opt.dictionary)}else{dict=opt.dictionary}status=zlib_deflate.deflateSetDictionary(this.strm,dict);if(status!==Z_OK){throw new Error(msg[status])}this._dict_set=true}}Deflate.prototype.push=function(data,mode){var strm=this.strm;var chunkSize=this.options.chunkSize;var status,_mode;if(this.ended){return false}_mode=mode===~~mode?mode:mode===true?Z_FINISH:Z_NO_FLUSH;if(typeof data==="string"){strm.input=strings.string2buf(data)}else if(toString.call(data)==="[object ArrayBuffer]"){strm.input=new Uint8Array(data)}else{strm.input=data}strm.next_in=0;strm.avail_in=strm.input.length;do{if(strm.avail_out===0){strm.output=new utils.Buf8(chunkSize);strm.next_out=0;strm.avail_out=chunkSize}status=zlib_deflate.deflate(strm,_mode);if(status!==Z_STREAM_END&&status!==Z_OK){this.onEnd(status);this.ended=true;return false}if(strm.avail_out===0||strm.avail_in===0&&(_mode===Z_FINISH||_mode===Z_SYNC_FLUSH)){if(this.options.to==="string"){this.onData(strings.buf2binstring(utils.shrinkBuf(strm.output,strm.next_out)))}else{this.onData(utils.shrinkBuf(strm.output,strm.next_out))}}}while((strm.avail_in>0||strm.avail_out===0)&&status!==Z_STREAM_END);if(_mode===Z_FINISH){status=zlib_deflate.deflateEnd(this.strm);this.onEnd(status);this.ended=true;return status===Z_OK}if(_mode===Z_SYNC_FLUSH){this.onEnd(Z_OK);strm.avail_out=0;return true}return true};Deflate.prototype.onData=function(chunk){this.chunks.push(chunk)};Deflate.prototype.onEnd=function(status){if(status===Z_OK){if(this.options.to==="string"){this.result=this.chunks.join("")}else{this.result=utils.flattenChunks(this.chunks)}}this.chunks=[];this.err=status;this.msg=this.strm.msg};function deflate(input,options){var deflator=new Deflate(options);deflator.push(input,true);if(deflator.err){throw deflator.msg||msg[deflator.err]}return deflator.result}function deflateRaw(input,options){options=options||{};options.raw=true;return deflate(input,options)}function gzip(input,options){options=options||{};options.gzip=true;return deflate(input,options)}exports.Deflate=Deflate;exports.deflate=deflate;exports.deflateRaw=deflateRaw;exports.gzip=gzip},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(require,module,exports){"use strict";var zlib_inflate=require("./zlib/inflate");var utils=require("./utils/common");var strings=require("./utils/strings");var c=require("./zlib/constants");var msg=require("./zlib/messages");var ZStream=require("./zlib/zstream");var GZheader=require("./zlib/gzheader");var toString=Object.prototype.toString;function Inflate(options){if(!(this instanceof Inflate))return new Inflate(options);this.options=utils.assign({chunkSize:16384,windowBits:0,to:""},options||{});var opt=this.options;if(opt.raw&&opt.windowBits>=0&&opt.windowBits<16){opt.windowBits=-opt.windowBits;if(opt.windowBits===0){opt.windowBits=-15}}if(opt.windowBits>=0&&opt.windowBits<16&&!(options&&options.windowBits)){opt.windowBits+=32}if(opt.windowBits>15&&opt.windowBits<48){if((opt.windowBits&15)===0){opt.windowBits|=15}}this.err=0;this.msg="";this.ended=false;this.chunks=[];this.strm=new ZStream;this.strm.avail_out=0;var status=zlib_inflate.inflateInit2(this.strm,opt.windowBits);if(status!==c.Z_OK){throw new Error(msg[status])}this.header=new GZheader;zlib_inflate.inflateGetHeader(this.strm,this.header)}Inflate.prototype.push=function(data,mode){var strm=this.strm;var chunkSize=this.options.chunkSize;var dictionary=this.options.dictionary;var status,_mode;var next_out_utf8,tail,utf8str;var dict;var allowBufError=false;if(this.ended){return false}_mode=mode===~~mode?mode:mode===true?c.Z_FINISH:c.Z_NO_FLUSH;if(typeof data==="string"){strm.input=strings.binstring2buf(data)}else if(toString.call(data)==="[object ArrayBuffer]"){strm.input=new Uint8Array(data)}else{strm.input=data}strm.next_in=0;strm.avail_in=strm.input.length;do{if(strm.avail_out===0){strm.output=new utils.Buf8(chunkSize);strm.next_out=0;strm.avail_out=chunkSize}status=zlib_inflate.inflate(strm,c.Z_NO_FLUSH);if(status===c.Z_NEED_DICT&&dictionary){if(typeof dictionary==="string"){dict=strings.string2buf(dictionary)}else if(toString.call(dictionary)==="[object ArrayBuffer]"){dict=new Uint8Array(dictionary)}else{dict=dictionary}status=zlib_inflate.inflateSetDictionary(this.strm,dict)}if(status===c.Z_BUF_ERROR&&allowBufError===true){status=c.Z_OK;allowBufError=false}if(status!==c.Z_STREAM_END&&status!==c.Z_OK){this.onEnd(status);this.ended=true;return false}if(strm.next_out){if(strm.avail_out===0||status===c.Z_STREAM_END||strm.avail_in===0&&(_mode===c.Z_FINISH||_mode===c.Z_SYNC_FLUSH)){if(this.options.to==="string"){next_out_utf8=strings.utf8border(strm.output,strm.next_out);tail=strm.next_out-next_out_utf8;utf8str=strings.buf2string(strm.output,next_out_utf8);strm.next_out=tail;strm.avail_out=chunkSize-tail;if(tail){utils.arraySet(strm.output,strm.output,next_out_utf8,tail,0)}this.onData(utf8str)}else{this.onData(utils.shrinkBuf(strm.output,strm.next_out))}}}if(strm.avail_in===0&&strm.avail_out===0){allowBufError=true}}while((strm.avail_in>0||strm.avail_out===0)&&status!==c.Z_STREAM_END);if(status===c.Z_STREAM_END){_mode=c.Z_FINISH}if(_mode===c.Z_FINISH){status=zlib_inflate.inflateEnd(this.strm);this.onEnd(status);this.ended=true;return status===c.Z_OK}if(_mode===c.Z_SYNC_FLUSH){this.onEnd(c.Z_OK);strm.avail_out=0;return true}return true};Inflate.prototype.onData=function(chunk){this.chunks.push(chunk)};Inflate.prototype.onEnd=function(status){if(status===c.Z_OK){if(this.options.to==="string"){this.result=this.chunks.join("")}else{this.result=utils.flattenChunks(this.chunks)}}this.chunks=[];this.err=status;this.msg=this.strm.msg};function inflate(input,options){var inflator=new Inflate(options);inflator.push(input,true);if(inflator.err){throw inflator.msg||msg[inflator.err]}return inflator.result}function inflateRaw(input,options){options=options||{};options.raw=true;return inflate(input,options)}exports.Inflate=Inflate;exports.inflate=inflate;exports.inflateRaw=inflateRaw;exports.ungzip=inflate},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(require,module,exports){"use strict";var TYPED_OK=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Int32Array!=="undefined";exports.assign=function(obj){var sources=Array.prototype.slice.call(arguments,1);while(sources.length){var source=sources.shift();if(!source){continue}if(typeof source!=="object"){throw new TypeError(source+"must be non-object")}for(var p in source){if(source.hasOwnProperty(p)){obj[p]=source[p]}}}return obj};exports.shrinkBuf=function(buf,size){if(buf.length===size){return buf}if(buf.subarray){return buf.subarray(0,size)}buf.length=size;return buf};var fnTyped={arraySet:function(dest,src,src_offs,len,dest_offs){if(src.subarray&&dest.subarray){dest.set(src.subarray(src_offs,src_offs+len),dest_offs);return}for(var i=0;i<len;i++){dest[dest_offs+i]=src[src_offs+i]}},flattenChunks:function(chunks){var i,l,len,pos,chunk,result;len=0;for(i=0,l=chunks.length;i<l;i++){len+=chunks[i].length}result=new Uint8Array(len);pos=0;for(i=0,l=chunks.length;i<l;i++){chunk=chunks[i];result.set(chunk,pos);pos+=chunk.length}return result}};var fnUntyped={arraySet:function(dest,src,src_offs,len,dest_offs){for(var i=0;i<len;i++){dest[dest_offs+i]=src[src_offs+i]}},flattenChunks:function(chunks){return[].concat.apply([],chunks)}};exports.setTyped=function(on){if(on){exports.Buf8=Uint8Array;exports.Buf16=Uint16Array;exports.Buf32=Int32Array;exports.assign(exports,fnTyped)}else{exports.Buf8=Array;exports.Buf16=Array;exports.Buf32=Array;exports.assign(exports,fnUntyped)}};exports.setTyped(TYPED_OK)},{}],42:[function(require,module,exports){"use strict";var utils=require("./common");var STR_APPLY_OK=true;var STR_APPLY_UIA_OK=true;try{String.fromCharCode.apply(null,[0])}catch(__){STR_APPLY_OK=false}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(__){STR_APPLY_UIA_OK=false}var _utf8len=new utils.Buf8(256);for(var q=0;q<256;q++){_utf8len[q]=q>=252?6:q>=248?5:q>=240?4:q>=224?3:q>=192?2:1}_utf8len[254]=_utf8len[254]=1;exports.string2buf=function(str){var buf,c,c2,m_pos,i,str_len=str.length,buf_len=0;for(m_pos=0;m_pos<str_len;m_pos++){c=str.charCodeAt(m_pos);if((c&64512)===55296&&m_pos+1<str_len){c2=str.charCodeAt(m_pos+1);if((c2&64512)===56320){c=65536+(c-55296<<10)+(c2-56320);m_pos++}}buf_len+=c<128?1:c<2048?2:c<65536?3:4}buf=new utils.Buf8(buf_len);for(i=0,m_pos=0;i<buf_len;m_pos++){c=str.charCodeAt(m_pos);if((c&64512)===55296&&m_pos+1<str_len){c2=str.charCodeAt(m_pos+1);if((c2&64512)===56320){c=65536+(c-55296<<10)+(c2-56320);m_pos++}}if(c<128){buf[i++]=c}else if(c<2048){buf[i++]=192|c>>>6;buf[i++]=128|c&63}else if(c<65536){buf[i++]=224|c>>>12;buf[i++]=128|c>>>6&63;buf[i++]=128|c&63}else{buf[i++]=240|c>>>18;buf[i++]=128|c>>>12&63;buf[i++]=128|c>>>6&63;buf[i++]=128|c&63}}return buf};function buf2binstring(buf,len){if(len<65537){if(buf.subarray&&STR_APPLY_UIA_OK||!buf.subarray&&STR_APPLY_OK){return String.fromCharCode.apply(null,utils.shrinkBuf(buf,len))}}var result="";for(var i=0;i<len;i++){result+=String.fromCharCode(buf[i])}return result}exports.buf2binstring=function(buf){return buf2binstring(buf,buf.length)};exports.binstring2buf=function(str){var buf=new utils.Buf8(str.length);for(var i=0,len=buf.length;i<len;i++){buf[i]=str.charCodeAt(i)}return buf};exports.buf2string=function(buf,max){var i,out,c,c_len;var len=max||buf.length;var utf16buf=new Array(len*2);for(out=0,i=0;i<len;){c=buf[i++];if(c<128){utf16buf[out++]=c;continue}c_len=_utf8len[c];if(c_len>4){utf16buf[out++]=65533;i+=c_len-1;continue}c&=c_len===2?31:c_len===3?15:7;while(c_len>1&&i<len){c=c<<6|buf[i++]&63;c_len--}if(c_len>1){utf16buf[out++]=65533;continue}if(c<65536){utf16buf[out++]=c}else{c-=65536;utf16buf[out++]=55296|c>>10&1023;utf16buf[out++]=56320|c&1023}}return buf2binstring(utf16buf,out)};exports.utf8border=function(buf,max){var pos;max=max||buf.length;if(max>buf.length){max=buf.length}pos=max-1;while(pos>=0&&(buf[pos]&192)===128){pos--}if(pos<0){return max}if(pos===0){return max}return pos+_utf8len[buf[pos]]>max?pos:max}},{"./common":41}],43:[function(require,module,exports){"use strict";function adler32(adler,buf,len,pos){var s1=adler&65535|0,s2=adler>>>16&65535|0,n=0;while(len!==0){n=len>2000?2000:len;len-=n;do{s1=s1+buf[pos++]|0;s2=s2+s1|0}while(--n);s1%=65521;s2%=65521}return s1|s2<<16|0}module.exports=adler32},{}],44:[function(require,module,exports){"use strict";module.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(require,module,exports){"use strict";function makeTable(){var c,table=[];for(var n=0;n<256;n++){c=n;for(var k=0;k<8;k++){c=c&1?3988292384^c>>>1:c>>>1}table[n]=c}return table}var crcTable=makeTable();function crc32(crc,buf,len,pos){var t=crcTable,end=pos+len;crc^=-1;for(var i=pos;i<end;i++){crc=crc>>>8^t[(crc^buf[i])&255]}return crc^-1}module.exports=crc32},{}],46:[function(require,module,exports){"use strict";var utils=require("../utils/common");var trees=require("./trees");var adler32=require("./adler32");var crc32=require("./crc32");var msg=require("./messages");var Z_NO_FLUSH=0;var Z_PARTIAL_FLUSH=1;var Z_FULL_FLUSH=3;var Z_FINISH=4;var Z_BLOCK=5;var Z_OK=0;var Z_STREAM_END=1;var Z_STREAM_ERROR=-2;var Z_DATA_ERROR=-3;var Z_BUF_ERROR=-5;var Z_DEFAULT_COMPRESSION=-1;var Z_FILTERED=1;var Z_HUFFMAN_ONLY=2;var Z_RLE=3;var Z_FIXED=4;var Z_DEFAULT_STRATEGY=0;var Z_UNKNOWN=2;var Z_DEFLATED=8;var MAX_MEM_LEVEL=9;var MAX_WBITS=15;var DEF_MEM_LEVEL=8;var LENGTH_CODES=29;var LITERALS=256;var L_CODES=LITERALS+1+LENGTH_CODES;var D_CODES=30;var BL_CODES=19;var HEAP_SIZE=2*L_CODES+1;var MAX_BITS=15;var MIN_MATCH=3;var MAX_MATCH=258;var MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1;var PRESET_DICT=32;var INIT_STATE=42;var EXTRA_STATE=69;var NAME_STATE=73;var COMMENT_STATE=91;var HCRC_STATE=103;var BUSY_STATE=113;var FINISH_STATE=666;var BS_NEED_MORE=1;var BS_BLOCK_DONE=2;var BS_FINISH_STARTED=3;var BS_FINISH_DONE=4;var OS_CODE=3;function err(strm,errorCode){strm.msg=msg[errorCode];return errorCode}function rank(f){return(f<<1)-(f>4?9:0)}function zero(buf){var len=buf.length;while(--len>=0){buf[len]=0}}function flush_pending(strm){var s=strm.state;var len=s.pending;if(len>strm.avail_out){len=strm.avail_out}if(len===0){return}utils.arraySet(strm.output,s.pending_buf,s.pending_out,len,strm.next_out);strm.next_out+=len;s.pending_out+=len;strm.total_out+=len;strm.avail_out-=len;s.pending-=len;if(s.pending===0){s.pending_out=0}}function flush_block_only(s,last){trees._tr_flush_block(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,last);s.block_start=s.strstart;flush_pending(s.strm)}function put_byte(s,b){s.pending_buf[s.pending++]=b}function putShortMSB(s,b){s.pending_buf[s.pending++]=b>>>8&255;s.pending_buf[s.pending++]=b&255}function read_buf(strm,buf,start,size){var len=strm.avail_in;if(len>size){len=size}if(len===0){return 0}strm.avail_in-=len;utils.arraySet(buf,strm.input,strm.next_in,len,start);if(strm.state.wrap===1){strm.adler=adler32(strm.adler,buf,len,start)}else if(strm.state.wrap===2){strm.adler=crc32(strm.adler,buf,len,start)}strm.next_in+=len;strm.total_in+=len;return len}function longest_match(s,cur_match){var chain_length=s.max_chain_length;var scan=s.strstart;var match;var len;var best_len=s.prev_length;var nice_match=s.nice_match;var limit=s.strstart>s.w_size-MIN_LOOKAHEAD?s.strstart-(s.w_size-MIN_LOOKAHEAD):0;var _win=s.window;var wmask=s.w_mask;var prev=s.prev;var strend=s.strstart+MAX_MATCH;var scan_end1=_win[scan+best_len-1];var scan_end=_win[scan+best_len];if(s.prev_length>=s.good_match){chain_length>>=2}if(nice_match>s.lookahead){nice_match=s.lookahead}do{match=cur_match;if(_win[match+best_len]!==scan_end||_win[match+best_len-1]!==scan_end1||_win[match]!==_win[scan]||_win[++match]!==_win[scan+1]){continue}scan+=2;match++;do{}while(_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&scan<strend);len=MAX_MATCH-(strend-scan);scan=strend-MAX_MATCH;if(len>best_len){s.match_start=cur_match;best_len=len;if(len>=nice_match){break}scan_end1=_win[scan+best_len-1];scan_end=_win[scan+best_len]}}while((cur_match=prev[cur_match&wmask])>limit&&--chain_length!==0);if(best_len<=s.lookahead){return best_len}return s.lookahead}function fill_window(s){var _w_size=s.w_size;var p,n,m,more,str;do{more=s.window_size-s.lookahead-s.strstart;if(s.strstart>=_w_size+(_w_size-MIN_LOOKAHEAD)){utils.arraySet(s.window,s.window,_w_size,_w_size,0);s.match_start-=_w_size;s.strstart-=_w_size;s.block_start-=_w_size;n=s.hash_size;p=n;do{m=s.head[--p];s.head[p]=m>=_w_size?m-_w_size:0}while(--n);n=_w_size;p=n;do{m=s.prev[--p];s.prev[p]=m>=_w_size?m-_w_size:0}while(--n);more+=_w_size}if(s.strm.avail_in===0){break}n=read_buf(s.strm,s.window,s.strstart+s.lookahead,more);s.lookahead+=n;if(s.lookahead+s.insert>=MIN_MATCH){str=s.strstart-s.insert;s.ins_h=s.window[str];s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+1])&s.hash_mask;while(s.insert){s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+MIN_MATCH-1])&s.hash_mask;s.prev[str&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=str;str++;s.insert--;if(s.lookahead+s.insert<MIN_MATCH){break}}}}while(s.lookahead<MIN_LOOKAHEAD&&s.strm.avail_in!==0)}function deflate_stored(s,flush){var max_block_size=65535;if(max_block_size>s.pending_buf_size-5){max_block_size=s.pending_buf_size-5}for(;;){if(s.lookahead<=1){fill_window(s);if(s.lookahead===0&&flush===Z_NO_FLUSH){return BS_NEED_MORE}if(s.lookahead===0){break}}s.strstart+=s.lookahead;s.lookahead=0;var max_start=s.block_start+max_block_size;if(s.strstart===0||s.strstart>=max_start){s.lookahead=s.strstart-max_start;s.strstart=max_start;flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}if(s.strstart-s.block_start>=s.w_size-MIN_LOOKAHEAD){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}}s.insert=0;if(flush===Z_FINISH){flush_block_only(s,true);if(s.strm.avail_out===0){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(s.strstart>s.block_start){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}return BS_NEED_MORE}function deflate_fast(s,flush){var hash_head;var bflush;for(;;){if(s.lookahead<MIN_LOOKAHEAD){fill_window(s);if(s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH){return BS_NEED_MORE}if(s.lookahead===0){break}}hash_head=0;if(s.lookahead>=MIN_MATCH){s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask;hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=s.strstart}if(hash_head!==0&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD){s.match_length=longest_match(s,hash_head)}if(s.match_length>=MIN_MATCH){bflush=trees._tr_tally(s,s.strstart-s.match_start,s.match_length-MIN_MATCH);s.lookahead-=s.match_length;if(s.match_length<=s.max_lazy_match&&s.lookahead>=MIN_MATCH){s.match_length--;do{s.strstart++;s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask;hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=s.strstart}while(--s.match_length!==0);s.strstart++}else{s.strstart+=s.match_length;s.match_length=0;s.ins_h=s.window[s.strstart];s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+1])&s.hash_mask}}else{bflush=trees._tr_tally(s,0,s.window[s.strstart]);s.lookahead--;s.strstart++}if(bflush){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}}s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1;if(flush===Z_FINISH){flush_block_only(s,true);if(s.strm.avail_out===0){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(s.last_lit){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}return BS_BLOCK_DONE}function deflate_slow(s,flush){var hash_head;var bflush;var max_insert;for(;;){if(s.lookahead<MIN_LOOKAHEAD){fill_window(s);if(s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH){return BS_NEED_MORE}if(s.lookahead===0){break}}hash_head=0;if(s.lookahead>=MIN_MATCH){s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask;hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=s.strstart}s.prev_length=s.match_length;s.prev_match=s.match_start;s.match_length=MIN_MATCH-1;if(hash_head!==0&&s.prev_length<s.max_lazy_match&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD){s.match_length=longest_match(s,hash_head);if(s.match_length<=5&&(s.strategy===Z_FILTERED||s.match_length===MIN_MATCH&&s.strstart-s.match_start>4096)){s.match_length=MIN_MATCH-1}}if(s.prev_length>=MIN_MATCH&&s.match_length<=s.prev_length){max_insert=s.strstart+s.lookahead-MIN_MATCH;bflush=trees._tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-MIN_MATCH);s.lookahead-=s.prev_length-1;s.prev_length-=2;do{if(++s.strstart<=max_insert){s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask;hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=s.strstart}}while(--s.prev_length!==0);s.match_available=0;s.match_length=MIN_MATCH-1;s.strstart++;if(bflush){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}}else if(s.match_available){bflush=trees._tr_tally(s,0,s.window[s.strstart-1]);if(bflush){flush_block_only(s,false)}s.strstart++;s.lookahead--;if(s.strm.avail_out===0){return BS_NEED_MORE}}else{s.match_available=1;s.strstart++;s.lookahead--}}if(s.match_available){bflush=trees._tr_tally(s,0,s.window[s.strstart-1]);s.match_available=0}s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1;if(flush===Z_FINISH){flush_block_only(s,true);if(s.strm.avail_out===0){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(s.last_lit){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}return BS_BLOCK_DONE}function deflate_rle(s,flush){var bflush;var prev;var scan,strend;var _win=s.window;for(;;){if(s.lookahead<=MAX_MATCH){fill_window(s);if(s.lookahead<=MAX_MATCH&&flush===Z_NO_FLUSH){return BS_NEED_MORE}if(s.lookahead===0){break}}s.match_length=0;if(s.lookahead>=MIN_MATCH&&s.strstart>0){scan=s.strstart-1;prev=_win[scan];if(prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]){strend=s.strstart+MAX_MATCH;do{}while(prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&scan<strend);s.match_length=MAX_MATCH-(strend-scan);if(s.match_length>s.lookahead){s.match_length=s.lookahead}}}if(s.match_length>=MIN_MATCH){bflush=trees._tr_tally(s,1,s.match_length-MIN_MATCH);s.lookahead-=s.match_length;s.strstart+=s.match_length;s.match_length=0}else{bflush=trees._tr_tally(s,0,s.window[s.strstart]);s.lookahead--;s.strstart++}if(bflush){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}}s.insert=0;if(flush===Z_FINISH){flush_block_only(s,true);if(s.strm.avail_out===0){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(s.last_lit){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}return BS_BLOCK_DONE}function deflate_huff(s,flush){var bflush;for(;;){if(s.lookahead===0){fill_window(s);if(s.lookahead===0){if(flush===Z_NO_FLUSH){return BS_NEED_MORE}break}}s.match_length=0;bflush=trees._tr_tally(s,0,s.window[s.strstart]);s.lookahead--;s.strstart++;if(bflush){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}}s.insert=0;if(flush===Z_FINISH){flush_block_only(s,true);if(s.strm.avail_out===0){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(s.last_lit){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}return BS_BLOCK_DONE}function Config(good_length,max_lazy,nice_length,max_chain,func){this.good_length=good_length;this.max_lazy=max_lazy;this.nice_length=nice_length;this.max_chain=max_chain;this.func=func}var configuration_table;configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)];function lm_init(s){s.window_size=2*s.w_size;zero(s.head);s.max_lazy_match=configuration_table[s.level].max_lazy;s.good_match=configuration_table[s.level].good_length;s.nice_match=configuration_table[s.level].nice_length;s.max_chain_length=configuration_table[s.level].max_chain;s.strstart=0;s.block_start=0;s.lookahead=0;s.insert=0;s.match_length=s.prev_length=MIN_MATCH-1;s.match_available=0;s.ins_h=0}function DeflateState(){this.strm=null;this.status=0;this.pending_buf=null;this.pending_buf_size=0;this.pending_out=0;this.pending=0;this.wrap=0;this.gzhead=null;this.gzindex=0;this.method=Z_DEFLATED;this.last_flush=-1;this.w_size=0;this.w_bits=0;this.w_mask=0;this.window=null;this.window_size=0;this.prev=null;this.head=null;this.ins_h=0;this.hash_size=0;this.hash_bits=0;this.hash_mask=0;this.hash_shift=0;this.block_start=0;this.match_length=0;this.prev_match=0;this.match_available=0;this.strstart=0;this.match_start=0;this.lookahead=0;this.prev_length=0;this.max_chain_length=0;this.max_lazy_match=0;this.level=0;this.strategy=0;this.good_match=0;this.nice_match=0;this.dyn_ltree=new utils.Buf16(HEAP_SIZE*2);this.dyn_dtree=new utils.Buf16((2*D_CODES+1)*2);this.bl_tree=new utils.Buf16((2*BL_CODES+1)*2);zero(this.dyn_ltree);zero(this.dyn_dtree);zero(this.bl_tree);this.l_desc=null;this.d_desc=null;this.bl_desc=null;this.bl_count=new utils.Buf16(MAX_BITS+1);this.heap=new utils.Buf16(2*L_CODES+1);zero(this.heap);this.heap_len=0;this.heap_max=0;this.depth=new utils.Buf16(2*L_CODES+1);zero(this.depth);this.l_buf=0;this.lit_bufsize=0;this.last_lit=0;this.d_buf=0;this.opt_len=0;this.static_len=0;this.matches=0;this.insert=0;this.bi_buf=0;this.bi_valid=0}function deflateResetKeep(strm){var s;if(!strm||!strm.state){return err(strm,Z_STREAM_ERROR)}strm.total_in=strm.total_out=0;strm.data_type=Z_UNKNOWN;s=strm.state;s.pending=0;s.pending_out=0;if(s.wrap<0){s.wrap=-s.wrap}s.status=s.wrap?INIT_STATE:BUSY_STATE;strm.adler=s.wrap===2?0:1;s.last_flush=Z_NO_FLUSH;trees._tr_init(s);return Z_OK}function deflateReset(strm){var ret=deflateResetKeep(strm);if(ret===Z_OK){lm_init(strm.state)}return ret}function deflateSetHeader(strm,head){if(!strm||!strm.state){return Z_STREAM_ERROR}if(strm.state.wrap!==2){return Z_STREAM_ERROR}strm.state.gzhead=head;return Z_OK}function deflateInit2(strm,level,method,windowBits,memLevel,strategy){if(!strm){return Z_STREAM_ERROR}var wrap=1;if(level===Z_DEFAULT_COMPRESSION){level=6}if(windowBits<0){wrap=0;windowBits=-windowBits}else if(windowBits>15){wrap=2;windowBits-=16}if(memLevel<1||memLevel>MAX_MEM_LEVEL||method!==Z_DEFLATED||windowBits<8||windowBits>15||level<0||level>9||strategy<0||strategy>Z_FIXED){return err(strm,Z_STREAM_ERROR)}if(windowBits===8){windowBits=9}var s=new DeflateState;strm.state=s;s.strm=strm;s.wrap=wrap;s.gzhead=null;s.w_bits=windowBits;s.w_size=1<<s.w_bits;s.w_mask=s.w_size-1;s.hash_bits=memLevel+7;s.hash_size=1<<s.hash_bits;s.hash_mask=s.hash_size-1;s.hash_shift=~~((s.hash_bits+MIN_MATCH-1)/MIN_MATCH);s.window=new utils.Buf8(s.w_size*2);s.head=new utils.Buf16(s.hash_size);s.prev=new utils.Buf16(s.w_size);s.lit_bufsize=1<<memLevel+6;s.pending_buf_size=s.lit_bufsize*4;s.pending_buf=new utils.Buf8(s.pending_buf_size);s.d_buf=1*s.lit_bufsize;s.l_buf=(1+2)*s.lit_bufsize;s.level=level;s.strategy=strategy;s.method=method;return deflateReset(strm)}function deflateInit(strm,level){return deflateInit2(strm,level,Z_DEFLATED,MAX_WBITS,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY)}function deflate(strm,flush){var old_flush,s;var beg,val;if(!strm||!strm.state||flush>Z_BLOCK||flush<0){return strm?err(strm,Z_STREAM_ERROR):Z_STREAM_ERROR}s=strm.state;if(!strm.output||!strm.input&&strm.avail_in!==0||s.status===FINISH_STATE&&flush!==Z_FINISH){return err(strm,strm.avail_out===0?Z_BUF_ERROR:Z_STREAM_ERROR)}s.strm=strm;old_flush=s.last_flush;s.last_flush=flush;if(s.status===INIT_STATE){if(s.wrap===2){strm.adler=0;put_byte(s,31);put_byte(s,139);put_byte(s,8);if(!s.gzhead){put_byte(s,0);put_byte(s,0);put_byte(s,0);put_byte(s,0);put_byte(s,0);put_byte(s,s.level===9?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0);put_byte(s,OS_CODE);s.status=BUSY_STATE}else{put_byte(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(!s.gzhead.extra?0:4)+(!s.gzhead.name?0:8)+(!s.gzhead.comment?0:16));put_byte(s,s.gzhead.time&255);put_byte(s,s.gzhead.time>>8&255);put_byte(s,s.gzhead.time>>16&255);put_byte(s,s.gzhead.time>>24&255);put_byte(s,s.level===9?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0);put_byte(s,s.gzhead.os&255);if(s.gzhead.extra&&s.gzhead.extra.length){put_byte(s,s.gzhead.extra.length&255);put_byte(s,s.gzhead.extra.length>>8&255)}if(s.gzhead.hcrc){strm.adler=crc32(strm.adler,s.pending_buf,s.pending,0)}s.gzindex=0;s.status=EXTRA_STATE}}else{var header=Z_DEFLATED+(s.w_bits-8<<4)<<8;var level_flags=-1;if(s.strategy>=Z_HUFFMAN_ONLY||s.level<2){level_flags=0}else if(s.level<6){level_flags=1}else if(s.level===6){level_flags=2}else{level_flags=3}header|=level_flags<<6;if(s.strstart!==0){header|=PRESET_DICT}header+=31-header%31;s.status=BUSY_STATE;putShortMSB(s,header);if(s.strstart!==0){putShortMSB(s,strm.adler>>>16);putShortMSB(s,strm.adler&65535)}strm.adler=1}}if(s.status===EXTRA_STATE){if(s.gzhead.extra){beg=s.pending;while(s.gzindex<(s.gzhead.extra.length&65535)){if(s.pending===s.pending_buf_size){if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}flush_pending(strm);beg=s.pending;if(s.pending===s.pending_buf_size){break}}put_byte(s,s.gzhead.extra[s.gzindex]&255);s.gzindex++}if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}if(s.gzindex===s.gzhead.extra.length){s.gzindex=0;s.status=NAME_STATE}}else{s.status=NAME_STATE}}if(s.status===NAME_STATE){if(s.gzhead.name){beg=s.pending;do{if(s.pending===s.pending_buf_size){if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}flush_pending(strm);beg=s.pending;if(s.pending===s.pending_buf_size){val=1;break}}if(s.gzindex<s.gzhead.name.length){val=s.gzhead.name.charCodeAt(s.gzindex++)&255}else{val=0}put_byte(s,val)}while(val!==0);if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}if(val===0){s.gzindex=0;s.status=COMMENT_STATE}}else{s.status=COMMENT_STATE}}if(s.status===COMMENT_STATE){if(s.gzhead.comment){beg=s.pending;do{if(s.pending===s.pending_buf_size){if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}flush_pending(strm);beg=s.pending;if(s.pending===s.pending_buf_size){val=1;break}}if(s.gzindex<s.gzhead.comment.length){val=s.gzhead.comment.charCodeAt(s.gzindex++)&255}else{val=0}put_byte(s,val)}while(val!==0);if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}if(val===0){s.status=HCRC_STATE}}else{s.status=HCRC_STATE}}if(s.status===HCRC_STATE){if(s.gzhead.hcrc){if(s.pending+2>s.pending_buf_size){flush_pending(strm)}if(s.pending+2<=s.pending_buf_size){put_byte(s,strm.adler&255);put_byte(s,strm.adler>>8&255);strm.adler=0;s.status=BUSY_STATE}}else{s.status=BUSY_STATE}}if(s.pending!==0){flush_pending(strm);if(strm.avail_out===0){s.last_flush=-1;return Z_OK}}else if(strm.avail_in===0&&rank(flush)<=rank(old_flush)&&flush!==Z_FINISH){return err(strm,Z_BUF_ERROR)}if(s.status===FINISH_STATE&&strm.avail_in!==0){return err(strm,Z_BUF_ERROR)}if(strm.avail_in!==0||s.lookahead!==0||flush!==Z_NO_FLUSH&&s.status!==FINISH_STATE){var bstate=s.strategy===Z_HUFFMAN_ONLY?deflate_huff(s,flush):s.strategy===Z_RLE?deflate_rle(s,flush):configuration_table[s.level].func(s,flush);if(bstate===BS_FINISH_STARTED||bstate===BS_FINISH_DONE){s.status=FINISH_STATE}if(bstate===BS_NEED_MORE||bstate===BS_FINISH_STARTED){if(strm.avail_out===0){s.last_flush=-1}return Z_OK}if(bstate===BS_BLOCK_DONE){if(flush===Z_PARTIAL_FLUSH){trees._tr_align(s)}else if(flush!==Z_BLOCK){trees._tr_stored_block(s,0,0,false);if(flush===Z_FULL_FLUSH){zero(s.head);if(s.lookahead===0){s.strstart=0;s.block_start=0;s.insert=0}}}flush_pending(strm);if(strm.avail_out===0){s.last_flush=-1;return Z_OK}}}if(flush!==Z_FINISH){return Z_OK}if(s.wrap<=0){return Z_STREAM_END}if(s.wrap===2){put_byte(s,strm.adler&255);put_byte(s,strm.adler>>8&255);put_byte(s,strm.adler>>16&255);put_byte(s,strm.adler>>24&255);put_byte(s,strm.total_in&255);put_byte(s,strm.total_in>>8&255);put_byte(s,strm.total_in>>16&255);put_byte(s,strm.total_in>>24&255)}else{putShortMSB(s,strm.adler>>>16);putShortMSB(s,strm.adler&65535)}flush_pending(strm);if(s.wrap>0){s.wrap=-s.wrap}return s.pending!==0?Z_OK:Z_STREAM_END}function deflateEnd(strm){var status;if(!strm||!strm.state){return Z_STREAM_ERROR}status=strm.state.status;if(status!==INIT_STATE&&status!==EXTRA_STATE&&status!==NAME_STATE&&status!==COMMENT_STATE&&status!==HCRC_STATE&&status!==BUSY_STATE&&status!==FINISH_STATE){return err(strm,Z_STREAM_ERROR)}strm.state=null;return status===BUSY_STATE?err(strm,Z_DATA_ERROR):Z_OK}function deflateSetDictionary(strm,dictionary){var dictLength=dictionary.length;var s;var str,n;var wrap;var avail;var next;var input;var tmpDict;if(!strm||!strm.state){return Z_STREAM_ERROR}s=strm.state;wrap=s.wrap;if(wrap===2||wrap===1&&s.status!==INIT_STATE||s.lookahead){return Z_STREAM_ERROR}if(wrap===1){strm.adler=adler32(strm.adler,dictionary,dictLength,0)}s.wrap=0;if(dictLength>=s.w_size){if(wrap===0){zero(s.head);s.strstart=0;s.block_start=0;s.insert=0}tmpDict=new utils.Buf8(s.w_size);utils.arraySet(tmpDict,dictionary,dictLength-s.w_size,s.w_size,0);dictionary=tmpDict;dictLength=s.w_size}avail=strm.avail_in;next=strm.next_in;input=strm.input;strm.avail_in=dictLength;strm.next_in=0;strm.input=dictionary;fill_window(s);while(s.lookahead>=MIN_MATCH){str=s.strstart;n=s.lookahead-(MIN_MATCH-1);do{s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+MIN_MATCH-1])&s.hash_mask;s.prev[str&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=str;str++}while(--n);s.strstart=str;s.lookahead=MIN_MATCH-1;fill_window(s)}s.strstart+=s.lookahead;s.block_start=s.strstart;s.insert=s.lookahead;s.lookahead=0;s.match_length=s.prev_length=MIN_MATCH-1;s.match_available=0;strm.next_in=next;strm.input=input;strm.avail_in=avail;s.wrap=wrap;return Z_OK}exports.deflateInit=deflateInit;exports.deflateInit2=deflateInit2;exports.deflateReset=deflateReset;exports.deflateResetKeep=deflateResetKeep;exports.deflateSetHeader=deflateSetHeader;exports.deflate=deflate;exports.deflateEnd=deflateEnd;exports.deflateSetDictionary=deflateSetDictionary;exports.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(require,module,exports){"use strict";function GZheader(){this.text=0;this.time=0;this.xflags=0;this.os=0;this.extra=null;this.extra_len=0;this.name="";this.comment="";this.hcrc=0;this.done=false}module.exports=GZheader},{}],48:[function(require,module,exports){"use strict";var BAD=30;var TYPE=12;module.exports=function inflate_fast(strm,start){var state;var _in;var last;var _out;var beg;var end;var dmax;var wsize;var whave;var wnext;var s_window;var hold;var bits;var lcode;var dcode;var lmask;var dmask;var here;var op;var len;var dist;var from;var from_source;var input,output;state=strm.state;_in=strm.next_in;input=strm.input;last=_in+(strm.avail_in-5);_out=strm.next_out;output=strm.output;beg=_out-(start-strm.avail_out);end=_out+(strm.avail_out-257);dmax=state.dmax;wsize=state.wsize;whave=state.whave;wnext=state.wnext;s_window=state.window;hold=state.hold;bits=state.bits;lcode=state.lencode;dcode=state.distcode;lmask=(1<<state.lenbits)-1;dmask=(1<<state.distbits)-1;top:do{if(bits<15){hold+=input[_in++]<<bits;bits+=8;hold+=input[_in++]<<bits;bits+=8}here=lcode[hold&lmask];dolen:for(;;){op=here>>>24;hold>>>=op;bits-=op;op=here>>>16&255;if(op===0){output[_out++]=here&65535}else if(op&16){len=here&65535;op&=15;if(op){if(bits<op){hold+=input[_in++]<<bits;bits+=8}len+=hold&(1<<op)-1;hold>>>=op;bits-=op}if(bits<15){hold+=input[_in++]<<bits;bits+=8;hold+=input[_in++]<<bits;bits+=8}here=dcode[hold&dmask];dodist:for(;;){op=here>>>24;hold>>>=op;bits-=op;op=here>>>16&255;if(op&16){dist=here&65535;op&=15;if(bits<op){hold+=input[_in++]<<bits;bits+=8;if(bits<op){hold+=input[_in++]<<bits;bits+=8}}dist+=hold&(1<<op)-1;if(dist>dmax){strm.msg="invalid distance too far back";state.mode=BAD;break top}hold>>>=op;bits-=op;op=_out-beg;if(dist>op){op=dist-op;if(op>whave){if(state.sane){strm.msg="invalid distance too far back";state.mode=BAD;break top}}from=0;from_source=s_window;if(wnext===0){from+=wsize-op;if(op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist;from_source=output}}else if(wnext<op){from+=wsize+wnext-op;op-=wnext;if(op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=0;if(wnext<len){op=wnext;len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist;from_source=output}}}else{from+=wnext-op;if(op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist;from_source=output}}while(len>2){output[_out++]=from_source[from++];output[_out++]=from_source[from++];output[_out++]=from_source[from++];len-=3}if(len){output[_out++]=from_source[from++];if(len>1){output[_out++]=from_source[from++]}}}else{from=_out-dist;do{output[_out++]=output[from++];output[_out++]=output[from++];output[_out++]=output[from++];len-=3}while(len>2);if(len){output[_out++]=output[from++];if(len>1){output[_out++]=output[from++]}}}}else if((op&64)===0){here=dcode[(here&65535)+(hold&(1<<op)-1)];continue dodist}else{strm.msg="invalid distance code";state.mode=BAD;break top}break}}else if((op&64)===0){here=lcode[(here&65535)+(hold&(1<<op)-1)];continue dolen}else if(op&32){state.mode=TYPE;break top}else{strm.msg="invalid literal/length code";state.mode=BAD;break top}break}}while(_in<last&&_out<end);len=bits>>3;_in-=len;bits-=len<<3;hold&=(1<<bits)-1;strm.next_in=_in;strm.next_out=_out;strm.avail_in=_in<last?5+(last-_in):5-(_in-last);strm.avail_out=_out<end?257+(end-_out):257-(_out-end);state.hold=hold;state.bits=bits;return}},{}],49:[function(require,module,exports){"use strict";var utils=require("../utils/common");var adler32=require("./adler32");var crc32=require("./crc32");var inflate_fast=require("./inffast");var inflate_table=require("./inftrees");var CODES=0;var LENS=1;var DISTS=2;var Z_FINISH=4;var Z_BLOCK=5;var Z_TREES=6;var Z_OK=0;var Z_STREAM_END=1;var Z_NEED_DICT=2;var Z_STREAM_ERROR=-2;var Z_DATA_ERROR=-3;var Z_MEM_ERROR=-4;var Z_BUF_ERROR=-5;var Z_DEFLATED=8;var HEAD=1;var FLAGS=2;var TIME=3;var OS=4;var EXLEN=5;var EXTRA=6;var NAME=7;var COMMENT=8;var HCRC=9;var DICTID=10;var DICT=11;var TYPE=12;var TYPEDO=13;var STORED=14;var COPY_=15;var COPY=16;var TABLE=17;var LENLENS=18;var CODELENS=19;var LEN_=20;var LEN=21;var LENEXT=22;var DIST=23;var DISTEXT=24;var MATCH=25;var LIT=26;var CHECK=27;var LENGTH=28;var DONE=29;var BAD=30;var MEM=31;var SYNC=32;var ENOUGH_LENS=852;var ENOUGH_DISTS=592;var MAX_WBITS=15;var DEF_WBITS=MAX_WBITS;function zswap32(q){return(q>>>24&255)+(q>>>8&65280)+((q&65280)<<8)+((q&255)<<24)}function InflateState(){this.mode=0;this.last=false;this.wrap=0;this.havedict=false;this.flags=0;this.dmax=0;this.check=0;this.total=0;this.head=null;this.wbits=0;this.wsize=0;this.whave=0;this.wnext=0;this.window=null;this.hold=0;this.bits=0;this.length=0;this.offset=0;this.extra=0;this.lencode=null;this.distcode=null;this.lenbits=0;this.distbits=0;this.ncode=0;this.nlen=0;this.ndist=0;this.have=0;this.next=null;this.lens=new utils.Buf16(320);this.work=new utils.Buf16(288);this.lendyn=null;this.distdyn=null;this.sane=0;this.back=0;this.was=0}function inflateResetKeep(strm){var state;if(!strm||!strm.state){return Z_STREAM_ERROR}state=strm.state;strm.total_in=strm.total_out=state.total=0;strm.msg="";if(state.wrap){strm.adler=state.wrap&1}state.mode=HEAD;state.last=0;state.havedict=0;state.dmax=32768;state.head=null;state.hold=0;state.bits=0;state.lencode=state.lendyn=new utils.Buf32(ENOUGH_LENS);state.distcode=state.distdyn=new utils.Buf32(ENOUGH_DISTS);state.sane=1;state.back=-1;return Z_OK}function inflateReset(strm){var state;if(!strm||!strm.state){return Z_STREAM_ERROR}state=strm.state;state.wsize=0;state.whave=0;state.wnext=0;return inflateResetKeep(strm)}function inflateReset2(strm,windowBits){var wrap;var state;if(!strm||!strm.state){return Z_STREAM_ERROR}state=strm.state;if(windowBits<0){wrap=0;windowBits=-windowBits}else{wrap=(windowBits>>4)+1;if(windowBits<48){windowBits&=15}}if(windowBits&&(windowBits<8||windowBits>15)){return Z_STREAM_ERROR}if(state.window!==null&&state.wbits!==windowBits){state.window=null}state.wrap=wrap;state.wbits=windowBits;return inflateReset(strm)}function inflateInit2(strm,windowBits){var ret;var state;if(!strm){return Z_STREAM_ERROR}state=new InflateState;strm.state=state;state.window=null;ret=inflateReset2(strm,windowBits);if(ret!==Z_OK){strm.state=null}return ret}function inflateInit(strm){return inflateInit2(strm,DEF_WBITS)}var virgin=true;var lenfix,distfix;function fixedtables(state){if(virgin){var sym;lenfix=new utils.Buf32(512);distfix=new utils.Buf32(32);sym=0;while(sym<144){state.lens[sym++]=8}while(sym<256){state.lens[sym++]=9}while(sym<280){state.lens[sym++]=7}while(sym<288){state.lens[sym++]=8}inflate_table(LENS,state.lens,0,288,lenfix,0,state.work,{bits:9});sym=0;while(sym<32){state.lens[sym++]=5}inflate_table(DISTS,state.lens,0,32,distfix,0,state.work,{bits:5});virgin=false}state.lencode=lenfix;state.lenbits=9;state.distcode=distfix;state.distbits=5}function updatewindow(strm,src,end,copy){var dist;var state=strm.state;if(state.window===null){state.wsize=1<<state.wbits;state.wnext=0;state.whave=0;state.window=new utils.Buf8(state.wsize)}if(copy>=state.wsize){utils.arraySet(state.window,src,end-state.wsize,state.wsize,0);state.wnext=0;state.whave=state.wsize}else{dist=state.wsize-state.wnext;if(dist>copy){dist=copy}utils.arraySet(state.window,src,end-copy,dist,state.wnext);copy-=dist;if(copy){utils.arraySet(state.window,src,end-copy,copy,0);state.wnext=copy;state.whave=state.wsize}else{state.wnext+=dist;if(state.wnext===state.wsize){state.wnext=0}if(state.whave<state.wsize){state.whave+=dist}}}return 0}function inflate(strm,flush){var state;var input,output;var next;var put;var have,left;var hold;var bits;var _in,_out;var copy;var from;var from_source;var here=0;var here_bits,here_op,here_val;var last_bits,last_op,last_val;var len;var ret;var hbuf=new utils.Buf8(4);var opts;var n;var order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!strm||!strm.state||!strm.output||!strm.input&&strm.avail_in!==0){return Z_STREAM_ERROR}state=strm.state;if(state.mode===TYPE){state.mode=TYPEDO}put=strm.next_out;output=strm.output;left=strm.avail_out;next=strm.next_in;input=strm.input;have=strm.avail_in;hold=state.hold;bits=state.bits;_in=have;_out=left;ret=Z_OK;inf_leave:for(;;){switch(state.mode){case HEAD:if(state.wrap===0){state.mode=TYPEDO;break}while(bits<16){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(state.wrap&2&&hold===35615){state.check=0;hbuf[0]=hold&255;hbuf[1]=hold>>>8&255;state.check=crc32(state.check,hbuf,2,0);hold=0;bits=0;state.mode=FLAGS;break}state.flags=0;if(state.head){state.head.done=false}if(!(state.wrap&1)||(((hold&255)<<8)+(hold>>8))%31){strm.msg="incorrect header check";state.mode=BAD;break}if((hold&15)!==Z_DEFLATED){strm.msg="unknown compression method";state.mode=BAD;break}hold>>>=4;bits-=4;len=(hold&15)+8;if(state.wbits===0){state.wbits=len}else if(len>state.wbits){strm.msg="invalid window size";state.mode=BAD;break}state.dmax=1<<len;strm.adler=state.check=1;state.mode=hold&512?DICTID:TYPE;hold=0;bits=0;break;case FLAGS:while(bits<16){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.flags=hold;if((state.flags&255)!==Z_DEFLATED){strm.msg="unknown compression method";state.mode=BAD;break}if(state.flags&57344){strm.msg="unknown header flags set";state.mode=BAD;break}if(state.head){state.head.text=hold>>8&1}if(state.flags&512){hbuf[0]=hold&255;hbuf[1]=hold>>>8&255;state.check=crc32(state.check,hbuf,2,0)}hold=0;bits=0;state.mode=TIME;case TIME:while(bits<32){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(state.head){state.head.time=hold}if(state.flags&512){hbuf[0]=hold&255;hbuf[1]=hold>>>8&255;hbuf[2]=hold>>>16&255;hbuf[3]=hold>>>24&255;state.check=crc32(state.check,hbuf,4,0)}hold=0;bits=0;state.mode=OS;case OS:while(bits<16){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(state.head){state.head.xflags=hold&255;state.head.os=hold>>8}if(state.flags&512){hbuf[0]=hold&255;hbuf[1]=hold>>>8&255;state.check=crc32(state.check,hbuf,2,0)}hold=0;bits=0;state.mode=EXLEN;case EXLEN:if(state.flags&1024){while(bits<16){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.length=hold;if(state.head){state.head.extra_len=hold}if(state.flags&512){hbuf[0]=hold&255;hbuf[1]=hold>>>8&255;state.check=crc32(state.check,hbuf,2,0)}hold=0;bits=0}else if(state.head){state.head.extra=null}state.mode=EXTRA;case EXTRA:if(state.flags&1024){copy=state.length;if(copy>have){copy=have}if(copy){if(state.head){len=state.head.extra_len-state.length;if(!state.head.extra){state.head.extra=new Array(state.head.extra_len)}utils.arraySet(state.head.extra,input,next,copy,len)}if(state.flags&512){state.check=crc32(state.check,input,copy,next)}have-=copy;next+=copy;state.length-=copy}if(state.length){break inf_leave}}state.length=0;state.mode=NAME;case NAME:if(state.flags&2048){if(have===0){break inf_leave}copy=0;do{len=input[next+copy++];if(state.head&&len&&state.length<65536){state.head.name+=String.fromCharCode(len)}}while(len&&copy<have);if(state.flags&512){state.check=crc32(state.check,input,copy,next)}have-=copy;next+=copy;if(len){break inf_leave}}else if(state.head){state.head.name=null}state.length=0;state.mode=COMMENT;case COMMENT:if(state.flags&4096){if(have===0){break inf_leave}copy=0;do{len=input[next+copy++];if(state.head&&len&&state.length<65536){state.head.comment+=String.fromCharCode(len)}}while(len&&copy<have);if(state.flags&512){state.check=crc32(state.check,input,copy,next)}have-=copy;next+=copy;if(len){break inf_leave}}else if(state.head){state.head.comment=null}state.mode=HCRC;case HCRC:if(state.flags&512){while(bits<16){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(hold!==(state.check&65535)){strm.msg="header crc mismatch";state.mode=BAD;break}hold=0;bits=0}if(state.head){state.head.hcrc=state.flags>>9&1;state.head.done=true}strm.adler=state.check=0;state.mode=TYPE;break;case DICTID:while(bits<32){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}strm.adler=state.check=zswap32(hold);hold=0;bits=0;state.mode=DICT;case DICT:if(state.havedict===0){strm.next_out=put;strm.avail_out=left;strm.next_in=next;strm.avail_in=have;state.hold=hold;state.bits=bits;return Z_NEED_DICT}strm.adler=state.check=1;state.mode=TYPE;case TYPE:if(flush===Z_BLOCK||flush===Z_TREES){break inf_leave}case TYPEDO:if(state.last){hold>>>=bits&7;bits-=bits&7;state.mode=CHECK;break}while(bits<3){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.last=hold&1;hold>>>=1;bits-=1;switch(hold&3){case 0:state.mode=STORED;break;case 1:fixedtables(state);state.mode=LEN_;if(flush===Z_TREES){hold>>>=2;bits-=2;break inf_leave}break;case 2:state.mode=TABLE;break;case 3:strm.msg="invalid block type";state.mode=BAD;}hold>>>=2;bits-=2;break;case STORED:hold>>>=bits&7;bits-=bits&7;while(bits<32){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if((hold&65535)!==(hold>>>16^65535)){strm.msg="invalid stored block lengths";state.mode=BAD;break}state.length=hold&65535;hold=0;bits=0;state.mode=COPY_;if(flush===Z_TREES){break inf_leave}case COPY_:state.mode=COPY;case COPY:copy=state.length;if(copy){if(copy>have){copy=have}if(copy>left){copy=left}if(copy===0){break inf_leave}utils.arraySet(output,input,next,copy,put);have-=copy;next+=copy;left-=copy;put+=copy;state.length-=copy;break}state.mode=TYPE;break;case TABLE:while(bits<14){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.nlen=(hold&31)+257;hold>>>=5;bits-=5;state.ndist=(hold&31)+1;hold>>>=5;bits-=5;state.ncode=(hold&15)+4;hold>>>=4;bits-=4;if(state.nlen>286||state.ndist>30){strm.msg="too many length or distance symbols";state.mode=BAD;break}state.have=0;state.mode=LENLENS;case LENLENS:while(state.have<state.ncode){while(bits<3){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.lens[order[state.have++]]=hold&7;hold>>>=3;bits-=3}while(state.have<19){state.lens[order[state.have++]]=0}state.lencode=state.lendyn;state.lenbits=7;opts={bits:state.lenbits};ret=inflate_table(CODES,state.lens,0,19,state.lencode,0,state.work,opts);state.lenbits=opts.bits;if(ret){strm.msg="invalid code lengths set";state.mode=BAD;break}state.have=0;state.mode=CODELENS;case CODELENS:while(state.have<state.nlen+state.ndist){for(;;){here=state.lencode[hold&(1<<state.lenbits)-1];here_bits=here>>>24;here_op=here>>>16&255;here_val=here&65535;if(here_bits<=bits){break}if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(here_val<16){hold>>>=here_bits;bits-=here_bits;state.lens[state.have++]=here_val}else{if(here_val===16){n=here_bits+2;while(bits<n){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}hold>>>=here_bits;bits-=here_bits;if(state.have===0){strm.msg="invalid bit length repeat";state.mode=BAD;break}len=state.lens[state.have-1];copy=3+(hold&3);hold>>>=2;bits-=2}else if(here_val===17){n=here_bits+3;while(bits<n){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}hold>>>=here_bits;bits-=here_bits;len=0;copy=3+(hold&7);hold>>>=3;bits-=3}else{n=here_bits+7;while(bits<n){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}hold>>>=here_bits;bits-=here_bits;len=0;copy=11+(hold&127);hold>>>=7;bits-=7}if(state.have+copy>state.nlen+state.ndist){strm.msg="invalid bit length repeat";state.mode=BAD;break}while(copy--){state.lens[state.have++]=len}}}if(state.mode===BAD){break}if(state.lens[256]===0){strm.msg="invalid code -- missing end-of-block";state.mode=BAD;break}state.lenbits=9;opts={bits:state.lenbits};ret=inflate_table(LENS,state.lens,0,state.nlen,state.lencode,0,state.work,opts);state.lenbits=opts.bits;if(ret){strm.msg="invalid literal/lengths set";state.mode=BAD;break}state.distbits=6;state.distcode=state.distdyn;opts={bits:state.distbits};ret=inflate_table(DISTS,state.lens,state.nlen,state.ndist,state.distcode,0,state.work,opts);state.distbits=opts.bits;if(ret){strm.msg="invalid distances set";state.mode=BAD;break}state.mode=LEN_;if(flush===Z_TREES){break inf_leave}case LEN_:state.mode=LEN;case LEN:if(have>=6&&left>=258){strm.next_out=put;strm.avail_out=left;strm.next_in=next;strm.avail_in=have;state.hold=hold;state.bits=bits;inflate_fast(strm,_out);put=strm.next_out;output=strm.output;left=strm.avail_out;next=strm.next_in;input=strm.input;have=strm.avail_in;hold=state.hold;bits=state.bits;if(state.mode===TYPE){state.back=-1}break}state.back=0;for(;;){here=state.lencode[hold&(1<<state.lenbits)-1];here_bits=here>>>24;here_op=here>>>16&255;here_val=here&65535;if(here_bits<=bits){break}if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(here_op&&(here_op&240)===0){last_bits=here_bits;last_op=here_op;last_val=here_val;for(;;){here=state.lencode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)];here_bits=here>>>24;here_op=here>>>16&255;here_val=here&65535;if(last_bits+here_bits<=bits){break}if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}hold>>>=last_bits;bits-=last_bits;state.back+=last_bits}hold>>>=here_bits;bits-=here_bits;state.back+=here_bits;state.length=here_val;if(here_op===0){state.mode=LIT;break}if(here_op&32){state.back=-1;state.mode=TYPE;break}if(here_op&64){strm.msg="invalid literal/length code";state.mode=BAD;break}state.extra=here_op&15;state.mode=LENEXT;case LENEXT:if(state.extra){n=state.extra;while(bits<n){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.length+=hold&(1<<state.extra)-1;hold>>>=state.extra;bits-=state.extra;state.back+=state.extra}state.was=state.length;state.mode=DIST;case DIST:for(;;){here=state.distcode[hold&(1<<state.distbits)-1];here_bits=here>>>24;here_op=here>>>16&255;here_val=here&65535;if(here_bits<=bits){break}if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if((here_op&240)===0){last_bits=here_bits;last_op=here_op;last_val=here_val;for(;;){here=state.distcode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)];here_bits=here>>>24;here_op=here>>>16&255;here_val=here&65535;if(last_bits+here_bits<=bits){break}if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}hold>>>=last_bits;bits-=last_bits;state.back+=last_bits}hold>>>=here_bits;bits-=here_bits;state.back+=here_bits;if(here_op&64){strm.msg="invalid distance code";state.mode=BAD;break}state.offset=here_val;state.extra=here_op&15;state.mode=DISTEXT;case DISTEXT:if(state.extra){n=state.extra;while(bits<n){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.offset+=hold&(1<<state.extra)-1;hold>>>=state.extra;bits-=state.extra;state.back+=state.extra}if(state.offset>state.dmax){strm.msg="invalid distance too far back";state.mode=BAD;break}state.mode=MATCH;case MATCH:if(left===0){break inf_leave}copy=_out-left;if(state.offset>copy){copy=state.offset-copy;if(copy>state.whave){if(state.sane){strm.msg="invalid distance too far back";state.mode=BAD;break}}if(copy>state.wnext){copy-=state.wnext;from=state.wsize-copy}else{from=state.wnext-copy}if(copy>state.length){copy=state.length}from_source=state.window}else{from_source=output;from=put-state.offset;copy=state.length}if(copy>left){copy=left}left-=copy;state.length-=copy;do{output[put++]=from_source[from++]}while(--copy);if(state.length===0){state.mode=LEN}break;case LIT:if(left===0){break inf_leave}output[put++]=state.length;left--;state.mode=LEN;break;case CHECK:if(state.wrap){while(bits<32){if(have===0){break inf_leave}have--;hold|=input[next++]<<bits;bits+=8}_out-=left;strm.total_out+=_out;state.total+=_out;if(_out){strm.adler=state.check=state.flags?crc32(state.check,output,_out,put-_out):adler32(state.check,output,_out,put-_out)}_out=left;if((state.flags?hold:zswap32(hold))!==state.check){strm.msg="incorrect data check";state.mode=BAD;break}hold=0;bits=0}state.mode=LENGTH;case LENGTH:if(state.wrap&&state.flags){while(bits<32){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(hold!==(state.total&4294967295)){strm.msg="incorrect length check";state.mode=BAD;break}hold=0;bits=0}state.mode=DONE;case DONE:ret=Z_STREAM_END;break inf_leave;case BAD:ret=Z_DATA_ERROR;break inf_leave;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR;}}strm.next_out=put;strm.avail_out=left;strm.next_in=next;strm.avail_in=have;state.hold=hold;state.bits=bits;if(state.wsize||_out!==strm.avail_out&&state.mode<BAD&&(state.mode<CHECK||flush!==Z_FINISH)){if(updatewindow(strm,strm.output,strm.next_out,_out-strm.avail_out)){state.mode=MEM;return Z_MEM_ERROR}}_in-=strm.avail_in;_out-=strm.avail_out;strm.total_in+=_in;strm.total_out+=_out;state.total+=_out;if(state.wrap&&_out){strm.adler=state.check=state.flags?crc32(state.check,output,_out,strm.next_out-_out):adler32(state.check,output,_out,strm.next_out-_out)}strm.data_type=state.bits+(state.last?64:0)+(state.mode===TYPE?128:0)+(state.mode===LEN_||state.mode===COPY_?256:0);if((_in===0&&_out===0||flush===Z_FINISH)&&ret===Z_OK){ret=Z_BUF_ERROR}return ret}function inflateEnd(strm){if(!strm||!strm.state){return Z_STREAM_ERROR}var state=strm.state;if(state.window){state.window=null}strm.state=null;return Z_OK}function inflateGetHeader(strm,head){var state;if(!strm||!strm.state){return Z_STREAM_ERROR}state=strm.state;if((state.wrap&2)===0){return Z_STREAM_ERROR}state.head=head;head.done=false;return Z_OK}function inflateSetDictionary(strm,dictionary){var dictLength=dictionary.length;var state;var dictid;var ret;if(!strm||!strm.state){return Z_STREAM_ERROR}state=strm.state;if(state.wrap!==0&&state.mode!==DICT){return Z_STREAM_ERROR}if(state.mode===DICT){dictid=1;dictid=adler32(dictid,dictionary,dictLength,0);if(dictid!==state.check){return Z_DATA_ERROR}}ret=updatewindow(strm,dictionary,dictLength,dictLength);if(ret){state.mode=MEM;return Z_MEM_ERROR}state.havedict=1;return Z_OK}exports.inflateReset=inflateReset;exports.inflateReset2=inflateReset2;exports.inflateResetKeep=inflateResetKeep;exports.inflateInit=inflateInit;exports.inflateInit2=inflateInit2;exports.inflate=inflate;exports.inflateEnd=inflateEnd;exports.inflateGetHeader=inflateGetHeader;exports.inflateSetDictionary=inflateSetDictionary;exports.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(require,module,exports){"use strict";var utils=require("../utils/common");var MAXBITS=15;var ENOUGH_LENS=852;var ENOUGH_DISTS=592;var CODES=0;var LENS=1;var DISTS=2;var lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0];var lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78];var dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0];var dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];module.exports=function inflate_table(type,lens,lens_index,codes,table,table_index,work,opts){var bits=opts.bits;var len=0;var sym=0;var min=0,max=0;var root=0;var curr=0;var drop=0;var left=0;var used=0;var huff=0;var incr;var fill;var low;var mask;var next;var base=null;var base_index=0;var end;var count=new utils.Buf16(MAXBITS+1);var offs=new utils.Buf16(MAXBITS+1);var extra=null;var extra_index=0;var here_bits,here_op,here_val;for(len=0;len<=MAXBITS;len++){count[len]=0}for(sym=0;sym<codes;sym++){count[lens[lens_index+sym]]++}root=bits;for(max=MAXBITS;max>=1;max--){if(count[max]!==0){break}}if(root>max){root=max}if(max===0){table[table_index++]=1<<24|64<<16|0;table[table_index++]=1<<24|64<<16|0;opts.bits=1;return 0}for(min=1;min<max;min++){if(count[min]!==0){break}}if(root<min){root=min}left=1;for(len=1;len<=MAXBITS;len++){left<<=1;left-=count[len];if(left<0){return-1}}if(left>0&&(type===CODES||max!==1)){return-1}offs[1]=0;for(len=1;len<MAXBITS;len++){offs[len+1]=offs[len]+count[len]}for(sym=0;sym<codes;sym++){if(lens[lens_index+sym]!==0){work[offs[lens[lens_index+sym]]++]=sym}}if(type===CODES){base=extra=work;end=19}else if(type===LENS){base=lbase;base_index-=257;extra=lext;extra_index-=257;end=256}else{base=dbase;extra=dext;end=-1}huff=0;sym=0;len=min;next=table_index;curr=root;drop=0;low=-1;used=1<<root;mask=used-1;if(type===LENS&&used>ENOUGH_LENS||type===DISTS&&used>ENOUGH_DISTS){return 1}for(;;){here_bits=len-drop;if(work[sym]<end){here_op=0;here_val=work[sym]}else if(work[sym]>end){here_op=extra[extra_index+work[sym]];here_val=base[base_index+work[sym]]}else{here_op=32+64;here_val=0}incr=1<<len-drop;fill=1<<curr;min=fill;do{fill-=incr;table[next+(huff>>drop)+fill]=here_bits<<24|here_op<<16|here_val|0}while(fill!==0);incr=1<<len-1;while(huff&incr){incr>>=1}if(incr!==0){huff&=incr-1;huff+=incr}else{huff=0}sym++;if(--count[len]===0){if(len===max){break}len=lens[lens_index+work[sym]]}if(len>root&&(huff&mask)!==low){if(drop===0){drop=root}next+=min;curr=len-drop;left=1<<curr;while(curr+drop<max){left-=count[curr+drop];if(left<=0){break}curr++;left<<=1}used+=1<<curr;if(type===LENS&&used>ENOUGH_LENS||type===DISTS&&used>ENOUGH_DISTS){return 1}low=huff&mask;table[low]=root<<24|curr<<16|next-table_index|0}}if(huff!==0){table[next+huff]=len-drop<<24|64<<16|0}opts.bits=root;return 0}},{"../utils/common":41}],51:[function(require,module,exports){"use strict";module.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(require,module,exports){"use strict";var utils=require("../utils/common");var Z_FIXED=4;var Z_BINARY=0;var Z_TEXT=1;var Z_UNKNOWN=2;function zero(buf){var len=buf.length;while(--len>=0){buf[len]=0}}var STORED_BLOCK=0;var STATIC_TREES=1;var DYN_TREES=2;var MIN_MATCH=3;var MAX_MATCH=258;var LENGTH_CODES=29;var LITERALS=256;var L_CODES=LITERALS+1+LENGTH_CODES;var D_CODES=30;var BL_CODES=19;var HEAP_SIZE=2*L_CODES+1;var MAX_BITS=15;var Buf_size=16;var MAX_BL_BITS=7;var END_BLOCK=256;var REP_3_6=16;var REPZ_3_10=17;var REPZ_11_138=18;var extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];var extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];var extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];var bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];var DIST_CODE_LEN=512;var static_ltree=new Array((L_CODES+2)*2);zero(static_ltree);var static_dtree=new Array(D_CODES*2);zero(static_dtree);var _dist_code=new Array(DIST_CODE_LEN);zero(_dist_code);var _length_code=new Array(MAX_MATCH-MIN_MATCH+1);zero(_length_code);var base_length=new Array(LENGTH_CODES);zero(base_length);var base_dist=new Array(D_CODES);zero(base_dist);function StaticTreeDesc(static_tree,extra_bits,extra_base,elems,max_length){this.static_tree=static_tree;this.extra_bits=extra_bits;this.extra_base=extra_base;this.elems=elems;this.max_length=max_length;this.has_stree=static_tree&&static_tree.length}var static_l_desc;var static_d_desc;var static_bl_desc;function TreeDesc(dyn_tree,stat_desc){this.dyn_tree=dyn_tree;this.max_code=0;this.stat_desc=stat_desc}function d_code(dist){return dist<256?_dist_code[dist]:_dist_code[256+(dist>>>7)]}function put_short(s,w){s.pending_buf[s.pending++]=w&255;s.pending_buf[s.pending++]=w>>>8&255}function send_bits(s,value,length){if(s.bi_valid>Buf_size-length){s.bi_buf|=value<<s.bi_valid&65535;put_short(s,s.bi_buf);s.bi_buf=value>>Buf_size-s.bi_valid;s.bi_valid+=length-Buf_size}else{s.bi_buf|=value<<s.bi_valid&65535;s.bi_valid+=length}}function send_code(s,c,tree){send_bits(s,tree[c*2],tree[c*2+1])}function bi_reverse(code,len){var res=0;do{res|=code&1;code>>>=1;res<<=1}while(--len>0);return res>>>1}function bi_flush(s){if(s.bi_valid===16){put_short(s,s.bi_buf);s.bi_buf=0;s.bi_valid=0}else if(s.bi_valid>=8){s.pending_buf[s.pending++]=s.bi_buf&255;s.bi_buf>>=8;s.bi_valid-=8}}function gen_bitlen(s,desc){var tree=desc.dyn_tree;var max_code=desc.max_code;var stree=desc.stat_desc.static_tree;var has_stree=desc.stat_desc.has_stree;var extra=desc.stat_desc.extra_bits;var base=desc.stat_desc.extra_base;var max_length=desc.stat_desc.max_length;var h;var n,m;var bits;var xbits;var f;var overflow=0;for(bits=0;bits<=MAX_BITS;bits++){s.bl_count[bits]=0}tree[s.heap[s.heap_max]*2+1]=0;for(h=s.heap_max+1;h<HEAP_SIZE;h++){n=s.heap[h];bits=tree[tree[n*2+1]*2+1]+1;if(bits>max_length){bits=max_length;overflow++}tree[n*2+1]=bits;if(n>max_code){continue}s.bl_count[bits]++;xbits=0;if(n>=base){xbits=extra[n-base]}f=tree[n*2];s.opt_len+=f*(bits+xbits);if(has_stree){s.static_len+=f*(stree[n*2+1]+xbits)}}if(overflow===0){return}do{bits=max_length-1;while(s.bl_count[bits]===0){bits--}s.bl_count[bits]--;s.bl_count[bits+1]+=2;s.bl_count[max_length]--;overflow-=2}while(overflow>0);for(bits=max_length;bits!==0;bits--){n=s.bl_count[bits];while(n!==0){m=s.heap[--h];if(m>max_code){continue}if(tree[m*2+1]!==bits){s.opt_len+=(bits-tree[m*2+1])*tree[m*2];tree[m*2+1]=bits}n--}}}function gen_codes(tree,max_code,bl_count){var next_code=new Array(MAX_BITS+1);var code=0;var bits;var n;for(bits=1;bits<=MAX_BITS;bits++){next_code[bits]=code=code+bl_count[bits-1]<<1}for(n=0;n<=max_code;n++){var len=tree[n*2+1];if(len===0){continue}tree[n*2]=bi_reverse(next_code[len]++,len)}}function tr_static_init(){var n;var bits;var length;var code;var dist;var bl_count=new Array(MAX_BITS+1);length=0;for(code=0;code<LENGTH_CODES-1;code++){base_length[code]=length;for(n=0;n<1<<extra_lbits[code];n++){_length_code[length++]=code}}_length_code[length-1]=code;dist=0;for(code=0;code<16;code++){base_dist[code]=dist;for(n=0;n<1<<extra_dbits[code];n++){_dist_code[dist++]=code}}dist>>=7;for(;code<D_CODES;code++){base_dist[code]=dist<<7;for(n=0;n<1<<extra_dbits[code]-7;n++){_dist_code[256+dist++]=code}}for(bits=0;bits<=MAX_BITS;bits++){bl_count[bits]=0}n=0;while(n<=143){static_ltree[n*2+1]=8;n++;bl_count[8]++}while(n<=255){static_ltree[n*2+1]=9;n++;bl_count[9]++}while(n<=279){static_ltree[n*2+1]=7;n++;bl_count[7]++}while(n<=287){static_ltree[n*2+1]=8;n++;bl_count[8]++}gen_codes(static_ltree,L_CODES+1,bl_count);for(n=0;n<D_CODES;n++){static_dtree[n*2+1]=5;static_dtree[n*2]=bi_reverse(n,5)}static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS+1,L_CODES,MAX_BITS);static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES,MAX_BITS);static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES,MAX_BL_BITS)}function init_block(s){var n;for(n=0;n<L_CODES;n++){s.dyn_ltree[n*2]=0}for(n=0;n<D_CODES;n++){s.dyn_dtree[n*2]=0}for(n=0;n<BL_CODES;n++){s.bl_tree[n*2]=0}s.dyn_ltree[END_BLOCK*2]=1;s.opt_len=s.static_len=0;s.last_lit=s.matches=0}function bi_windup(s){if(s.bi_valid>8){put_short(s,s.bi_buf)}else if(s.bi_valid>0){s.pending_buf[s.pending++]=s.bi_buf}s.bi_buf=0;s.bi_valid=0}function copy_block(s,buf,len,header){bi_windup(s);if(header){put_short(s,len);put_short(s,~len)}utils.arraySet(s.pending_buf,s.window,buf,len,s.pending);s.pending+=len}function smaller(tree,n,m,depth){var _n2=n*2;var _m2=m*2;return tree[_n2]<tree[_m2]||tree[_n2]===tree[_m2]&&depth[n]<=depth[m]}function pqdownheap(s,tree,k){var v=s.heap[k];var j=k<<1;while(j<=s.heap_len){if(j<s.heap_len&&smaller(tree,s.heap[j+1],s.heap[j],s.depth)){j++}if(smaller(tree,v,s.heap[j],s.depth)){break}s.heap[k]=s.heap[j];k=j;j<<=1}s.heap[k]=v}function compress_block(s,ltree,dtree){var dist;var lc;var lx=0;var code;var extra;if(s.last_lit!==0){do{dist=s.pending_buf[s.d_buf+lx*2]<<8|s.pending_buf[s.d_buf+lx*2+1];lc=s.pending_buf[s.l_buf+lx];lx++;if(dist===0){send_code(s,lc,ltree)}else{code=_length_code[lc];send_code(s,code+LITERALS+1,ltree);extra=extra_lbits[code];if(extra!==0){lc-=base_length[code];send_bits(s,lc,extra)}dist--;code=d_code(dist);send_code(s,code,dtree);extra=extra_dbits[code];if(extra!==0){dist-=base_dist[code];send_bits(s,dist,extra)}}}while(lx<s.last_lit)}send_code(s,END_BLOCK,ltree)}function build_tree(s,desc){var tree=desc.dyn_tree;var stree=desc.stat_desc.static_tree;var has_stree=desc.stat_desc.has_stree;var elems=desc.stat_desc.elems;var n,m;var max_code=-1;var node;s.heap_len=0;s.heap_max=HEAP_SIZE;for(n=0;n<elems;n++){if(tree[n*2]!==0){s.heap[++s.heap_len]=max_code=n;s.depth[n]=0}else{tree[n*2+1]=0}}while(s.heap_len<2){node=s.heap[++s.heap_len]=max_code<2?++max_code:0;tree[node*2]=1;s.depth[node]=0;s.opt_len--;if(has_stree){s.static_len-=stree[node*2+1]}}desc.max_code=max_code;for(n=s.heap_len>>1;n>=1;n--){pqdownheap(s,tree,n)}node=elems;do{n=s.heap[1];s.heap[1]=s.heap[s.heap_len--];pqdownheap(s,tree,1);m=s.heap[1];s.heap[--s.heap_max]=n;s.heap[--s.heap_max]=m;tree[node*2]=tree[n*2]+tree[m*2];s.depth[node]=(s.depth[n]>=s.depth[m]?s.depth[n]:s.depth[m])+1;tree[n*2+1]=tree[m*2+1]=node;s.heap[1]=node++;pqdownheap(s,tree,1)}while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1];gen_bitlen(s,desc);gen_codes(tree,max_code,s.bl_count)}function scan_tree(s,tree,max_code){var n;var prevlen=-1;var curlen;var nextlen=tree[0*2+1];var count=0;var max_count=7;var min_count=4;if(nextlen===0){max_count=138;min_count=3}tree[(max_code+1)*2+1]=65535;for(n=0;n<=max_code;n++){curlen=nextlen;nextlen=tree[(n+1)*2+1];if(++count<max_count&&curlen===nextlen){continue}else if(count<min_count){s.bl_tree[curlen*2]+=count}else if(curlen!==0){if(curlen!==prevlen){s.bl_tree[curlen*2]++}s.bl_tree[REP_3_6*2]++}else if(count<=10){s.bl_tree[REPZ_3_10*2]++}else{s.bl_tree[REPZ_11_138*2]++}count=0;prevlen=curlen;if(nextlen===0){max_count=138;min_count=3}else if(curlen===nextlen){max_count=6;min_count=3}else{max_count=7;min_count=4}}}function send_tree(s,tree,max_code){var n;var prevlen=-1;var curlen;var nextlen=tree[0*2+1];var count=0;var max_count=7;var min_count=4;if(nextlen===0){max_count=138;min_count=3}for(n=0;n<=max_code;n++){curlen=nextlen;nextlen=tree[(n+1)*2+1];if(++count<max_count&&curlen===nextlen){continue}else if(count<min_count){do{send_code(s,curlen,s.bl_tree)}while(--count!==0)}else if(curlen!==0){if(curlen!==prevlen){send_code(s,curlen,s.bl_tree);count--}send_code(s,REP_3_6,s.bl_tree);send_bits(s,count-3,2)}else if(count<=10){send_code(s,REPZ_3_10,s.bl_tree);send_bits(s,count-3,3)}else{send_code(s,REPZ_11_138,s.bl_tree);send_bits(s,count-11,7)}count=0;prevlen=curlen;if(nextlen===0){max_count=138;min_count=3}else if(curlen===nextlen){max_count=6;min_count=3}else{max_count=7;min_count=4}}}function build_bl_tree(s){var max_blindex;scan_tree(s,s.dyn_ltree,s.l_desc.max_code);scan_tree(s,s.dyn_dtree,s.d_desc.max_code);build_tree(s,s.bl_desc);for(max_blindex=BL_CODES-1;max_blindex>=3;max_blindex--){if(s.bl_tree[bl_order[max_blindex]*2+1]!==0){break}}s.opt_len+=3*(max_blindex+1)+5+5+4;return max_blindex}function send_all_trees(s,lcodes,dcodes,blcodes){var rank;send_bits(s,lcodes-257,5);send_bits(s,dcodes-1,5);send_bits(s,blcodes-4,4);for(rank=0;rank<blcodes;rank++){send_bits(s,s.bl_tree[bl_order[rank]*2+1],3)}send_tree(s,s.dyn_ltree,lcodes-1);send_tree(s,s.dyn_dtree,dcodes-1)}function detect_data_type(s){var black_mask=4093624447;var n;for(n=0;n<=31;n++,black_mask>>>=1){if(black_mask&1&&s.dyn_ltree[n*2]!==0){return Z_BINARY}}if(s.dyn_ltree[9*2]!==0||s.dyn_ltree[10*2]!==0||s.dyn_ltree[13*2]!==0){return Z_TEXT}for(n=32;n<LITERALS;n++){if(s.dyn_ltree[n*2]!==0){return Z_TEXT}}return Z_BINARY}var static_init_done=false;function _tr_init(s){if(!static_init_done){tr_static_init();static_init_done=true}s.l_desc=new TreeDesc(s.dyn_ltree,static_l_desc);s.d_desc=new TreeDesc(s.dyn_dtree,static_d_desc);s.bl_desc=new TreeDesc(s.bl_tree,static_bl_desc);s.bi_buf=0;s.bi_valid=0;init_block(s)}function _tr_stored_block(s,buf,stored_len,last){send_bits(s,(STORED_BLOCK<<1)+(last?1:0),3);copy_block(s,buf,stored_len,true)}function _tr_align(s){send_bits(s,STATIC_TREES<<1,3);send_code(s,END_BLOCK,static_ltree);bi_flush(s)}function _tr_flush_block(s,buf,stored_len,last){var opt_lenb,static_lenb;var max_blindex=0;if(s.level>0){if(s.strm.data_type===Z_UNKNOWN){s.strm.data_type=detect_data_type(s)}build_tree(s,s.l_desc);build_tree(s,s.d_desc);max_blindex=build_bl_tree(s);opt_lenb=s.opt_len+3+7>>>3;static_lenb=s.static_len+3+7>>>3;if(static_lenb<=opt_lenb){opt_lenb=static_lenb}}else{opt_lenb=static_lenb=stored_len+5}if(stored_len+4<=opt_lenb&&buf!==-1){_tr_stored_block(s,buf,stored_len,last)}else if(s.strategy===Z_FIXED||static_lenb===opt_lenb){send_bits(s,(STATIC_TREES<<1)+(last?1:0),3);compress_block(s,static_ltree,static_dtree)}else{send_bits(s,(DYN_TREES<<1)+(last?1:0),3);send_all_trees(s,s.l_desc.max_code+1,s.d_desc.max_code+1,max_blindex+1);compress_block(s,s.dyn_ltree,s.dyn_dtree)}init_block(s);if(last){bi_windup(s)}}function _tr_tally(s,dist,lc){s.pending_buf[s.d_buf+s.last_lit*2]=dist>>>8&255;s.pending_buf[s.d_buf+s.last_lit*2+1]=dist&255;s.pending_buf[s.l_buf+s.last_lit]=lc&255;s.last_lit++;if(dist===0){s.dyn_ltree[lc*2]++}else{s.matches++;dist--;s.dyn_ltree[(_length_code[lc]+LITERALS+1)*2]++;s.dyn_dtree[d_code(dist)*2]++}return s.last_lit===s.lit_bufsize-1}exports._tr_init=_tr_init;exports._tr_stored_block=_tr_stored_block;exports._tr_flush_block=_tr_flush_block;exports._tr_tally=_tr_tally;exports._tr_align=_tr_align},{"../utils/common":41}],53:[function(require,module,exports){"use strict";function ZStream(){this.input=null;this.next_in=0;this.avail_in=0;this.total_in=0;this.output=null;this.next_out=0;this.avail_out=0;this.total_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}module.exports=ZStream},{}],54:[function(require,module,exports){"use strict";module.exports=typeof setImmediate==="function"?setImmediate:function setImmediate(){var args=[].slice.apply(arguments);args.splice(1,0,0);setTimeout.apply(null,args)}},{}]},{},[10])(10)})})($N,$N[$E],$N[$E]);return $N[$E]}({},"exports");$N[0][$N[2]]=function($N,$E){$N[$E]={};(function(module,exports,window){!function(e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):"undefined"!=typeof window?window.JSZipUtils=e():"undefined"!=typeof global?global.JSZipUtils=e():"undefined"!=typeof self&&(self.JSZipUtils=e())}(function(){return function o(i,f,u){function s(n,e){if(!f[n]){if(!i[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(a)return a(n,!0);throw new Error("Cannot find module '"+n+"'")}var r=f[n]={exports:{}};i[n][0].call(r.exports,function(e){var t=i[n][1][e];return s(t||e)},r,r.exports,o,i,f,u)}return f[n].exports}for(var a="function"==typeof require&&require,e=0;e<u.length;e++)s(u[e]);return s}({1:[function(e,t,n){"use strict";var u={};function r(){try{return new window.XMLHttpRequest}catch(e){}}u._getBinaryFromXHR=function(e){return e.response||e.responseText};var s="undefined"!=typeof window&&window.ActiveXObject?function(){return r()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:r;u.getBinaryContent=function(t,n){var e,r,o,i;"function"==typeof(n=n||{})?(i=n,n={}):"function"==typeof n.callback&&(i=n.callback),i||"undefined"==typeof Promise?(r=function(e){i(null,e)},o=function(e){i(e,null)}):e=new Promise(function(e,t){r=e,o=t});try{var f=s();f.open("GET",t,!0),"responseType"in f&&(f.responseType="arraybuffer"),f.overrideMimeType&&f.overrideMimeType("text/plain; charset=x-user-defined"),f.onreadystatechange=function(e){if(4===f.readyState)if(200===f.status||0===f.status)try{r(u._getBinaryFromXHR(f))}catch(e){o(new Error(e))}else o(new Error("Ajax error for "+t+" : "+this.status+" "+this.statusText))},n.progress&&(f.onprogress=function(e){n.progress({path:t,originalEvent:e,percent:e.loaded/e.total*100,loaded:e.loaded,total:e.total})}),f.send()}catch(e){o(new Error(e),null)}return e},t.exports=u},{}]},{},[1])(1)})})($N,$N[$E],$N[$E]);return $N[$E]}({},"exports");$N[0][$N[3]]=function($N){function fs_JSZip(exports,data,zipWrap,JSZip,nodePath,cb){if(!(typeof JSZip!=="undefined"&&typeof JSZip.loadAsync==="function"))return;JSZip.loadAsync(data).then(function(zip){var ab2str=function ab2str(buf){return String.fromCharCode.apply(null,new Uint16Array(buf))},str2ab=function str2ab(str){var buf=new ArrayBuffer(str.length*2);var bufView=new Uint16Array(buf);for(var i=0,strLen=str.length;i<strLen;i++){bufView[i]=str.charCodeAt(i)}return buf},cwd="/";zipWrap(zip,nodePath,function(wrapped,totalBytes){var find_entry_from_path=function find_entry_from_path(path){var zip_fn=path,found=zip.files[zip_fn];if(!found){if(!(found=zip.files[zip_fn=path+"/"])){if(!(found=zip.files[zip_fn=path.substr(1)])){if(!(found=zip.files[zip_fn=zip_fn+"/"])){zip_fn=path;if(zip_fn==="/"){found={name:"/",dir:true}}}}}}return{found:found,zip_fn:zip_fn}},zip_fn_from_path=function zip_fn_from_path(path){return find_entry_from_path(path).zip_fn},zip_resolve=function zip_resolve(path){var errpath=path;path=wrapped.true_path_from_relative_path(cwd,path);var dir_basename=path.split("/"),basename=dir_basename.pop(),dirname="/"+dir_basename.filter(function(f){return f.length>0}).join("/"),find=find_entry_from_path(path);return{path:errpath,true_path:path,zip_fn:find.zip_fn,basename:basename,dirname:dirname,ext:basename.split(".").pop(),found:find.found,dir_filter:find.found&&find.found.dir?path==="/"?path:path+"/":undefined,error:function(err,code,errno,syscall){err.code=code;err.errno=errno;err.syscall=syscall;err.path=errpath;return err}}},fs_process={cwd:function getCwd(path){return cwd},chdir:function(path){var lookup=zip_resolve(path);console.log({lookup});if(lookup.found&&lookup.found.dir){cwd=lookup.dir_filter}else{throw lookup.error(new Error("ENOENT: no such file or directory, chdir '"+path+"'"),"ENOENT",-2,"chdir")}}},fs_constants={UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,O_RDONLY:0,O_WRONLY:1,O_RDWR:2,UV_DIRENT_UNKNOWN:0,UV_DIRENT_FILE:1,UV_DIRENT_DIR:2,UV_DIRENT_LINK:3,UV_DIRENT_FIFO:4,UV_DIRENT_SOCKET:5,UV_DIRENT_CHAR:6,UV_DIRENT_BLOCK:7,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:64,O_EXCL:128,UV_FS_O_FILEMAP:0,O_NOCTTY:256,O_TRUNC:512,O_APPEND:1024,O_DIRECTORY:65536,O_NOATIME:262144,O_NOFOLLOW:131072,O_SYNC:1052672,O_DSYNC:4096,O_DIRECT:16384,O_NONBLOCK:2048,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_COPYFILE_EXCL:1,COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_FICLONE_FORCE:4},getOptionsWithEncodingCallback=function getOptionsWithEncodingCallback(options,callback){function throwOpts(){return new Error("The \"options\" argument must be one of type string or Object. Received type "+typeof options)}switch(typeof options){case"function":if(callback===false){throw throwOpts()}callback=options;options={callback:callback};break;case"undefined":options={callback:callback};break;case"string":options={encoding:options,callback:callback};break;case"object":options.callback=callback;break;default:throw throwOpts();}if(callback!==false&&typeof options.callback!=="function"){throw new Error("Callback must be a function. Received "+typeof options.callback)}options.__zipWrap_opts={binary:["utf8","utf-8"].indexOf(options.encoding)<0};options.__zipWrap_method=options.__zipWrap_opts.binary?"arraybuffer":"string";return options},getPromiserForOptionsWithEncodingCallback=function getPromiserForOptionsWithEncodingCallback(requester){var promiser=function(path,options){return new Promise(function(resolve,reject){options=getOptionsWithCallback(options,function(err,result){if(err)return reject(err);return resolve(result)});setTimeout(requester,0,path,options,options.callback)})};promiser.name=requester.name;return promiser},getOptionsWithCallback=function getOptionsWithCallback(options,callback){function throwOpts(){return new Error("The \"options\" argument must be one of type string or Object. Received type "+typeof options)}switch(typeof options){case"function":if(callback===false){throw throwOpts()}callback=options;options={callback:callback};break;case"undefined":options={callback:callback};break;case"object":options.callback=callback;break;default:throw throwOpts();}if(callback!==false&&typeof options.callback!=="function"){throw new Error("Callback must be a function. Received "+typeof options.callback)}return options},getPromiserForOptionsWithCallback=function getPromiserForOptionsWithCallback(requester){var promiser=function(path,options){return new Promise(function(resolve,reject){options=getOptionsWithCallback(options,function(err,result){if(err)return reject(err);return resolve(result)});setTimeout(requester,0,path,options,options.callback)})};promiser.name=requester.name;return promiser},getFlagsWithCallback=function getFlagsWithCallback(flags,callback){function throwOpts(){return new Error("The \"flags\" argument must be number. Received type "+typeof options)}var options={callback:callback};switch(typeof flags){case"function":if(callback===false){throw throwOpts()}callback=flags;options.callback=callback;break;case"number":options.COPYFILE_EXCL=(flags&fs_constants.COPYFILE_EXCL)!==0;break;default:throw throwOpts();}if(callback!==false&&typeof options.callback!=="function"){throw new Error("Callback must be a function. Received "+typeof options.callback)}return options},getPromiserForCopyFile=function getPromiserForCopyFile(requester){var promiser=function(src,dest,flags){return new Promise(function(resolve,reject){var options=getFlagsWithCallback(flags,function(err,result){if(err)return reject(err);return resolve(result)});setTimeout(requester,0,src,dest,flags,options.callback)})};promiser.name=requester.name;return promiser},getPromiserForRename=function getPromiserForRename(requester){var promiser=function(oldName,newName){return new Promise(function(resolve,reject){setTimeout(requester,0,oldName,newName,function(err,result){if(err)return reject(err);return resolve(result)})})};promiser.name=requester.name;return promiser},getPromiserForCallback=function getPromiserForCallback(requester){var promiser=function(path){return new Promise(function(resolve,reject){setTimeout(requester,0,path,function(err,result){if(err)return reject(err);return resolve(result)})})};promiser.name=requester.name;return promiser},readdir=function readdir(path,options,callback){if(typeof options==="function"){callback=options;options={}}try{setTimeout(callback,0,null,wrapped.view_dir(path).get_listing(options&&options.recursive))}catch(err){return callback(err)}},readdirSync=function readdirSync(path,options){return wrapped.view_dir(path).get_listing(options&&options.recursive)},readFile=function readFile(path,options,callback){options=getOptionsWithEncodingCallback(options,callback);wrapped[options.__zipWrap_method][path](options.callback)},readFileSync=function readFileSync(path,options){options=getOptionsWithEncodingCallback(options,false);return wrapped[options.__zipWrap_method][path]()},writeFile=function writeFile(path,data,options,callback){options=getOptionsWithEncodingCallback(options,callback);wrapped[options.__zipWrap_method]=data;setTimeout(options.callback,0,null)},writeFileSync=function writeFileSync(path,data,options){options=getOptionsWithEncodingCallback(options,false);wrapped[options.__zipWrap_method]=data},mkdir=function mkdir(path,options,callback){options=getOptionsWithCallback(options,callback);if(options.recursive){wrapped.mkdirp(path,options.callback)}else{wrapped.mkdir(path,options.callback)}},mkdirSync=function mkdirSync(path,options){options=getOptionsWithCallback(options,false);if(options.recursive){wrapped.mkdirp(path)}else{wrapped.mkdir(path)}},exists=function exists(path,callback){return wrapped.exists(path,callback)},existsSync=function exists(path){return wrapped.exists(path)},rmdir=function rmdir(path,options,callback){options=getOptionsWithCallback(options,callback);if(options.recursive){wrapped.rm(path,options.callback)}else{wrapped.rmdir(path,options.callback)}},rmdirSync=function rmdir(path,options){options=getOptionsWithCallback(options,false);if(options.recursive){wrapped.rm(path)}else{wrapped.rmdir(path)}},unlink=function unlink(path,callback){wrapped.rm(path,callback)},unlinkSync=function unlinkSync(path){wrapped.rm(path)},stat=function stat(path,options,callback){options=getOptionsWithCallback(options,callback);return wrapped.stat(path,options.callback)},statSync=function stat(path,options){options=getOptionsWithCallback(options,false);return wrapped.stat(path)},appendFile=function appendFile(path,data,options,callback){options=getOptionsWithEncodingCallback(options,callback);wrapped.string[path](function(err,existingData){if(err)return options.callback(err);if(options.__zipWrap_method!=="string"){data=ab2str(data)}wrapped.string[path]=existingData+data;options.callback()})},appendFileSync=function appendFileSync(path,data,options){options=getOptionsWithEncodingCallback(options,false);if(options.__zipWrap_method!=="string"){data=ab2str(data)}wrapped.string[path]=wrapped.string[path]()+data},rename=function rename(oldPath,newPath,callback){return wrapped.mv(oldPath,newPath,callback)},renameSync=function renameSync(oldPath,newPath){return wrapped.mv(oldPath,newPath)},copyFile=function copyFile(src,dest,flags,callback){var options=getFlagsWithCallback(flags,callback);if(options.COPYFILE_EXCL&&wrapped.exists(dest)){return options.callback(new Error(dest+" exists (options.COPYFILE_EXCL set)"))}return wrapped.cp(src,dest,options.callback)},copyFileSync=function copyFileSync(src,dest,flags){var options=getFlagsWithCallback(flags,false);if(options.COPYFILE_EXCL&&wrapped.exists(dest)){throw new Error(dest+" exists (options.COPYFILE_EXCL set)")}return wrapped.cp(src,dest)},watching={},watch=function watch(filename,options,listener){return wrapped.addWatcher(filename,options,function(a,b){listener(a,b)})},watchFile=function watchFile(filename,options,listener){if(typeof options==="function"){listener=options;options={interval:5007}}watchFile.watchers=watchFile.watchers||{};var watchers=watchFile.watchers[filename]||[];watchFile.watchers[filename]=watchers;wrapped.stat(filename,function(err,firstStat){var prev=firstStat;listener.watcher=wrapped.addWatcher(filename,options,function(a,b,curr){listener(curr,prev);prev=curr});watchers.push(listener)})},unwatchFile=function unwatchFile(filename,listener){if(watchFile.watchers){var watchers=watchFile.watchers[filename];if(watchers){if(listener){if(listener.watcher){listener.watcher.close();delete listener.watcher}var index=watchers.indexOf(listener);if(index>=0)watchers.splice(index,1);if(watchers.length===0){delete watchFile.watchers[filename]}}else{while(watchers.length>0){var list=watchers.shift();if(list.watcher){list.watcher.close();delete list.watcher}}delete watchFile.watchers[filename]}}}},fs={"appendFile":{"value":appendFile,"configurable":true,"enumerable":true},"appendFileSync":{"value":appendFileSync,"configurable":true,"enumerable":true},"access":{"value":function access(path,mode,callback){throw new Error("not implemented")},"configurable":true,"enumerable":true},"accessSync":{"value":function accessSync(path,mode){throw new Error("not implemented")},"configurable":true,"enumerable":true},"chown":{"value":function chown(path,uid,gid,callback){throw new Error("not implemented")},"configurable":true,"enumerable":true},"chownSync":{"value":function chownSync(path,uid,gid){throw new Error("not implemented")},"configurable":true,"enumerable":true},"chmod":{"value":function chmod(path,mode,callback){throw new Error("not implemented")},"configurable":true,"enumerable":true},"chmodSync":{"value":function chmodSync(path,mode){throw new Error("not implemented")},"configurable":true,"enumerable":true},"close":{"value":function close(fd,callback){throw new Error("not implemented")},"configurable":true,"enumerable":true},"closeSync":{"value":function closeSync(fd){throw new Error("not implemented")},"configurable":true,"enumerable":true},"copyFile":{"value":copyFile,"configurable":true,"enumerable":true},"copyFileSync":{"value":copyFileSync,"configurable":true,"enumerable":true},"createReadStream":{"value":function createReadStream(path,options){throw new Error("not implemented")},"configurable":true,"enumerable":true},"createWriteStream":{"value":function createWriteStream(path,options){throw new Error("not implemented")},"configurable":true,"enumerable":true},"exists":{"value":exists,"configurable":true,"enumerable":true},"existsSync":{"value":existsSync,"configurable":true,"enumerable":true},"fchown":{"value":function fchown(fd,uid,gid,callback){throw new Error("not implemented")},"configurable":true,"enumerable":true},"fchownSync":{"value":function fchownSync(fd,uid,gid){throw new Error("not implemented")},"configurable":true,"enumerable":true},"fchmod":{"value":function fchmod(fd,mode,callback){throw new Error("not implemented")},"configurable":true,"enumerable":true},"fchmodSync":{"value":function fchmodSync(fd,mode){throw new Error("not implemented")},"configurable":true,"enumerable":true},"fdatasync":{"value":function fdatasync(fd,callback){throw new Error("not implemented")},"configurable":true,"enumerable":true},"fdatasyncSync":{"value":function fdatasyncSync(fd){throw new Error("not implemented")},"configurable":true,"enumerable":true},"fstat":{"value":function fstat(fd,options,callback){throw new Error("not implemented")},"configurable":true,"enumerable":true},"fstatSync":{"value":function fstatSync(fd,options={}){throw new Error("not implemented")},"configurable":true,"enumerable":true},"fsync":{"value":function fsync(fd,callback){throw new Error("not implemented")},"configurable":true,"enumerable":true},"fsyncSync":{"value":function fsyncSync(fd){throw new Error("not implemented")},"configurable":true,"enumerable":true},"ftruncate":{"value":function ftruncate(fd,len,callback){throw new Error("not implemented")},"configurable":true,"enumerable":true},"ftruncateSync":{"value":function ftruncateSync(fd,len=0){throw new Error("not implemented")},"configurable":true,"enumerable":true},"futimes":{"value":function futimes(fd,atime,mtime,callback){throw new Error("not implemented")},"configurable":true,"enumerable":true},"futimesSync":{"value":function futimesSync(fd,atime,mtime){throw new Error("not implemented")},"configurable":true,"enumerable":true},"lchown":{"value":function lchown(path,uid,gid,callback){throw new Error("not implemented")},"configurable":true,"enumerable":true},"lchownSync":{"value":function lchownSync(path,uid,gid){throw new Error("not implemented")},"configurable":true,"enumerable":true},"link":{"value":function link(existingPath,newPath,callback){throw new Error("not implemented")},"configurable":true,"enumerable":true},"linkSync":{"value":function linkSync(existingPath,newPath){throw new Error("not implemented")},"configurable":true,"enumerable":true},"lstat":{"value":function lstat(path,options,callback){throw new Error("not implemented")},"configurable":true,"enumerable":true},"lstatSync":{"value":function lstatSync(path,options={}){throw new Error("not implemented")},"configurable":true,"enumerable":true},"mkdir":{"value":mkdir,"configurable":true,"enumerable":true},"mkdirSync":{"value":mkdirSync,"configurable":true,"enumerable":true},"mkdtemp":{"value":function mkdtemp(prefix,options,callback){throw new Error("not implemented")},"configurable":true,"enumerable":true},"mkdtempSync":{"value":function mkdtempSync(prefix,options){throw new Error("not implemented")},"configurable":true,"enumerable":true},"open":{"value":function open(path,flags,mode,callback){throw new Error("not implemented")},"configurable":true,"enumerable":true},"openSync":{"value":function openSync(path,flags,mode){throw new Error("not implemented")},"configurable":true,"enumerable":true},"opendir":{"value":function opendir(path,options,callback){throw new Error("not implemented")},"configurable":true,"enumerable":true},"opendirSync":{"value":function opendirSync(path,options){throw new Error("not implemented")},"configurable":true,"enumerable":true},"readdir":{"value":readdir,"configurable":true,"enumerable":true},"readdirSync":{"value":readdirSync,"configurable":true,"enumerable":true},"read":{"value":function read(fd,buffer,offset,length,position,callback){throw new Error("not implemented")},"configurable":true,"enumerable":true},"readSync":{"value":function readSync(fd,buffer,offset,length,position){throw new Error("not implemented")},"configurable":true,"enumerable":true},"readFile":{"value":readFile,"configurable":true,"enumerable":true},"readFileSync":{"value":readFileSync,"configurable":true,"enumerable":true},"readlink":{"value":function readlink(path,options,callback){throw new Error("not implemented")},"configurable":true,"enumerable":true},"readlinkSync":{"value":function readlinkSync(path,options){throw new Error("not implemented")},"configurable":true,"enumerable":true},"realpath":{"value":function realpath(p,options,callback){throw new Error("not implemented")},"configurable":true,"enumerable":true},"realpathSync":{"value":function realpathSync(p,options){throw new Error("not implemented")},"configurable":true,"enumerable":true},"rename":{"value":rename,"configurable":true,"enumerable":true},"renameSync":{"value":renameSync,"configurable":true,"enumerable":true},"rmdir":{"value":rmdir,"configurable":true,"enumerable":true},"rmdirSync":{"value":rmdirSync,"configurable":true,"enumerable":true},"stat":{"value":stat,"configurable":true,"enumerable":true},"statSync":{"value":statSync,"configurable":true,"enumerable":true},"symlink":{"value":function symlink(target,path,type_,callback_){throw new Error("not implemented")},"configurable":true,"enumerable":true},"symlinkSync":{"value":function symlinkSync(target,path,type){throw new Error("not implemented")},"configurable":true,"enumerable":true},"truncate":{"value":function truncate(path,len,callback){throw new Error("not implemented")},"configurable":true,"enumerable":true},"truncateSync":{"value":function truncateSync(path,len){throw new Error("not implemented")},"configurable":true,"enumerable":true},"unwatchFile":{"value":unwatchFile,"configurable":true,"enumerable":true},"unlink":{"value":unlink,"configurable":true,"enumerable":true},"unlinkSync":{"value":unlinkSync,"configurable":true,"enumerable":true},"utimes":{"value":function utimes(path,atime,mtime,callback){throw new Error("not implemented")},"configurable":true,"enumerable":true},"utimesSync":{"value":function utimesSync(path,atime,mtime){throw new Error("not implemented")},"configurable":true,"enumerable":true},"watch":{"value":watch,"configurable":true,"enumerable":true},"watchFile":{"value":watchFile,"configurable":true,"enumerable":true},"writeFile":{"value":writeFile,"configurable":true,"enumerable":true},"writeFileSync":{"value":writeFileSync,"configurable":true,"enumerable":true},"write":{"value":function write(fd,buffer,offset,length,position,callback){throw new Error("not implemented")},"configurable":true,"enumerable":true},"writeSync":{"value":function writeSync(fd,buffer,offset,length,position){throw new Error("not implemented")},"configurable":true,"enumerable":true},"writev":{"value":function writev(fd,buffers,position,callback){throw new Error("not implemented")},"configurable":true,"enumerable":true},"writevSync":{"value":function writevSync(fd,buffers,position){throw new Error("not implemented")},"configurable":true,"enumerable":true},"Dir":{"value":function Dir(handle,path,options){throw new Error("not implemented")},"configurable":true,"enumerable":true},"Dirent":{"value":function Dirent(name,type){throw new Error("not implemented")},"configurable":true,"enumerable":true},"Stats":{"value":function Stats(dev,mode,nlink,uid,gid,rdev,blksize,ino,size,blocks,atimeMs,mtimeMs,ctimeMs,birthtimeMs){throw new Error("not implemented")},"configurable":true,"enumerable":true},"ReadStream":{"value":function ReadStream(path,options){throw new Error("not implemented")},"configurable":true,"enumerable":true},"WriteStream":{"value":function WriteStream(path,options){throw new Error("not implemented")},"configurable":true,"enumerable":true},"FileReadStream":{"value":function FileReadStream(path,options){throw new Error("not implemented")},"configurable":true,"enumerable":true},"FileWriteStream":{"value":function FileWriteStream(path,options){throw new Error("not implemented")},"configurable":true,"enumerable":true},"_toUnixTimestamp":{"value":function _toUnixTimestamp(time,name="time"){var __native=function toUnixTimestamp(time,name="time"){if(typeof time==="string"&&+time==time){return+time}if(Number.isFinite(time)){if(time<0){return Date.now()/1000}return time}if(isDate(time)){return time.getTime()/1000}throw new ERR_INVALID_ARG_TYPE(name,["Date","Time in seconds"],time)}},"configurable":true,"enumerable":true},"promises":{"access":{"value":function access(path,mode){throw new Error("not implemented")},"configurable":true,"enumerable":true},"copyFile":{"value":getPromiserForCopyFile(copyFile),"configurable":true,"enumerable":true},"open":{"value":function open(path,flags,mode){throw new Error("not implemented")},"configurable":true,"enumerable":true},"opendir":{"value":function opendir(...args){throw new Error("not implemented")},"configurable":true,"enumerable":true},"rename":{"value":getPromiserForRename(rename),"configurable":true,"enumerable":true},"truncate":{"value":function truncate(path,len=0){throw new Error("not implemented")},"configurable":true,"enumerable":true},"rmdir":{"value":getPromiserForOptionsWithCallback(rmdir),"configurable":true,"enumerable":true},"mkdir":{"value":getPromiserForOptionsWithCallback(mkdir),"configurable":true,"enumerable":true},"readdir":{"value":getPromiserForOptionsWithCallback(readdir),"configurable":true,"enumerable":true},"readlink":{"value":function readlink(path,options){throw new Error("not implemented")},"configurable":true,"enumerable":true},"symlink":{"value":function symlink(target,path,type_){throw new Error("not implemented")},"configurable":true,"enumerable":true},"lstat":{"value":function lstat(path,options={bigint:false}){throw new Error("not implemented")},"configurable":true,"enumerable":true},"stat":{"value":getPromiserForOptionsWithCallback(stat),"configurable":true,"enumerable":true},"link":{"value":function link(existingPath,newPath){throw new Error("not implemented")},"configurable":true,"enumerable":true},"unlink":{"value":getPromiserForCallback(unlink),"configurable":true,"enumerable":true},"chmod":{"value":function chmod(path,mode){throw new Error("not implemented")},"configurable":true,"enumerable":true},"lchmod":{"value":function lchmod(path,mode){throw new Error("not implemented")},"configurable":true,"enumerable":true},"lchown":{"value":function lchown(path,uid,gid){throw new Error("not implemented")},"configurable":true,"enumerable":true},"chown":{"value":function chown(path,uid,gid){throw new Error("not implemented")},"configurable":true,"enumerable":true},"utimes":{"value":function utimes(path,atime,mtime){throw new Error("not implemented")},"configurable":true,"enumerable":true},"realpath":{"value":function realpath(path,options){throw new Error("not implemented")},"configurable":true,"enumerable":true},"mkdtemp":{"value":function mkdtemp(prefix,options){throw new Error("not implemented")},"configurable":true,"enumerable":true},"writeFile":{"value":getPromiserForOptionsWithEncodingCallback(readFile),"configurable":true,"enumerable":true},"appendFile":{"value":function appendFile(path,data,options){throw new Error("not implemented")},"configurable":true,"enumerable":true},"readFile":{"value":getPromiserForOptionsWithEncodingCallback(readFile),"configurable":true,"enumerable":true}}};cb({fs:Object.defineProperties({},fs),process:fs_process,wrapped:wrapped})})}).catch(function(e){throw e})}return fs_JSZip}(!$N[0].Document);$N[0][$N[4]]=function($N){function start_fs_jszip(url,cb){var self={ready:false,fs:null,process:null};window.JSZipUtils.getBinaryContent(url,function(err,data){if(err)return cb(err);window.fsJSZip(self,data,window.zipFsWrap,window.JSZip,window.simRequire.path,function(mod){self.fs=mod.fs;self.process=mod.process;self.ready=true;cb(null,self.fs,self.process)})});return self}return start_fs_jszip}(!$N[0].Document)})([typeof process+typeof module+typeof require==="objectobjectfunction"?module.exports:window,"JSZip","JSUtils","fs_js_zip","start_fs"]);/* extensions.js */
var inclusionsBegin,inclusionsEnd;!function(extensions,isNode){!function loadExtensions(e){"function"==typeof Object.polyfill?("boot"===e||isNode||window.removeEventListener("polyfills",loadExtensions),extensions(Object.polyfill),String.extensionsTest(Object.env.verbose),Object.notifyPollyfill("extensions.js","extensions")):"boot"!==e||isNode||window.addEventListener("polyfills",loadExtensions)}("boot")}(function(extend){var nodeExts,fs_extensions,Module_extensions,jsClass=Object.jsClass,isString=jsClass.getTest(""),cpArgs=Function.args;Object.env.isNode?require("util"):window.util?window.util:window.util=getUtil();function isEmpty(x){return 0<=[null,void 0].indexOf(x)||0===x.length||x.constructor===Object&&0===Object.keys(x).length}function getUtil(){return(dir={inherits:function(module){module.exports;return"function"==typeof Object.create?module.exports=function(ctor,superCtor){superCtor&&(ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}}))}:module.exports=function(ctor,superCtor){if(superCtor){ctor.super_=superCtor;function TempCtor(){}TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},module.exports}({exports:{}}),"is-generator-function":function(module){module.exports;var toStr=Object.prototype.toString,fnToStr=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,getProto=Object.getPrototypeOf,generatorFunc=function(){if(!hasToStringTag)return!1;try{return Function("return function*() {}")()}catch(e){}}(),GeneratorFunction=generatorFunc?getProto(generatorFunc):{};return module.exports=function(fn){return"function"==typeof fn&&(!!isFnRegex.test(fnToStr.call(fn))||(hasToStringTag?getProto(fn)===GeneratorFunction:"[object GeneratorFunction]"===toStr.call(fn)))},module.exports}({exports:{}}),"is-arguments":function(module){module.exports;function isStandardArguments(value){return!(hasToStringTag&&value&&"object"==typeof value&&Symbol.toStringTag in value)&&"[object Arguments]"===toStr.call(value)}function isLegacyArguments(value){return!!isStandardArguments(value)||null!==value&&"object"==typeof value&&"number"==typeof value.length&&0<=value.length&&"[object Array]"!==toStr.call(value)&&"[object Function]"===toStr.call(value.callee)}var hasToStringTag="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,toStr=Object.prototype.toString,supportsStandardArguments=function(){return isStandardArguments(arguments)}();return isStandardArguments.isLegacyArguments=isLegacyArguments,module.exports=supportsStandardArguments?isStandardArguments:isLegacyArguments,module.exports}({exports:{}}),"./isBuffer":function(module){module.exports;return module.exports=function(arg){return arg&&"object"==typeof arg&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8},module.exports}({exports:{}})})["./support/isBuffer"]=dir["./isBuffer"],function(module,require){var exports=module.exports,getOwnPropertyDescriptors=Object.getOwnPropertyDescriptors||function(obj){for(var keys=Object.keys(obj),descriptors={},i=0;i<keys.length;i++)descriptors[keys[i]]=Object.getOwnPropertyDescriptor(obj,keys[i]);return descriptors},formatRegExp=/%[sdj%]/g;exports.format=function(f){var i;if(!isString(f)){var objects=[];for(i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}i=1;for(var args=arguments,len=args.length,str=String(f).replace(formatRegExp,function(x){if("%%"===x)return"%";if(len<=i)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}break;default:return x}}),x=args[i];i<len;x=args[++i])isNull(x)||!isObject(x)?str+=" "+x:str+=" "+inspect(x);return str},exports.deprecate=function(fn,msg){if("undefined"!=typeof process&&!0===process.noDeprecation)return fn;if("undefined"==typeof process)return function(){return exports.deprecate(fn,msg).apply(this,arguments)};var warned=!1;return function(){if(!warned){if(process.throwDeprecation)throw new Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}};var debugs={},debugEnvRegex=/^$/;if("undefined"!=typeof process&&process.env&&process.env.NODE_DEBUG){var debugEnv=process.env.NODE_DEBUG;debugEnv=debugEnv.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),debugEnvRegex=new RegExp("^"+debugEnv+"$","i")}function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return 3<=arguments.length&&(ctx.depth=arguments[2]),4<=arguments.length&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str,styleType){return str}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=function(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");if(isNull(value))return ctx.stylize("null","null")}(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=function(array){var hash={};return array.forEach(function(val,idx){hash[val]=!0}),hash}(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(0<=keys.indexOf("message")||0<=keys.indexOf("description")))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var output,base="",array=!1,braces=["{","}"];if(isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}return isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0!==keys.length||array&&0!==value.length?recurseTimes<0?isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special"):(ctx.seen.push(value),output=array?function(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;i<l;++i)hasOwnProperty(value,String(i))?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),!0)):output.push("");return keys.forEach(function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}(ctx,value,recurseTimes,visibleKeys,keys):keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),function(output,base,braces){if(60<output.reduce(function(prev,cur){return 0<=cur.indexOf("\n")&&0,prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0))return braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1];return braces[0]+base+" "+output.join(", ")+" "+braces[1]}(output,base,braces)):braces[0]+base+braces[1]}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if((desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]}).get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(ctx.seen.indexOf(desc.value)<0?-1<(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1)).indexOf("\n")&&(str=array?str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\d+$/))return str;name=(name=JSON.stringify(""+key)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),ctx.stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ctx.stylize(name,"string"))}return name+": "+str}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}exports.debuglog=function(set){if(set=set.toUpperCase(),!debugs[set])if(debugEnvRegex.test(set)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},(exports.inspect=inspect).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.types=function(module){var exports=module.exports,isBuffer=require("./isBuffer"),isArgumentsObject=require("is-arguments"),isGeneratorFunction=require("is-generator-function");function uncurryThis(f){return f.call.bind(f)}var BigIntSupported="undefined"!=typeof BigInt,SymbolSupported="undefined"!=typeof Symbol,SymbolToStringTagSupported=SymbolSupported&&void 0!==Symbol.toStringTag,Uint8ArraySupported="undefined"!=typeof Uint8Array,ArrayBufferSupported="undefined"!=typeof ArrayBuffer;if(Uint8ArraySupported&&SymbolToStringTagSupported)var TypedArrayPrototype=Object.getPrototypeOf(Uint8Array.prototype),TypedArrayProto_toStringTag=uncurryThis(Object.getOwnPropertyDescriptor(TypedArrayPrototype,Symbol.toStringTag).get);var ObjectToString=uncurryThis(Object.prototype.toString),numberValue=uncurryThis(Number.prototype.valueOf),stringValue=uncurryThis(String.prototype.valueOf),booleanValue=uncurryThis(Boolean.prototype.valueOf);if(BigIntSupported)var bigIntValue=uncurryThis(BigInt.prototype.valueOf);if(SymbolSupported)var symbolValue=uncurryThis(Symbol.prototype.valueOf);function checkBoxedPrimitive(value,prototypeValueOf){if("object"!=typeof value)return!1;try{return prototypeValueOf(value),!0}catch(e){return!1}}function isTypedArray(value){return Uint8ArraySupported&&SymbolToStringTagSupported?void 0!==TypedArrayProto_toStringTag(value):isUint8Array(value)||isUint8ClampedArray(value)||isUint16Array(value)||isUint32Array(value)||isInt8Array(value)||isInt16Array(value)||isInt32Array(value)||isFloat32Array(value)||isFloat64Array(value)||isBigInt64Array(value)||isBigUint64Array(value)}function isUint8Array(value){return Uint8ArraySupported&&SymbolToStringTagSupported?"Uint8Array"===TypedArrayProto_toStringTag(value):"[object Uint8Array]"===ObjectToString(value)||isBuffer(value)&&void 0!==value.buffer}function isUint8ClampedArray(value){return Uint8ArraySupported&&SymbolToStringTagSupported?"Uint8ClampedArray"===TypedArrayProto_toStringTag(value):"[object Uint8ClampedArray]"===ObjectToString(value)}function isUint16Array(value){return Uint8ArraySupported&&SymbolToStringTagSupported?"Uint16Array"===TypedArrayProto_toStringTag(value):"[object Uint16Array]"===ObjectToString(value)}function isUint32Array(value){return Uint8ArraySupported&&SymbolToStringTagSupported?"Uint32Array"===TypedArrayProto_toStringTag(value):"[object Uint32Array]"===ObjectToString(value)}function isInt8Array(value){return Uint8ArraySupported&&SymbolToStringTagSupported?"Int8Array"===TypedArrayProto_toStringTag(value):"[object Int8Array]"===ObjectToString(value)}function isInt16Array(value){return Uint8ArraySupported&&SymbolToStringTagSupported?"Int16Array"===TypedArrayProto_toStringTag(value):"[object Int16Array]"===ObjectToString(value)}function isInt32Array(value){return Uint8ArraySupported&&SymbolToStringTagSupported?"Int32Array"===TypedArrayProto_toStringTag(value):"[object Int32Array]"===ObjectToString(value)}function isFloat32Array(value){return Uint8ArraySupported&&SymbolToStringTagSupported?"Float32Array"===TypedArrayProto_toStringTag(value):"[object Float32Array]"===ObjectToString(value)}function isFloat64Array(value){return Uint8ArraySupported&&SymbolToStringTagSupported?"Float64Array"===TypedArrayProto_toStringTag(value):"[object Float64Array]"===ObjectToString(value)}function isBigInt64Array(value){return Uint8ArraySupported&&SymbolToStringTagSupported?"BigInt64Array"===TypedArrayProto_toStringTag(value):"[object BigInt64Array]"===ObjectToString(value)}function isBigUint64Array(value){return Uint8ArraySupported&&SymbolToStringTagSupported?"BigUint64Array"===TypedArrayProto_toStringTag(value):"[object BigUint64Array]"===ObjectToString(value)}function isMapToString(value){return"[object Map]"===ObjectToString(value)}function isSetToString(value){return"[object Set]"===ObjectToString(value)}function isWeakMapToString(value){return"[object WeakMap]"===ObjectToString(value)}function isWeakSetToString(value){return"[object WeakSet]"===ObjectToString(value)}function isArrayBufferToString(value){return"[object ArrayBuffer]"===ObjectToString(value)}function isArrayBuffer(value){return"undefined"!=typeof ArrayBuffer&&(isArrayBufferToString.working?isArrayBufferToString(value):value instanceof ArrayBuffer)}function isDataViewToString(value){return"[object DataView]"===ObjectToString(value)}function isDataView(value){return"undefined"!=typeof DataView&&(isDataViewToString.working?isDataViewToString(value):value instanceof DataView)}function isSharedArrayBufferToString(value){return"[object SharedArrayBuffer]"===ObjectToString(value)}function isSharedArrayBuffer(value){return"undefined"!=typeof SharedArrayBuffer&&(isSharedArrayBufferToString.working?isSharedArrayBufferToString(value):value instanceof SharedArrayBuffer)}function isNumberObject(value){return checkBoxedPrimitive(value,numberValue)}function isStringObject(value){return checkBoxedPrimitive(value,stringValue)}function isBooleanObject(value){return checkBoxedPrimitive(value,booleanValue)}function isBigIntObject(value){return BigIntSupported&&checkBoxedPrimitive(value,bigIntValue)}function isSymbolObject(value){return SymbolSupported&&checkBoxedPrimitive(value,symbolValue)}return exports.isArgumentsObject=isArgumentsObject,exports.isGeneratorFunction=isGeneratorFunction,exports.isPromise=function(input){return"undefined"!=typeof Promise&&input instanceof Promise||null!==input&&"object"==typeof input&&"function"==typeof input.then&&"function"==typeof input.catch},exports.isArrayBufferView=function(value){if(ArrayBufferSupported&&ArrayBuffer.isView)return ArrayBuffer.isView(value);return isTypedArray(value)||isDataView(value)},exports.isTypedArray=isTypedArray,exports.isUint8Array=isUint8Array,exports.isUint8ClampedArray=isUint8ClampedArray,exports.isUint16Array=isUint16Array,exports.isUint32Array=isUint32Array,exports.isInt8Array=isInt8Array,exports.isInt16Array=isInt16Array,exports.isInt32Array=isInt32Array,exports.isFloat32Array=isFloat32Array,exports.isFloat64Array=isFloat64Array,exports.isBigInt64Array=isBigInt64Array,exports.isBigUint64Array=isBigUint64Array,isMapToString.working="undefined"!=typeof Map&&isMapToString(new Map),exports.isMap=function(value){return"undefined"!=typeof Map&&(isMapToString.working?isMapToString(value):value instanceof Map)},isSetToString.working="undefined"!=typeof Set&&isSetToString(new Set),exports.isSet=function(value){return"undefined"!=typeof Set&&(isSetToString.working?isSetToString(value):value instanceof Set)},isWeakMapToString.working="undefined"!=typeof WeakMap&&isWeakMapToString(new WeakMap),exports.isWeakMap=function(value){return"undefined"!=typeof WeakMap&&(isWeakMapToString.working?isWeakMapToString(value):value instanceof WeakMap)},isWeakSetToString.working="undefined"!=typeof WeakSet&&isWeakSetToString(new WeakSet),exports.isWeakSet=function(value){return isWeakSetToString(value)},isArrayBufferToString.working="undefined"!=typeof ArrayBuffer&&isArrayBufferToString(new ArrayBuffer),exports.isArrayBuffer=isArrayBuffer,isDataViewToString.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&isDataViewToString(new DataView(new ArrayBuffer(1),0,1)),exports.isDataView=isDataView,isSharedArrayBufferToString.working="undefined"!=typeof SharedArrayBuffer&&isSharedArrayBufferToString(new SharedArrayBuffer),exports.isSharedArrayBuffer=isSharedArrayBuffer,exports.isAsyncFunction=function(value){return"[object AsyncFunction]"===ObjectToString(value)},exports.isMapIterator=function(value){return"[object Map Iterator]"===ObjectToString(value)},exports.isSetIterator=function(value){return"[object Set Iterator]"===ObjectToString(value)},exports.isGeneratorObject=function(value){return"[object Generator]"===ObjectToString(value)},exports.isWebAssemblyCompiledModule=function(value){return"[object WebAssembly.Module]"===ObjectToString(value)},exports.isNumberObject=isNumberObject,exports.isStringObject=isStringObject,exports.isBooleanObject=isBooleanObject,exports.isBigIntObject=isBigIntObject,exports.isSymbolObject=isSymbolObject,exports.isBoxedPrimitive=function(value){return isNumberObject(value)||isStringObject(value)||isBooleanObject(value)||isBigIntObject(value)||isSymbolObject(value)},exports.isAnyArrayBuffer=function(value){return Uint8ArraySupported&&(isArrayBuffer(value)||isSharedArrayBuffer(value))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(method){Object.defineProperty(exports,method,{enumerable:!1,value:function(){throw new Error(method+" is not supported in userland")}})}),module.exports}({exports:{}}),exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=function(arg){return null===arg},exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=function(arg){return"symbol"==typeof arg},exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.types.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.types.isDate=isDate,exports.isError=isError,exports.types.isNativeError=isError,exports.isFunction=isFunction,exports.isPrimitive=function(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||void 0===arg},exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}exports.log=function(){console.log("%s - %s",function(){var d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin};var kCustomPromisifiedSymbol="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;return exports.promisify=function(original){if("function"!=typeof original)throw new TypeError('The "original" argument must be of type Function');if(kCustomPromisifiedSymbol&&original[kCustomPromisifiedSymbol]){var fn1=original[kCustomPromisifiedSymbol];if("function"!=typeof fn1)throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(fn1,kCustomPromisifiedSymbol,{value:fn1,enumerable:!1,writable:!1,configurable:!0}),fn1}function fn(){for(var promiseResolve,promiseReject,promise=new Promise(function(resolve,reject){promiseResolve=resolve,promiseReject=reject}),args=[],i=0;i<arguments.length;i++)args.push(arguments[i]);args.push(function(err,value){err?promiseReject(err):promiseResolve(value)});try{original.apply(this,args)}catch(err){promiseReject(err)}return promise}return Object.setPrototypeOf(fn,Object.getPrototypeOf(original)),kCustomPromisifiedSymbol&&Object.defineProperty(fn,kCustomPromisifiedSymbol,{value:fn,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(fn,getOwnPropertyDescriptors(original))},exports.promisify.custom=kCustomPromisifiedSymbol,exports.callbackify=function(original){if("function"!=typeof original)throw new TypeError('The "original" argument must be of type Function');function callbackified(){for(var args=[],i=0;i<arguments.length;i++)args.push(arguments[i]);var maybeCb=args.pop();if("function"!=typeof maybeCb)throw new TypeError("The last argument must be of type Function");function cb(){return maybeCb.apply(self,arguments)}var self=this;original.apply(this,args).then(function(ret){process.nextTick(cb.bind(null,null,ret))},function(rej){process.nextTick(function(reason,cb){if(!reason){var newReason=new Error("Promise was rejected with a falsy value");newReason.reason=reason,reason=newReason}return cb(reason)}.bind(null,rej,cb))})}return Object.setPrototypeOf(callbackified,Object.getPrototypeOf(original)),Object.defineProperties(callbackified,getOwnPropertyDescriptors(original)),callbackified},module.exports}({exports:{}},function(file){return dir[file]});var dir}function stringifyPathNode(n){if(n.charAt(0)+n.charAt(n.length-1)!=='""')return"["+n+"]";n=n.replace(/\./g,"\\u002E").replace(/\\"/g,"\\u0022");var s,n2=(s=n).substr(1,s.length-2);return n2.split("").some(function(c,ix){return!("A"<=c&&c<="Z")&&(!("a"<=c&&c<="z")&&("0"<=c&&c<=9?0===ix:"_$".indexOf(c)<0))})?"["+n+"]":"."+n2}function stringifyPathArray(p){return p.map(JSON.stringify).map(stringifyPathNode).join("")}function parsePathString(p){var arr=[];return p.split("[").forEach(function(chunk){chunk.split("]").forEach(function(chunk){arr.push.apply(arr,chunk.split("."))})}),arr=arr.filter(function(chunk){return""!==chunk}).map(function(chunk){if('"'===chunk.charAt(0))return JSON.parse(chunk);var num=Number.parseInt(chunk);return isNaN(chunk)?chunk:num})}!function(){void 0===JSON.stringify_dates&&Object.defineProperties(JSON,{stringify_dates:{value:function(obj,replacer,spaces){if(void 0===Date.prototype.toJSON)return JSON.stringify(obj,replacer,spaces);try{return Date.JSON_off(),JSON.stringify(obj,replacer,spaces)}finally{Date.JSON_on()}}}});if("function"==typeof Date.JSON_off)return;var restore_Date_prototype_toJSON="function"==typeof Date.prototype.toJSON&&{toJSON:{value:Date.prototype.toJSON,enumerable:!1,configurable:!0,writable:!0}};Object.defineProperties(Date,{JSON_off:{enumerable:!1,configurable:!0,writable:!0,value:function(){restore_Date_prototype_toJSON&&delete Date.prototype.toJSON}},JSON_on:{enumerable:!1,configurable:!0,writable:!0,value:function(){restore_Date_prototype_toJSON&&Object.defineProperties(Date.prototype,restore_Date_prototype_toJSON)}}})}(),Object.env.isNode&&(fs_extensions=(nodeExts=require("./extensions-node-functions.js")).fs_extensions,Module_extensions=nodeExts.Module_extensions),extend(Object,function(object){object("isEmpty",isEmpty),object("varify",function(obj,var_,equals,comma,semi,indents,debug){function unquoted(s){return"*<<"+s+">>*"}function json_replacer(k,v){if("function"!=typeof v)return"object"==typeof v&&v.constructor===Date?unquoted("new Date("+v.getTime()+")"):"object"==typeof v&&v.constructor===RegExp?unquoted("new RegExp('"+v.source.replace(bsDetect,"\\")+"','"+v.flags+"')"):v;var id=fn_id_magic+"."+Object.keys(fns).length,header="anonymous"===v.name?"function (":"function "+v.name+"(",str=v.toString().replace(fn_cleanup_re,"").replace(fn_cleanup2_re,header);return fns[id]=str,unquoted("${"+id+"}")}var fn_id_magic="fn_"+Math.round(Math.random()*Number.MAX_SAFE_INTEGER).toString(36),fn_cleanup_re=new RegExp("(?<=function anonymous\\(.*)(\\n)(?=\\))","sg"),fn_cleanup2_re=new RegExp("(function anonymous\\()","sg"),fns={},deQuoteIn=/"\*<</g,deQuoteOut=/>>\*"/g,bsDetect=/\\/g,keys=Object.keys(obj).filter(function(key){return[null,void 0].indexOf(obj[key])<0}),html_script_fixups=[{source:"<",flags:"g",repWith:"\\u003c"},{source:">",flags:"g",repWith:"\\u003e"}];return 0===keys.length?"":(void 0===var_&&(var_="var "),void 0===equals&&(equals=" = "),void 0===comma&&(comma=",\n"),void 0===semi&&(semi=";"),indents=null===indents?void 0:4,var_+keys.map(function(key){debug&&console.log({fixup_object:key});function re_replacer(re){fixed=fixed.replace(new RegExp(re.source,re.flags),re.repWith)}var fixed=JSON.stringify_dates(obj[key],json_replacer,indents).replace(deQuoteIn,"").replace(deQuoteOut,"");return html_script_fixups.forEach(re_replacer),fixed=fixed.renderWithObject(fns),key+equals+fixed}).join(comma)+semi)}),object("scriptify",function(obj,name){var self={},proto={},selfKeys=Object.keys(obj),selfVars=selfKeys.filter(function(key){return"function"!=typeof obj[key]}),selfFns=selfKeys.filter(function(key){return"function"==typeof obj[key]});return selfVars.forEach(function(key){self[key]=obj[key];var FN=Function;proto[key]={get:new FN("    return "+key+";"),set:new FN("val","   "+key+"=val;"),enumerable:!0,configurable:!0}}),selfFns.forEach(function(key){proto[key]={value:obj[key],enumerable:!0,configurable:!0}}),(new Array(13).join(" ")+function(){return Object.defineProperties({self:"self"},proto)}.toString()).reindent(0).replace(/scriptified/,name).replace(/\{self:"self"\}/,(Object.varify(self,"{},",void 0,void 0,"")+Object.varify(proto,",\n\n/*properties*/\nproto={",":",",\n","}",null)).reindent(4).trim())}),object("keyCount",function(o){if(o!==Object(o))throw new TypeError("Object.keyCount called on a non-object");var p,c=0,isKey=Object.prototype.hasOwnProperty.bind(o);for(p in o)isKey(p)&&c++;return c}),object("removeKey",function(obj,k){var res=obj[k];if(void 0!==res)return delete obj[k],res}),object("replaceKey",function(obj,k,v){var res=obj[k];return obj[k]=v,res}),object("removeAllKeys",function(obj){var res=Object.keys(obj);return res.forEach(function(k){delete obj[k]}),res}),object("mergeKeys",function(obj1,obj2,keys,keep){return(keys=keys||Object.keys(obj2)).forEach(function(k){keep&&void 0!==obj1[k]||(obj1[k]=obj2[k])}),obj1}),object("subtractKeys",function(obj,keys,isObject){var res={};return(keys=isObject?Object.keys(keys):keys).forEach(function(k){obj[k]&&(res[k]=obj[k],delete obj[k])}),res}),object("iterateKeys",function(obj,fn){Object.keys(obj).some(function(k,i,ks){try{return fn(k,obj[k],i,ks),!1}catch(e){return!0}})});function iterator(o,cb,k,i,ks){var v=o[k];return cb.apply(o,[k,v,i,ks,o,typeof v])}function iterator2(o,cb,k,i,ks){var v=o[k];return cb.apply(o,[{key:k,value:v,index:i,keys:ks,obj:o,type:typeof v}])}object("keyLoop",function(obj,cb,m){return Object.keys(obj).forEach((m?iterator2:iterator).bind(obj,obj,cb))}),object("keyMap",function(obj,cb,m){return Object.keys(obj).map((m?iterator2:iterator).bind(obj,obj,cb))}),object("keyFilter",function(obj,cb,m){var r={},o=obj;return Object.keys(o).filter((m?iterator2:iterator).bind(o,o,cb)).forEach(function(k){r[k]=o[k]}),r});var ab_now=function(){if(Object.env.isNode){var perf_hooks=require("perf_hooks");return perf_hooks.performance.now.bind(perf_hooks.performance)}return"object"==typeof performance&&"function"==typeof performance.now?performance.now.bind(performance):Date.now.bind(Date)}();Object.a_b_test_logging=!1,object("a_b_test",function(obj,fn,trials,loops,mode){if(arguments.length<6)return!1;if("string"!=typeof fn)return!1;if(["number","undefined"].indexOf(typeof trials)<0)return!1;if(["number","undefined"].indexOf(typeof loops)<0)return!1;var THIS=!1,logging=Object.a_b_test_logging;if("object"==typeof obj)switch(mode){case!1:case!0:THIS=void 0;break;default:if(["function","undefined"].indexOf(typeof mode)<0){THIS=mode;break}obj.constructor===mode&&"function"==typeof mode&&(THIS=void 0)}if(!1===THIS)return!1;var config=Object.getOwnPropertyDescriptor(obj,fn);if(!config)return!1;if(!config.writable||!config.configurable)return!1;var native=obj[fn];if("function"!=typeof native)return!1;trials=trials||100,loops=loops||1;var fns=cpArgs(arguments).slice(5);if(fns.some(function(fn){return"function"!=typeof fn}))return!1;fns.push(native);function next_trial(){trials<=++count&&function(){for(var best=1/0,best_ix=-1,i=0;i<ab_count;i++)totals[i]<best&&(best=totals[i],best_ix=i);var average=totals[best_ix]/count;logging&&(console.log(totals.map(function(total,ix){return{name:fns[ix].name,total:Number(total.toFixed(3)),per_trial:Number((total/count).toFixed(3)),per_invoke:Number((total/(count*loops)).toFixed(4))}})),fns[best_ix]===native?console.log("reverting to native mode for",fn,"after",count,"tests",average,"average msec"):console.log("selected mode",String.fromCharCode(97+best_ix),"for",fn,"after",count,"tests",average,"average msec"));config.value=fns[best_ix],delete obj[fn],Object.defineProperty(obj,fn,config)}()}function next(inc){ab_count<=++a_b&&(a_b=0),inc&&next_trial()}var count=0,a_b=0,totals=fns.map(function(){return 0}),ab_count=fns.length,names=fns.map(function(x){return x.name}).join(",");config.value=logging?function(){var result,start,start_,finish,elapsed,compare,this_=THIS||this,do_loops=loops,args=cpArgs(arguments),err=1!==loops&&new Error("inconsistent results");try{if(start=ab_now(),result=fns[a_b].apply(this_,args),elapsed=(finish=ab_now())-start,totals[a_b]+=elapsed,1===do_loops)console.log("trial #"+count+": invoked",fns[a_b].name,args.length,"args returning",result,"took",elapsed.toFixed(3),"msec"),next(!0);else{for(start_=start,next(!1);0<--do_loops;){if(start=ab_now(),compare=fns[a_b].apply(this_,args),finish=ab_now(),result!==compare)throw err;elapsed=finish-start,totals[a_b]+=elapsed,next(!1)}elapsed=finish-start_,console.log("trial #"+count+": invoked",names,"(",args.length,"args)",loops,"times, returning",result,"took",elapsed.toFixed(3),"msec (",(elapsed/loops).toFixed(3),"msec per invoke)"),next_trial()}}catch(e){if(fns[a_b]!==native)return(obj[fn]=native).apply(this_,args);throw e}return result}:function(){var result,start,start_,finish,elapsed,compare,this_=THIS||this,do_loops=loops,args=cpArgs(arguments),err=1!==loops&&new Error("inconsistent results");try{if(start=ab_now(),result=fns[a_b].apply(this_,args),elapsed=(finish=ab_now())-start,totals[a_b]+=elapsed,1===do_loops)next(!0);else{for(start_=start,next(!1);0<--do_loops;){if(start=ab_now(),compare=fns[a_b].apply(this_,args),finish=ab_now(),result!==compare)throw err;elapsed=finish-start,totals[a_b]+=elapsed,next(!1)}elapsed=finish-start_,next_trial()}}catch(e){if(fns[a_b]!==native)return(obj[fn]=native).apply(this_,args);throw e}return result},delete obj[fn],Object.defineProperty(obj,fn,config)}),object("a_b_test_async",function(obj,fn,trials,mode){if(arguments.length<5)return!1;if("string"!=typeof fn)return!1;if(["number","undefined"].indexOf(typeof trials)<0)return!1;if(["number","undefined"].indexOf(typeof loops)<0)return!1;var THIS=!1,logging=Object.a_b_test_logging;if("object"==typeof obj)switch(mode){case!1:case!0:THIS=void 0;break;default:if(["function","undefined"].indexOf(typeof mode)<0){THIS=mode;break}obj.constructor===mode&&"function"==typeof mode&&(THIS=void 0)}if(!1===THIS)return!1;var config=Object.getOwnPropertyDescriptor(obj,fn);if(!config)return!1;if(!config.writable||!config.configurable)return!1;var native=obj[fn];if("function"!=typeof native)return!1;trials=trials||100;var fns=cpArgs(arguments).slice(4);if(fns.some(function(fn){return"function"!=typeof fn}))return!1;fns.push(native);function next_trial(){trials<=++count&&function(){for(var best=1/0,best_ix=-1,i=0;i<ab_count;i++)totals[i]<best&&(best=totals[i],best_ix=i);var average=totals[best_ix]/count;logging&&(console.log(totals.map(function(total,ix){return{name:fns[ix].name,total:Number(total.toFixed(3)),per_invoke:Number((total/count).toFixed(3))}})),fns[best_ix]===native?console.log("reverting to native mode for",fn,"after",count,"tests",average,"average msec"):console.log("selected mode",String.fromCharCode(97+best_ix),"for",fn,"after",count,"tests",average,"average msec"));config.value=fns[best_ix],delete obj[fn],Object.defineProperty(obj,fn,config)}()}var count=0,a_b=0,totals=fns.map(function(){return 0}),ab_count=fns.length,next=function(inc){ab_count<=++a_b&&(a_b=0),inc&&next_trial()};fns.map(function(x){return x.name}).join(",");config.value=logging?function(){var start,finish,elapsed,this_=THIS||this,args=cpArgs(arguments),cb=0<args.length&&"function"==typeof args[args.length-1]&&args[args.length-1];return cb?(args[args.length-1]=function(){finish=ab_now(),elapsed=finish-start,totals[a_b]+=elapsed,console.log("trial #"+count+": invoked",fns[a_b].name,args.length,"args returning",void 0,"took",elapsed.toFixed(3),"msec"),next(!0),cb.apply(this_,cpArgs(arguments))},start=ab_now(),fns[a_b].apply(this_,args)):function(args,this_){var result,start,elapsed;try{start=ab_now(),result=fns[a_b].apply(this_,args),elapsed=ab_now()-start,totals[a_b]+=elapsed,console.log("trial #"+count+": invoked",fns[a_b].name,args.length,"args returning",result,"took",elapsed.toFixed(3),"msec"),next(!0)}catch(e){if(fns[a_b]!==native)return(obj[fn]=native).apply(this_,args);throw e}return result}(args,this_)}:function(){var start,finish,elapsed,this_=THIS||this,args=cpArgs(arguments),cb=0<args.length&&"function"==typeof args[args.length-1]&&args[args.length-1];return cb?(args[args.length-1]=function(){finish=ab_now(),elapsed=finish-start,totals[a_b]+=elapsed,next(!0),cb.apply(this_,cpArgs(arguments))},start=ab_now(),fns[a_b].apply(this_,args)):function(args,this_){var result,start,elapsed;try{start=ab_now(),result=fns[a_b].apply(this_,args),elapsed=ab_now()-start,totals[a_b]+=elapsed,next(!0)}catch(e){if(fns[a_b]!==native)return(obj[fn]=native).apply(this_,args);throw e}return result}(args,this_)},delete obj[fn],Object.defineProperty(obj,fn,config)}),object("a_b_test_tester",function(loops,quick){loops=loops||1;var logging_backup=Object.a_b_test_logging;Object.a_b_test_logging=!0;var String_prototype_indexOf=String.prototype.indexOf,sample=quick?"the quick brown fox jumps over the lazy dog":require("fs").readFileSync("./words.txt","utf8"),indexOfC_lookups=function(sep){var d={},c=0;console.log("preparing lookups...");for(var r,k,sampleSet=sample.split(sep),max=Math.min(25e3,sampleSet.length);c<max;)(k=sampleSet[r=Math.floor(Math.random()*sampleSet.length)])&&(sampleSet[r]=null,d[k=k.trim()]=sample.indexOf(k),++c%500==0&&(sampleSet=sampleSet.filter(function(x){return null!==x}),console.log("added",c,"random words, just added  [",k.padStart(20),"]",(c/(max/100)).toFixed(1),"% complete")));var keys=Object.keys(d),first=keys.shift(),last=keys.pop();return keys.splice(0,keys.length),console.log("prepared",c,"lookups",first,"thru",last),d}(quick?" ":"\n");function indexOf_a(str){for(var c=this.length,l=str.length,i=0;i<c;i++)if(this.substr(i,l)===str)return i;return-1}function indexOf_b(str){for(var c=this.length,i=(str.length,0);i<c;i++)if(this.substr(i).startsWith(str))return i;return-1}function indexOf_c(str){var x=indexOfC_lookups[str];return void 0===x&&(x=String_prototype_indexOf.call(this,str)),x}Object.a_b_test(String.prototype,"indexOf",10,loops,String,indexOf_a,indexOf_b,indexOf_c);for(var i=0;i<10;i++)sample.indexOf("fox"),sample.indexOf("jumps"),sample.indexOf("notFound"),sample.indexOf("abacinate"),sample.indexOf("dog"),sample.indexOf("lazy"),sample.indexOf("quick"),sample.indexOf("zebra"),sample.indexOf("the");var tester={test:function(a,b){return a.indexOf(b)}};for(Object.a_b_test(tester,"test",10,loops,!1,function(a,b){return indexOf_a.call(a,b)},function(a,b){return indexOf_b.call(a,b)},function(a,b){return indexOf_c.call(a,b)}),i=0;i<10;i++)tester.test(sample,"fox"),tester.test(sample,"jumps"),tester.test(sample,"notFound"),tester.test(sample,"abacinate"),tester.test(sample,"dog"),tester.test(sample,"lazy"),tester.test(sample,"quick"),tester.test(sample,"zebra"),tester.test(sample,"the");var tester2={test:sample.indexOf};for(Object.a_b_test(tester2,"test",10,loops,sample,indexOf_a,indexOf_b,indexOf_c),i=0;i<10;i++)tester2.test("fox"),tester2.test("jumps"),tester2.test("notFound"),tester2.test("abacinate"),tester2.test("dog"),tester2.test("lazy"),tester2.test("quick"),tester2.test("zebra"),tester2.test("the");var tester3={data:sample};for(Object.defineProperties(tester3,{test:{value:function(str){return this.data.indexOf(str)},configurable:!0,writable:!0},test_a:{value:function(str){return indexOf_a.call(this.data,str)}},test_b:{value:function(str){return indexOf_b.call(this.data,str)}},test_c:{value:function(str){return indexOf_c.call(this.data,str)}}}),Object.a_b_test(tester3,"test",10,loops,!0,tester3.test_a,tester3.test_b,tester3.test_c),i=0;i<10;i++)tester3.test("fox"),tester3.test("jumps"),tester3.test("notFound"),tester3.test("abacinate"),tester3.test("dog"),tester3.test("lazy"),tester3.test("quick"),tester3.test("zebra"),tester3.test("the");Object.a_b_test_logging=logging_backup}),object("a_b_test_async_tester",function(trials){trials=trials||10;var logging_backup=Object.a_b_test_logging;Object.a_b_test_logging=!0;var fs=require("fs"),readFileNative=fs.readFile.bind(fs);function readFile_a(){var delay=Math.floor(100+900*Math.random()),args=[readFileNative,delay].concat(cpArgs(arguments));return setTimeout.apply(global,args)}var count=trials+10;function afterRead(err,data){console.log({afterRead:{err:err,data:typeof data,length:data?data.length:void 0,count:count}}),!err&&0<data.indexOf("fs.readFile")?0<count--?(console.log("looping"),fs.readFile(__filename,"utf8",afterRead)):Object.a_b_test_logging=logging_backup:console.log("???")}fs.readFile(__filename,"utf8",function(err,data){console.log({err:err,data:typeof data,length:data?data.length:void 0}),!err&&0<data.indexOf("fs.readFile")&&(console.log("native fs.readFile looks ok"),readFile_a(__filename,"utf8",function(err,data){console.log({readFile_a:{err:err,data:typeof data,length:data?data.length:void 0}}),!err&&0<data.indexOf("fs.readFile")&&(console.log("delayed fs.readFile stub looks ok"),Object.a_b_test_async(fs,"readFile",trials,!0,readFile_a.bind(fs)),fs.readFile(__filename,"utf8",afterRead))}))})})}),extend(Array,function(array){array.prototype("remove",function(o){for(var ix;0<=(ix=this.indexOf(o));)this.splice(ix,1)}),array.prototype("contains",function(o){return 0<=this.lastIndexOf(o)}),array.prototype("add",function(o){this.indexOf(o)<0&&this.push(o)}),array.prototype("toggle",function(o){var ix,result=(ix=this.indexOf(o))<0;if(result)this.push(o);else for(;0<=ix;)this.splice(ix,1),ix=this.indexOf(o);return result}),array.prototype("replace",function(oldValue,newValue){if(oldValue&&oldValue!==newValue)for(var ix;0<=(ix=this.indexOf(oldValue));)this.splice(ix,1,newValue)}),array.prototype("item",function(ix){return this[ix]}),array("flattenArray",function(input,fn_bind_context,minArgs){function getValues(x,ix){switch(jsClass(x)){case"String":case"RegExp":return output.push(x);case"Array":return has_objects=!0,output.push.apply(output,x);case"Object":return has_objects=!0,output.push.apply(output,Object.values(x));case"Number":return output.push(x.toString());case"Function":if(fn_bind_context&&(1===x.length||x.length>=(minArgs||1))&&0<=Object.keys(x).length){var bound_fns=[];return Object.keys(x).forEach(function(k){Array.flattenArray(x[k],fn_bind_context,minArgs).forEach(function(term,term_ix){var fn_x=1===x.length?x(term):x.bind(fn_bind_context,term);Object.defineProperties(fn_x,{name:{value:("fn "+x.name+" "+k+" "+term+" "+(0===term_ix?"":" "+term_ix.toString(36))).split(" ").map(function(camel,ix){return 0===ix?camel.toLowerCase():camel.charAt(0).toUpperCase()+camel.substr(1).toLowerCase()}).join("")}}),bound_fns.push(fn_x)})}),output.push.apply(output,bound_fns)}return output.push(x)}}var output=[],has_objects=!1;for(getValues(input);has_objects;)input=output,has_objects=!(output=[]),input.forEach(getValues);return output}),array("flattenArrayWithPaths",function(input){var save_dir,output=[],paths=[],dir=[],getValues=function(x,ix){var here=void 0===ix?[]:[ix];switch(jsClass(x)){case"String":case"RegExp":return paths.push(dir.concat(here)),output.push(x);case"Array":return dir=(save_dir=dir).concat(here),x.forEach(getValues),void(dir=save_dir);case"Object":return dir=(save_dir=dir).concat(here),Object.keys(x).forEach(function(key){return getValues(x[key],key)}),void(dir=save_dir);case"Number":return paths.push(dir.concat(here)),output.push(x.toString())}};return getValues(input),{arr:output,paths:paths.map(stringifyPathArray)}}),array("followArrayPath",function(arr,path){return parsePathString(path).some(function(p){return!(arr=arr[p])}),arr}),array("setArrayPath",function(arr,path,value){return parsePathString(path).some(function(p,ix,keys){if(arr[p]){if(ix+1===keys.length)return arr[p]=value,!0}else{if(!(ix+1<keys.length))return arr[p]=value,!0;"string"==typeof keys[ix+1]?arr[p]={}:arr[p]=[]}return arr=arr[p],!1}),arr}),array.prototype("atPath",function(path){return Array.followArrayPath(this,path)}),array("proxifyArray",function(wrapped,console){wrapped="object"==typeof wrapped&&wrapped.constructor===Array?wrapped:"string"==typeof wrapped&&2<wrapped.length&&"["===wrapped.charAt(0)&&"]"===wrapped.substr(-1)?JSON.parse(wrapped):[];var sysConsole=console||{log:function(){}};console=sysConsole;function event_cmd(fn){event_props[fn.name]={value:fn,enumerable:!1,configurable:!0}}var events={push:[],pop:[],shift:[],unshift:[],splice:[]},event_props={};event_cmd(function(){console={log:function(){}}}),event_cmd(function(con){console=con||sysConsole}),event_cmd(function(ev,fn){"function"==typeof fn&&"object"==typeof events[ev]&&events[ev].indexOf(fn)<0&&events[ev].push(fn)}),event_cmd(function(ev,fn){if("function"==typeof fn&&"object"==typeof events[ev]){var ix=events[ev].indexOf(fn);0<=ix&&(console.log("removing event",ev),events[ev].splice(ix,1))}else"all"===fn&&"object"==typeof events[ev]?(console.log("removing",events[ev].length,"events from",ev),events[ev].splice(0,events[ev].length)):"all"===ev&&void 0===fn&&Object.keys(events).forEach(function(ev){console.log("removing",events[ev].length,"events from",ev),events[ev].splice(0,events[ev].length)})});var hookEventProp,wrapped_props,handlers={},original_props={hook:{value:function(){return delete wrapped.hook,delete wrapped.unhook,Object.defineProperties(wrapped,wrapped_props),wrapped},enumerable:!1,configurable:!0},unhook:{value:function(){return wrapped},enumerable:!1,configurable:!0}};wrapped_props={hook:{value:function(){return wrapped},enumerable:!1,configurable:!0},unhook:{value:function(){return delete wrapped.hook,delete wrapped.unhook,Object.defineProperties(wrapped,original_props),wrapped},enumerable:!1,configurable:!0}};return hookEventProp=function(ev){handlers[ev]={apply:function(ev,target,thisArg,argumentsList){var payload={event:ev,target:target};return payload[ev]={wrapped:wrapped,thisArg:thisArg,argumentsList:argumentsList,result:target.apply(wrapped,argumentsList)},events[ev].length?events[ev].forEach(function(fn){fn(payload)}):events.change.length?events.change.forEach(function(fn){fn(payload)}):console.log({event:payload}),payload[ev].result}.bind(this,ev)},original_props[ev]={value:wrapped[ev],enumerable:!1,configurable:!0},wrapped_props[ev]={value:new Proxy(original_props[ev].value,handlers[ev]),enumerable:!1,configurable:!0}},Object.keys(events).forEach(hookEventProp),events.change=[],Object.defineProperties(wrapped,wrapped_props),Object.defineProperties(wrapped,event_props),wrapped}),array.prototype("proxify",function(){return Array.proxifyArray(this)}),array.prototype("renderWithTemplate",function(template){return String.stringRenderer(template,this)})}),extend(String,function(string){string.prototype("contains",function(s){return String.prototype.includes.call(this,s)});var getOutput=RegExp.split.getOutput;function wrapStringMethod(method,checkEmpty){string.prototype(method,function(needle,limit,map){return checkEmpty&&checkEmpty(needle)?null:String[method](this,needle,limit,map)})}function camelCaseWord(s,ix){return s=s.trim().toLowerCase(),0===ix?s:s.charAt(0).toUpperCase()+s.substr(1)}function camelCaseArray(a){return a.map(camelCaseWord).join("")}function makeTextToken(x){var t={text:x.text};return Object.defineProperties(t,{toString:{value:function(){return this.text},enumerable:!1,configurable:!0}}),t}function makeToken(x){var t={split:x.delimit,mode:x.mode};return x.groups&&(t.groups=x.groups),x.delimit_src&&(t.src=x.delimit_src),Object.defineProperties(t,{toString:{value:function(){return this.text||this.split},enumerable:!1,configurable:!0}}),t}function whiteOutComments(src,singleChar,multiChar){var out=[],number="number"===singleChar,num_prefix=multiChar||"",w1=number?" ":singleChar||" ",w2=number?" ":multiChar||" ",white1=!1===singleChar?function(){return""}:function(x){return new Array(x.length+1).join(w1)},white2=!1===multiChar?function(){return""}:function(x){return new Array(x.length+1).join(w2)},singleStart=" "===w1?"  ":"//",multiStart=" "===w2?"  ":"/*",multiEnd=" "===w2?"  ":"*/",lines=src.split("\n"),isMulti=lines.map(function(){return!1}),regex=/(?<=(\(|=|;|,|^)\s*)\/((?![*+?])(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])+)\/((?:g(?:im?|mi?)?|i(?:gm?|mg?)?|m(?:gi?|ig?)?)?)/,escapes={escapedSingleQuote:/\\'/g,escapedDoubleQuote:/\\"/g,escapedNewLine:/\\\n/g},regexps={singleLine:/\/\//g,newLine:/\n/g,multiLineStart:/(?<!\/)\/\*/g,multiLineEnd:/\*\//g,singleQuote:/\'/g,doubleQuote:/\"/g},inMultiLineComment=!1;if(lines.forEach(function(line,ix){var OUT="",toks0=line.ArraySplit(regex),toks1=[],toks2=[];toks0?toks0.tokens.forEach(function(tok){if(tok.text){var sub=tok.text.ArraySplit(escapes);sub?sub.tokens.forEach(function(tok){toks2.push(tok)}):toks1.push(tok)}else toks1.push(tok)}):toks1=(toks1=line.ArraySplit(escapes))?toks1.tokens:[{text:line}],toks1.forEach(function(tok){if(tok.text){var sub=tok.text.ArraySplit(regexps);sub?sub.tokens.forEach(function(tok){toks2.push(tok)}):toks2.push(tok)}else toks2.push(tok)}),toks1=toks0=null;var inSingleLineComment=!1,inSingleQuote=!1,inDoubleQuote=!1;isMulti[ix]=inMultiLineComment,toks2.forEach(function(x){switch(!0){case inSingleLineComment:switch(x.src){case regex:case regexps.singleQuote:case regexps.doubleQuote:case escapes.escapedSingleQuote:case escapes.escapedDoubleQuote:case regexps.singleLine:case regexps.multiLineStart:case regexps.multiLineEnd:OUT+=white1(x.split);break;case escapes.escapedNewLine:OUT+=white1(" ")+"\n";break;case regexps.newLine:inSingleLineComment=!1,OUT+=x.split;break;default:x.text&&(OUT+=white1(x.text))}break;case inMultiLineComment:switch(x.src){case regex:case regexps.doubleQuote:case regexps.singleQuote:case escapes.escapedSingleQuote:case escapes.escapedDoubleQuote:case regexps.singleLine:case regexps.multiLineStart:OUT+=white2(x.split);break;case escapes.escapedNewLine:OUT+=white2(" ")+"\n";break;case regexps.multiLineEnd:OUT+=multiEnd,inMultiLineComment=!1;break;case regexps.newLine:OUT+=x.split;break;default:x.text&&(OUT+=white2(x.text))}break;case inSingleQuote:switch(x.src){case regex:case escapes.escapedSingleQuote:case escapes.escapedDoubleQuote:case regexps.singleLine:case regexps.multiLineStart:case regexps.multiLineEnd:case escapes.escapedNewLine:case regexps.doubleQuote:OUT+=x.split;break;case regexps.singleQuote:OUT+=x.split,inSingleQuote=!1;break;case regexps.newLine:throw new Error("unterminated string");default:x.text&&(OUT+=x.text)}break;case inDoubleQuote:switch(x.src){case regex:case escapes.escapedSingleQuote:case escapes.escapedDoubleQuote:case regexps.singleLine:case regexps.multiLineStart:case regexps.multiLineEnd:case escapes.escapedNewLine:case regexps.singleQuote:OUT+=x.split;break;case regexps.doubleQuote:OUT+=x.split,inDoubleQuote=!1;break;case regexps.newLine:throw new Error("unterminated string");default:x.text&&(OUT+=x.text)}break;default:if(x.text){OUT+=x.text;break}switch(x.src){case regexps.singleLine:OUT+=singleStart,inSingleLineComment=!0;break;case regexps.multiLineStart:OUT+=multiStart,inMultiLineComment=!0;break;case regexps.multiLineEnd:throw new Error(" OUT of place */");case regexps.singleQuote:inSingleQuote=!0,OUT+=x.split;break;case regexps.doubleQuote:inDoubleQuote=!0,OUT+=x.split;break;case regex:case regexps.newLine:OUT+=x.split}}}),out.push(OUT)}),lines.length!==out.length)throw new Error("internal error - out.length !== lines.length !");if(!1===singleChar&&!1===multiChar){function empty_lines(x){return 0<x.length}function collapse_line_ends(line,ix,ar){if(ix<ar.length-1){var next_line=ar[ix+1];(line.endsWith("=")||line.endsWith("{")||next_line.startsWith("}"))&&(line+=next_line,ar[ix+1]="",fix_needed=!0)}return line}var fix_needed=!0;for(out=out.map(function(line){return line.trim()}).filter(empty_lines);fix_needed;)fix_needed=!1,out=out.map(collapse_line_ends).filter(empty_lines)}if(!number)return out.join("\n");var pad=2+(1+lines.length).toString().length;return lines.map(function(line,ix){return isMulti[ix]?" *"+num_prefix+(1+ix).toString().padStart(pad)+" *  "+line:"/*"+num_prefix+(1+ix).toString().padStart(pad)+" */ "+line}).join("\n")}function ArraySplitViaWhitespaceComments(code,needle,limit,map,wc){wc=wc||String.fromCharCode(255);var split=whiteOutComments(code,wc,wc).ArraySplit(needle,limit);if(!split)return split;function falseToNull(x,ix){return!1===x||limit&&limit-1<=ix?null:x}var tok_ix=0;return split.raw.forEach(function(x,ix){x.text=x.length?code.substr(x.start,x.length):"",split[ix]=map?map(x.text,ix,split,x.start,falseToNull(x.next,ix),falseToNull(x.delimit,ix)):x.text,0!==x.length&&(split.tokens[tok_ix++]=makeTextToken(x)),x.delimit&&(split.tokens[tok_ix++]=makeToken(x))}),split}string("StringSplit",function(haystack,needle,limit,map){if(isEmpty(needle)||!isString(needle))return null;var haystack_length=haystack.length,splits=String.split(haystack,needle,limit),splits_length=splits.length;if(!map||!splits)return splits&&splits[0].length!==haystack_length?splits:null;var output_push,output=getOutput(map,function(push){output_push=push});if(splits_length<=1)return output_push(splits[0],0,null,null),output;var atIndex=0;needle.length;return splits.forEach(function(text,ix){var tail=ix===splits.length-1?null:needle;output_push(text,atIndex,null===tail?null:atIndex+text.length+tail.length,tail),atIndex=atIndex+text.length+(null===tail?0:tail.length)}),splits.splice(0,splits.length),output}),wrapStringMethod("StringSplit"),string.prototype("toCamelCase",function(){return camelCaseArray(this.replace(/-|\/|\+|_|\./g," ").split(" ").filter(function(x){return""!==x}))}),string("sha1",Object.env.isNode?function(){var crypto=require("crypto");return function(str,cb){var shasum=crypto.createHash("sha1");shasum.update(str);var hex=shasum.digest("hex");return"function"==typeof cb?setImmediate(cb,hex):hex}}():"function"==typeof window.sha1?function(str,cb){var hex=window.sha1(str);return"function"==typeof cb?cb(hex):hex}:function(){}),string.prototype("@sha1",function(){return String.sha1(""+this)}),string("htmlGenerator",function(template){var html=isString(template)&&0<template.length?""+template:"<!doctype html><html><head><title></title><style></style></head><body></body></html>",self={};return Object.defineProperties(self,{html:{get:function(){return html.replace(/(?<!<script.*src.*>)<\/script>\s*<script>/g,"")},set:function(h){html=h},enumerable:!0,configurable:!0},append:{value:function(h,where){switch(where="</"+(where||"body")+">",!0){case"function"==typeof h:h="<script>"+(h=h.toString()).substring(h.search(/{/)+1,h.length-1)+"<\/script>";break;case"object"==typeof h:h="<script>\n"+Object.varify(h)+"<\/script>";break;case 0===h.search(/^(\/[a-z]|[A-Z]|[0-9])*.*\.js/)&&-1===h.search(/\s/):h='<script src="'+h+'"><\/script>';break;case 0===h.search(/^(\/[a-z]|[A-Z]|[0-9])*.*\.css/)&&-1===h.search(/\s/):where="</head>",h='<link href="'+h+'" rel="stylesheet"\\>'}return html=html.replace(where,h+"\n"+where),self},enumerable:!0,configurable:!0},replace:{value:function(a,b){return html=html.replace(a,b),self},enumerable:!0,configurable:!0}})}),string.prototype("htmlGenerator",function(){return String.htmlGenerator(this)}),string("stringRenderer",function(template,obj){function render(temp,obj,ix){function getAllProperties(obj){function fetch(prop){allProps.indexOf(prop)<0&&allProps.push(prop)}for(var allProps=[],curr=obj;Object.getOwnPropertyNames(curr).forEach(fetch),curr=Object.getPrototypeOf(curr););return allProps}function zap(prefix,obj){getAllProperties(obj).forEach(function(key){var splitter="${"+prefix+key+"}",val=obj[key];if("object"==typeof val)null!==val&&zap(prefix+key+".",val);else{var splits=temp.split(splitter);1<splits.length&&(temp="function"==typeof val?splits.join(val.apply(obj,[temp,ix,template])):splits.join(val))}})}return zap("",obj),temp}return Array.isArray(obj)?obj.map(render.bind(this,template)).join("\n"):render(template,obj)}),string.prototype("renderWithObject",function(obj){return String.stringRenderer(this,obj)}),string("customNeedleString",function(s,name,props){switch(jsClass(s)){case"String":var S=String;if(void 0!==(s="string"==typeof s?new S(s):s).__CustomSplit){if(s.__CustomSplit==name)return s;delete s.__CustomSplit}return(props=props||{}).__CustomSplit={value:camelCaseWord(name),enumerable:!1,configurable:!0},Object.defineProperties(s,props),s;case"Object":case"Array":return Array.flattenArray(s).map(function(e){return String.customNeedleString(e,name,props)});default:return s}}),string("makeTextToken",makeTextToken),string("makeToken",makeToken),string("ArraySplit",function(){var c,c2,m,m2,s,re,needleFunctionName=(s=Object.prototype.toString.call.bind(Object.prototype.toString),re=/(\[object)\s{1}/g,function(haystack,needle){return m=(c=s(haystack)).match(re),m2=(c2=s(needle)).match(re),m&&m2?camelCaseArray([c.substring(m[0].length,c.length-1),c2.substring(m2[0].length,c2.length-1),needle.__CustomSplit||""])+"Split":""}),splitters={stringRegexpSplit:stringRegexpSplit,stringStringSplit:function(haystack,needle,limit,map){var check_fn=needleFunctionName(haystack,needle);{if("stringStringSplit"===check_fn){if(0===needle.length)return null;haystack.length;var splits=haystack.split(needle,limit),splits_length=splits.length;if(splits_length<=1)return null;function remap(el,ix){return map(el.text,ix,out,el.start,el.next,ix<splits_length-1?needle:null,null)}function get_el_n(str_n,n,els){switch(n){case 0:return out.push(map?remap(el0,n):el0)}var str_n_len=str_n.length,str_n_end=el_n_minus_1.next+str_n_len,el_n={start:el_n_minus_1.next,end:str_n_end,length:str_n_len,text:str_n,prev:el_n_minus_1.start,next:n<splits_length-1&&str_n_end+needle_len,delimit:n<splits_length-1&&needle,delimit_length:n<splits_length-1&&needle_len,index:n,mode:"String"};el_n_minus_1=el_n,out.push(map?remap(el_n,n):el_n)}var out=[],needle_len=needle.length,str_0=splits[0],s0_len=str_0.length,el0={start:0,end:s0_len,length:s0_len,text:str_0,prev:!1,next:s0_len+needle_len,delimit:needle,delimit_length:needle_len,index:0,mode:"String"},el_n_minus_1=el0;return 2===splits_length?(map?out.push(remap(el0,0)):out.push(el0),get_el_n(splits[1],1)):splits.forEach(get_el_n),out}var msg="stringRegexpSplit called - should it not be "+check_fn+" ?";throw console.log(msg)}},stringArraySplit:stringArraySplit,stringObjectSplit:function(haystack,needles,limit,map){return ArraySplit(haystack,Array.flattenArray(needles),limit,map)},stringStringWordsearchSplit:function(haystack,needle,limit,map){var word=needle.toString(),customNeedle=RegExp("(?<![\\w\\d])"+word+"(?![\\w\\d])");return customNeedle.__CustomSplit="Wordsearch("+word+")",customNeedle.__CustomSplit_src=needle,stringRegexpSplit(haystack,customNeedle,limit)}};function stringRegexpSplit(haystack,needle,limit,map){var check_fn=needleFunctionName(haystack,needle);if(check_fn.startsWith("stringRegexp")){haystack.length;var mode=needle.__CustomSplit?needle.__CustomSplit:"RegExp",delimit_src=needle,splits=String.RegExpSplit(haystack,needle,limit,map||function(mode,text,index,theArray,start,end,delimit,match,strings){if(!1!==text)return function(text,index,theArray,start,end,delimit,mode){var at_start=0===index,prev=theArray[index-1],at_end=!delimit,text_length=text.length,text_start=at_end?at_start?0:prev.next:start;return{start:text_start,end:text_start+text_length,text:text,length:text_length,prev:!at_start&&prev.next,next:!at_end&&end,delimit:!at_end&&delimit,delimit_src:!at_end&&delimit_src,delimit_length:!at_end&&delimit.length,index:index,mode:mode}}(text,index,theArray,start,end,delimit,mode);if(0===theArray.length)return;var last=theArray[theArray.length-1];last.start===start&&strings&&strings.groups&&(last.groups=strings.groups)}.bind(this,mode));return splits[splits.length-1].next=!1,splits}var msg="stringRegexpSplit called - should it not be "+check_fn+" ?";throw console.log(msg)}function sortOnDelimitStart(lowest,highest){return lowest.delimit_start-highest.delimit_start}function checkOverlaps(inst1,ix1,ar){ar.forEach(function(inst2,ix2){if(ix2!==ix1){if(inst2.delimit_start>inst1.delimit_start){if(inst2.delimit_start<inst1.delimit_end)throw console.log({inst1:inst1,inst2:inst2}),new Error("overlapping split terms")}else if(inst2.delimit_end>inst1.delimit_start){if(inst2.delimit_start<inst1.delimit_start)throw console.log({inst1:inst1,inst2:inst2}),new Error("overlapping split terms")}else if(inst2.delimit_end<inst1.delimit_end&&inst2.delimit_end>inst1.delimit_start)throw console.log({inst1:inst1,inst2:inst2}),new Error("overlapping split terms");if(inst1!==inst2&&!1!==inst1.next&&!1!==inst2.next&&(!1!==inst1.delimit_start&&inst1.delimit_start===inst2.delimit_start||!1!==inst1.delimit_end&&inst1.delimit_end===inst2.delimit_end))throw console.log({inst1:inst1,inst2:inst2}),new Error("overlapping split terms")}})}function stringArraySplit(haystack,needles,limit,map){if(isString(haystack)&&"object"==typeof needles&&needles.constructor===Array){haystack.length;var needle_descs=needles.map(function(n){return result=(needle=n).toString(),needle.__CustomSplit?needle.__CustomSplit+"("+result+")":result;var needle,result});needles=needles.filter(function(ignore,ix){return needle_descs.indexOf(needle_descs[ix])===ix}),needle_descs.length,needles.length,needle_descs.splice(0,needle_descs.length);function remap(el,ix){return map(el.text,ix,out,el.start,el.next,el.delimit,null)}var splits=needles.map(function(needle){var fn=String.needleFunction(haystack,needle);return fn?fn.call(this,haystack,needle,limit):null}),out=[],work=splits.map(function(arr,ix){return null===arr?null:1===arr.length?null:{ix:ix,splits:arr}}).filter(function(x){return null!==x});if(0===work.length)return null;if(1===work.length)return map?work[0].splits.map(remap):work[0].splits;work=work.map(function(delim){return delim.start=delim.splits[0].start,delim.text=delim.splits[0].text,delim.delimit=delim.splits[0].delimit,delim.delimit_start=delim.splits[0].end,delim.delimit_end=delim.splits[0].next,delim.end=delim.splits[0].next,delim.splits.forEach(function(inst){inst.delimit_start=inst.end,inst.delimit_end=inst.next,Object.defineProperties(inst,{delim:{value:delim,enumerable:!1,configurable:!0}})}),delim});var pending=[];work.forEach(function(delim){delim.splits.forEach(function(inst){pending.push(inst)})}),pending.sort(sortOnDelimitStart),pending.forEach(checkOverlaps),(pending=pending.filter(function(inst,ix){return null!==inst&&!!inst.delimit&&(void 0===limit||ix<limit)})).forEach(function(inst,ix,ar){inst.start=0===ix?0:ar[ix-1].delimit_end,inst.end=ix<ar.length||inst.delimit_end===haystack.length?inst.delimit_start:haystack.length,inst.length=inst.end-inst.start,inst.text=haystack.substring(inst.start,inst.end),delete inst.index,delete inst.prev,delete inst.next,inst.index=ix,out.push(map?remap(inst,ix):inst)});var last=out[out.length-1];if(last.delimit_end<haystack.length&&(void 0===limit||out.length<limit)){var final={start:last.delimit_end,end:haystack.length,length:haystack.length-last.delimit_end,text:haystack.substring(last.delimit_end,haystack.length),delimit:!1,delimit_start:!1,delimit_end:!1,index:out.length};out.push(map?remap(final,out.length):final)}return out}return null}function ArraySplit(haystack,needles,limit,map){if(isEmpty(needles))return null;var tokens=[],flattened=Array.flattenArrayWithPaths(needles),flat=flattened.arr,raw=stringArraySplit(haystack,flat,limit);if(null===raw)return raw;function falseToNull(x,ix){return!1===x||limit&&limit-1<=ix?null:x}var out=[];raw.some(function(x,index){return 0!==x.length&&tokens.push(makeTextToken(x)),x.delimit&&tokens.push(makeToken(x)),out.push(map?map(x.text,index,out,x.start,falseToNull(x.next,index),falseToNull(x.delimit,index)):x.text),void 0!==limit&&index===limit-1});var td_cache;return Object.defineProperties(out,{all_needles:{enumerable:!1,configurable:!0,writable:!0,value:needles},needles:{enumerable:!1,configurable:!0,writable:!0,value:flat},raw:{enumerable:!1,configurable:!0,writable:!0,value:raw},tokens:{enumerable:!1,configurable:!0,writable:!0,value:tokens},token_distribution:{enumerable:!1,configurable:!0,get:function(){if(!td_cache){td_cache={},tokens.forEach(function(x,ix){if(x.split){var split=x.src?x.src.__CustomSplit?x.mode:x.mode+"("+x.src.toString()+")":x.mode+"("+x.split+")";td_cache[split]?td_cache[split].indexes.push(ix):flat.some(function(needle){if(!x.src)return td_cache[split]={split:x.split,indexes:[ix]},!0;if(x.src.__CustomSplit){if(needle.__CustomSplit+"("+needle+")"===x.src.__CustomSplit)return td_cache[split]={split:x.src,indexes:[ix],custom_data:x.src.__CustomSplit_src},!0}else if(needle===x.src)return td_cache[split]={split:x.src,indexes:[ix]},!0})}});var keys=Object.keys(td_cache);td_cache={splits:new Array(flat.length),named:td_cache,paths:{}},keys.forEach(function(k){var split=td_cache.named[k],src=split.custom_data||split.src||split.split,ix=flat.indexOf(src);if(split.path=flattened.paths[ix],split.indexes.forEach(function(tokIx){tokens[tokIx].path=split.path}),td_cache.splits[ix]=split,Array.setArrayPath(td_cache.paths,split.path,split),split.custom_data){var custom_data=split.split;split.split=src,split.custom_data=custom_data}}),td_cache.splits=td_cache.splits.filter(function(el){return null!==el})}return td_cache}}}),out}return string("needleFunction",function(haystack,needle){return splitters[needleFunctionName(haystack,needle)]}),string.prototype("toWordsearch",function(props){return String.customNeedleString(this+"","Wordsearch",props)}),string("Wordsearch",function(needle,props){return String.customNeedleString(needle,"Wordsearch",props)}),ArraySplit}()),string.prototype("ArraySplit",function(needle,limit,map){return String.ArraySplit(this,needle,limit,map)}),string("whiteOutComments",whiteOutComments),string.prototype("whiteOutComments",function(singleChar,multiChar){return whiteOutComments(this,singleChar,multiChar)}),string.prototype("@codeStripped",function(){return whiteOutComments(this,!1,!1)}),string.prototype("@codeSpaced",function(){return whiteOutComments(this)}),string.prototype("@codeNumbered",function(){return whiteOutComments(this,"number")}),string.prototype("ArraySplitCode",function(needle,limit,map,wc){return ArraySplitViaWhitespaceComments(this,needle,limit,map,wc)}),string("RegExpSplit",RegExp.split),wrapStringMethod("RegExpSplit"),string("mapSplit",function(haystack,needle,limit,map){if(isEmpty(needle))return null;var handler;if(String.needleFunction&&String.ArraySplit)return String.ArraySplit(haystack,[needle],limit,map);if(!handler&&(handler=String.split,map))switch(jsClass(needle)){case"RegExp":handler=RegExp.split;break;case"String":handler=String.StringSplit}return handler(haystack,needle,limit,map)}),wrapStringMethod("mapSplit",isEmpty),string.prototype("@lines",function(nl){return this.split(nl||"\n")}),string.prototype("indent",function(spaces,nl){switch(typeof spaces){case"string":break;case"number":spaces=Array(1+spaces).join(" ");break;default:spaces="    "}return nl=nl||"\n",this.split(nl).map(function(x){return spaces+x}).join(nl)}),string.prototype("indentLevel",function(lines,tabs,reindent){var i;if(lines){if(lines=this.replace(/\r/g,"").lines,reindent)return lines.map(function(line){return line.indentLevel(!1,tabs,!0)}).join("\n");var min=this.indentLevel(!1,tabs);if(0<lines.length)for(i=1;i<lines.length;i++)0!==lines[i].trim().length&&(min=Math.min(min,lines[i].indentLevel(!1,tabs)));return min}var remain=(this.trimLeft||this.trimStart).bind(this)(),chars=this.length-remain.length;if(0===chars)return reindent?this:0;tabs=tabs||4;var indented=this.substr(0,chars);for(i=chars=0;i<indented.length;i++)switch(indented.charAt(i)){case"\t":chars+=tabs-chars%tabs;continue;case"\r":case"\n":return 0;default:chars++}return reindent?new Array(1+chars).join(" ")+remain:chars}),string.prototype("reindent",function(spaces,tabs,nl){var current=this.indentLevel(!0,tabs||4);if(current===spaces)return String(this);var filler=new Array(1+spaces).join(" ");return nl=nl||"\n",this.indentLevel(!0,tabs||4,!0).split(nl).map(function(line){return filler+line.substr(current)}).join(nl)}),string.prototype("load",function(filename){return require("fs").readFileSync(filename,"utf8")}),string("load",function(filename){return require("fs").readFileSync(filename,"utf8")}),string("extensionsTest",function(verbose){getSafeJson(testMappedSampleData()),getSafeJson(testMappedSampleData(!0));var array_call0,array_call1,array_call2,array_call3,ArrayMapSample=(array_call0=reparse({ar:[],ix:0,x:""}),array_call1=reparse({ar:[array_call0],ix:1,x:" quick brown "}),array_call2=reparse({ar:[array_call0,array_call1],ix:2,x:" jumps over "}),array_call3=reparse({ar:[array_call0,array_call1,array_call2],ix:3,x:" lazy "}),[array_call0,array_call1,array_call2,array_call3]),ArrayMapSampleJSON=getSafeJson(ArrayMapSample);function testNotFound(name,data){if(null===data)return verbose&&console.log("PASS: > "+name),!0;throw console.log("FAIL: > "+name),console.log({testBasic:{got:data,expected:null}}),new Error("test failed")}function testBasic(name,data){var sample=["one","two","three"],sample_json=getSafeJson(sample);if(data&&getSafeJson(data)===sample_json)return verbose&&console.log("PASS: > "+name),!0;throw console.log("FAIL: > "+name),console.log({testBasic:{got:data,expected:sample}}),new Error("test failed")}function testBasicLimit(name,data,limit){var sample=["one","two","three"].slice(0,limit),sample_json=getSafeJson(sample);if(data&&getSafeJson(data)===sample_json)return verbose&&console.log("PASS: > "+name),!0;throw console.log("FAIL: > "+name),console.log({testBasicLimit:{got:data,expected:sample,limit:limit}}),new Error("test failed")}function testWords(name,data){var WordsSample=[""," quick brown "," jumps over "," lazy "],WordsSampleJSON=getSafeJson(WordsSample);if(data&&getSafeJson(data)===WordsSampleJSON)return verbose&&console.log("PASS: > "+name),!0;throw console.log("FAIL: > "+name),console.dir({testWords:{got:data,expected:WordsSample}},{depth:null}),new Error("test failed")}function testMappedSampleData(){var src="one two three",ix1=src.indexOf("one"),ix2=src.indexOf("two"),ix3=src.indexOf("three"),row1=reparse(["one",0,[],ix1,ix1+3+1," "]),row2=reparse(["two",1,[row1],ix2,ix2+3+1," "]),row3=reparse(["three",2,[row1,row2],ix3,null,null]);return reparse([row1,row2,row3])}function testMapped2(name,sample,obj,fn,args,limit){var history=[],FN=obj[fn],cb=args.pop();args.push(function(){var cb_args=cpArgs(arguments);if(ix>sample.length)throw 0<history.length&&console.log({prev_:history}),console.log({extra:cb_args,callNo:ix,limit:limit}),new Error("too many calls to callback");if(getArrayJson(sample[ix])===getArrayJson(cb_args))return history.push(cb_args),ix++,cb.apply(this,cb_args);0<history.length&&history.forEach(function(h,ix){console.log({ix:ix,good:h})});throw console.log({ix:ix,got_____:cb_args}),console.log({ix:ix,expected:sample[ix]}),console.log({limit:limit}),new Error("incorrect args")});var ix=0;return limit&&limit<=sample.length&&(sample.splice(limit,sample.length),sample[limit-1][4]=null,sample[limit-1][5]=null),limit&&limit>sample.length&&(limit=sample.length),FN.apply(obj,args)}function mappedResult(){return reparse(cpArgs(arguments))}function mappedTextResult(x,ix,ar){return reparse({x:x,ix:ix,ar:ar})}function testArrayMap(name,data){var json=getArrayJson(data);if(json===ArrayMapSampleJSON)return verbose&&console.log("PASS: > "+name),!0;throw console.dir({testArrayMap:{got__raw:data,got_sort:JSON.parse(json),expected:ArrayMapSample,got_json:json,expt_json:ArrayMapSampleJSON}},{depth:null}),console.log("FAIL: > "+name),new Error("test failed")}function testTokensRejoin(name,source,data){if(null===data)return verbose&&console.log("PASS: > "+name+" (barely - data is null)"),!0;var rejoined=data.tokens.map(function(e){return e.split||e.text}).join("");if(rejoined===source)return verbose&&console.log("PASS: > "+name),!0;throw console.log("FAIL: > "+name),console.log({testTokensRejoin:{got:data,rejoined:rejoined,expected:source}}),new Error("test failed")}function StringTests(obj,objName,func,filter){var source="the quick brown fox jumps over the lazy dog",theObj=obj||source,objFunc=theObj[func];return objFunc=obj?objFunc.bind(theObj,source):objFunc.bind(source),function(obj,objName,func,objFunc,filter){testNotFound("notFound returns null:"+objName+"."+func+"(null)",objFunc(null)),testNotFound("notFound returns null:"+objName+"."+func+"(null- false positive)",objFunc.call(this+" null token",null)),testNotFound("notFound returns null:"+objName+"."+func+"(undefined)",objFunc()),testNotFound("notFound returns null:"+objName+"."+func+"(undefined - false positive)",objFunc.call(this+" was undefined.")),testNotFound("notFound returns null:"+objName+"."+func+"([])",objFunc([])),testNotFound("notFound returns null:"+objName+"."+func+"({})",objFunc({})),(!filter||0<=filter.indexOf("Array"))&&(testNotFound("notFound returns null:"+objName+"."+func+"(String,String)",objFunc(["pigs","fly"])),testNotFound("notFound returns null:"+objName+"."+func+"(RegExp,RegExp)",objFunc([/pigs/,/fly/])),testNotFound("notFound returns null:"+objName+"."+func+"(Wordsearch,Wordsearch)",objFunc([String.Wordsearch("pigs"),String.Wordsearch("fly")]))),(!filter||0<=filter.indexOf("String"))&&testNotFound("notFound returns null:"+objName+"."+func+"(Wordsearch([String,String]))",objFunc(String.Wordsearch(["pigs","fly"]))),(!filter||0<=filter.indexOf("Array"))&&(testNotFound("notFound returns null:"+objName+"."+func+"(String,RegExp,Wordsearch)",objFunc(["pigs",/fly/,String.Wordsearch("quickly")])),testWords(objName+"."+func+"([String,String,String])",objFunc(["the","fox","dog"])),testWords(objName+"."+func+"([RegExp,RegExp,RegExp])",objFunc([/the/,/fox/,/dog/])),testWords(objName+"."+func+"([Wordsearch,Wordsearch,Wordsearch])",objFunc([String.Wordsearch("the"),String.Wordsearch("fox"),String.Wordsearch("dog")])),testWords(objName+"."+func+"(WordsSearch([String,String,String]))",objFunc(String.Wordsearch(["the","fox","dog"]))),testWords(objName+"."+func+"([Wordsearch(String),String,RegExp])",objFunc([String.Wordsearch("the"),"fox",/dog/])),testWords(objName+"."+func+"([String,String,String,notfound])",objFunc(["the","fox","dog","extra"])),testWords(objName+"."+func+"([RegExp,RegExp,RegExp,notfound])",objFunc([/the/,/fox/,/dog/,/extra/])),testWords(objName+"."+func+"([Wordsearch,Wordsearch,Wordsearch,notfound])",objFunc([String.Wordsearch("the"),String.Wordsearch("fox"),String.Wordsearch("dog"),String.Wordsearch("extra")])),testWords(objName+"."+func+"(WordsSearch([String,String,String,notfound]))",objFunc(String.Wordsearch(["the","fox","dog","extra"]))),testWords(objName+"."+func+"([Wordsearch(String),String,RegExp,notfound])",objFunc([String.Wordsearch("the"),"fox",/dog/,"extra"]))),(!filter||0<=filter.indexOf("Array")||0<=filter.indexOf("Object"))&&testWords(objName+"."+func+"({assorted keys})",objFunc({stupidKey:"the",dumbKey:/fox/,crazyKey:["dog".toWordsearch()],missingKey:String.Wordsearch([{gone:"cat"}])})),(!filter||0<=filter.indexOf("Array"))&&(testArrayMap(objName+"."+func+"([String,String,String])",objFunc(["the","fox","dog"],void 0,mappedTextResult)),testArrayMap(objName+"."+func+"([RegExp,RegExp,RegExp])",objFunc([/the/,/fox/,/dog/],void 0,mappedTextResult)),testArrayMap(objName+"."+func+"([Wordsearch,Wordsearch,Wordsearch])",objFunc([String.Wordsearch("the"),String.Wordsearch("fox"),String.Wordsearch("dog")],void 0,mappedTextResult)),testArrayMap(objName+"."+func+"(WordsSearch([String,String,String]))",objFunc(String.Wordsearch(["the","fox","dog"]),void 0,mappedTextResult)),testArrayMap(objName+"."+func+"([Wordsearch(String),String,RegExp])",objFunc([String.Wordsearch("the"),"fox",/dog/],void 0,mappedTextResult)),testArrayMap(objName+"."+func+"([String,String,String,notfound])",objFunc(["the","fox","dog","extra"],void 0,mappedTextResult)),testArrayMap(objName+"."+func+"([RegExp,RegExp,RegExp,notfound])",objFunc([/the/,/fox/,/dog/,/extra/],void 0,mappedTextResult)),testArrayMap(objName+"."+func+"([Wordsearch,Wordsearch,Wordsearch,notfound])",objFunc([String.Wordsearch("the"),String.Wordsearch("fox"),String.Wordsearch("dog"),String.Wordsearch("extra")],void 0,mappedTextResult)),testArrayMap(objName+"."+func+"(WordsSearch([String,String,String,notfound]))",objFunc(String.Wordsearch(["the","fox","dog","extra"]),void 0,mappedTextResult)),testArrayMap(objName+"."+func+"([Wordsearch(String),String,RegExp,notfound])",objFunc([String.Wordsearch("the"),"fox",/dog/,"extra"],void 0,mappedTextResult))),(!filter||0<=filter.indexOf("Array")||0<=filter.indexOf("Object"))&&testArrayMap(objName+"."+func+"([asorted keys via testArrayMap ])",objFunc({stupidKey:"the",dumbKey:/fox/,crazyKey:["dog".toWordsearch()],missingKey:String.Wordsearch([{gone:"cat"}])},void 0,mappedTextResult))}.bind(source)(theObj,objName,func,objFunc,filter)}function getSafeJson(x){var cache=[],output=JSON.stringify(x,function(key,value){if("object"==typeof value&&null!==value){if(function(e){return"object"==typeof e&&e.constructor===Array&&"number"==typeof e.index&&"string"==typeof e.input}(value))return function(e){var r={exec:e.slice(0)};return Object.keys(e).filter(function(x,ix){return x!=ix.toString()}).forEach(function(k){r[k]=e[k]}),r}(value);if(-1!==cache.indexOf(value))return{circular:jsClass(value)};cache.push(value)}return value});return cache.splice(0,cache.length),output}function reparse(x){return JSON.parse(getSafeJson(x))}function sortKeys(db){switch(jsClass(db)){case"Array":return db.map(sortKeys);case"Object":var k=Object.keys(db);k.sort();var r={};return k.forEach(function(K){r[K]=sortKeys(db[K])}),r;default:return db}}function getArrayJson(A){return getSafeJson(sortKeys(A))}testBasic("String.split(String)","one two three".split(" ")),testBasicLimit("String.split(String,1)","one two three".split(" ",1),1),testBasicLimit("String.split(String,2)","one two three".split(" ",2),2),testBasic("String.split(String,3)","one two three".split(" ")),testBasic("String.split(String,99)","one two three".split(" ")),testBasic("String.split(RegExp)","one two three".split(/\s/)),testBasicLimit("String.split(RegExp,1)","one two three".split(/\s/,1),1),testBasicLimit("String.split(RegExp,2)","one two three".split(/\s/,2),2),testBasic("String.split(RegExp,3)","one two three".split(/\s/,3)),testBasic("String.split(RegExp,99)","one two three".split(/\s/,99)),testBasic("String.StringSplit(String)","one two three".StringSplit(" ")),testBasicLimit("String.StringSplit(RegExp,1)","one two three".StringSplit(" ",1),1),testBasicLimit("String.StringSplit(RegExp,2)","one two three".StringSplit(" ",2),2),testBasic("String.StringSplit(String)","one two three".StringSplit(" ",3)),testBasic("String.StringSplit(String)","one two three".StringSplit(" ",99)),testMapped2("String.StringSplit(String,map)",testMappedSampleData(),"one two three","StringSplit",[" ",void 0,mappedResult]),testMapped2("String.StringSplit(String,map, limit 1)",testMappedSampleData(),"one two three","StringSplit",[" ",1,mappedResult],1),testMapped2("String.StringSplit(String,map, limit 2)",testMappedSampleData(),"one two three","StringSplit",[" ",2,mappedResult],2),testMapped2("String.StringSplit(String,map, limit 99)",testMappedSampleData(),"one two three","StringSplit",[" ",99,mappedResult],99),testBasic("String.RegExpSplit(RegExp)","one two three".RegExpSplit(/\s/)),testBasicLimit("String.RegExpSplit(RegExp, limit 1)","one two three".RegExpSplit(/\s/,1),1),testBasicLimit("String.RegExpSplit(RegExp limit 2)","one two three".RegExpSplit(/\s/,2),2),testBasic("String.RegExpSplit(RegExp, limit 3)","one two three".RegExpSplit(/\s/,3)),testBasic("String.RegExpSplit(RegExp, limit 99)","one two three".RegExpSplit(/\s/,99)),testMapped2("String.RegExpSplit(RegExp,map)",testMappedSampleData(),"one two three","RegExpSplit",[/\s/,void 0,mappedResult]),testBasic("String.mapSplit(String)","one two three".mapSplit(" ")),testBasic("String.mapSplit(/\\s/)","one two three".mapSplit(/\s/)),testBasic("String.mapSplit([/\\s/])","one two three".mapSplit([/\s/])),testBasic("String.mapSplit([' '])","one two three".mapSplit([" "])),testMapped2("String.mapSplit(String,map)",testMappedSampleData(),"one two three","mapSplit",[" ",void 0,mappedResult]),testMapped2("String.mapSplit(String,map limit 1)",testMappedSampleData(),"one two three","mapSplit",[" ",1,mappedResult],1),testMapped2("String.mapSplit(String,map limit 2)",testMappedSampleData(),"one two three","mapSplit",[" ",2,mappedResult],2),testMapped2("String.mapSplit(String,map limit 3)",testMappedSampleData(),"one two three","mapSplit",[" ",3,mappedResult],3),testMapped2("String.mapSplit(String,map limit 99)",testMappedSampleData(),"one two three","mapSplit",[" ",99,mappedResult],99),testBasic("String.mapSplit(RegExp)","one two three".mapSplit(/\s/)),testMapped2("String.mapSplit(RegExp,map)",testMappedSampleData(),"one two three","mapSplit",[/\s/,void 0,mappedResult]),testNotFound("notFound returns null:ArraySplit(null)","i searched all around the world".ArraySplit(null)),testNotFound("notFound returns null:ArraySplit(null- false positive)","i searched all around the world for a null token".ArraySplit(null)),testNotFound("notFound returns null:ArraySplit(undefined)","i searched all around the world".ArraySplit()),testNotFound("notFound returns null:ArraySplit(undefined- false positive)","i searched all around the world for a an undefined item".ArraySplit()),testNotFound("notFound returns null:ArraySplit([])","i searched all around the world".ArraySplit([])),testNotFound("notFound returns null:ArraySplit({})","i searched all around the world".ArraySplit({})),testNotFound("notFound returns null:ArraySplit('')","i searched all around the world".ArraySplit("")),testNotFound("notFound returns null:ArraySplit('')","i searched all around the world".ArraySplit(["pigs","fly"])),testNotFound("notFound returns null:ArraySplit('')","i searched all around the world".ArraySplit("pigs")),testTokensRejoin("String.ArraySplit(Strings x 4 hits)","the quick brown fox jumps over the lazy dog",String.ArraySplit("the quick brown fox jumps over the lazy dog",["the","jumps","lazy","dog"])),testTokensRejoin("String.ArraySplit(Strings 4 misses)","the quick brown fox jumps over the lazy dog",String.ArraySplit("the quick brown fox jumps over the lazy dog",["jumper","jumping","lazier","wolf"])),testTokensRejoin("String.ArraySplit(Strings x 4 hits + 4 misses)","the quick brown fox jumps over the lazy dog",String.ArraySplit("the quick brown fox jumps over the lazy dog",["the","jumper","jumping","jumps","lazier","lazy","wolf","dog"])),StringTests(String,"String","ArraySplit"),StringTests(String,"String","mapSplit"),StringTests(!1,'"string literal"',"ArraySplit"),StringTests(!1,'"string literal"',"mapSplit"),StringTests(!1,'"string literal"',"StringSplit","String"),StringTests(!1,'"string literal"',"RegExpSplit","RegExp")})}),extend(Function,function(func){var nodeExtsMod,nodeGetPath,CB_TOKEN=[{cb:null}],WS_PATH="/javascript.Function.load",WS_PORT=3029;Object.env.isNode&&(nodeExtsMod=nodeExts(WS_PATH,"/js/",WS_PORT,cpArgs,__filename),nodeGetPath=nodeExtsMod.nodeGetPath,func("startServer",nodeExtsMod.nodeWSServer));function browserSocketConnection(){if(browserSocketConnection.singleton)return browserSocketConnection.singleton;function notifier(ev){var events=[],execute=Function.prototype.call.call.bind(Function.prototype.call);return ws.addEventListener(ev,function(event){var count=events?events.length:0;0<count&&(events.forEach(execute),events.splice(1,count)),events=null}),{fired:function(){return null===events},add:function(fn){events&&events.push(fn)},run:function(fn){events?events.push(fn):fn()},remove:function(fn){if(events){if(!fn)return!events.splice(0,events.length);0<=events.indexOf(fn)&&events.splice(fn,1)}}}}var WSS=location.protocol.startsWith("https")?"wss":"ws",SERVER=location.hostname,ws=new WebSocket(WSS+"://"+SERVER+":"+WS_PORT+WS_PATH),events={open:notifier("open"),close:notifier("close")};events.close.add(function(){events.open.remove()});var callbacks={};return ws.addEventListener("message",function(event){var payload=JSON.parse(event.data),callback=callbacks[payload.id];callback&&(callback.fn.apply(callback.THIS,payload.args),events.close.remove(callback.cleanup),callback.cleanup())}),browserSocketConnection.singleton={call:function(){var args=cpArgs(arguments),fn=args.shift(),cb="function"==typeof args[args.length-1]?args.pop():void 0;if(cb){args.push(CB_TOKEN);function cleanup(){delete callbacks[id]}var id=(1024*Math.random()).toString(36)+Date.now().toString(36);events.close.add(cleanup),callbacks[id]={fn:cb,THIS:this,cleanup:cleanup},events.open.run(function(){ws.send(JSON.stringify({fn:fn,id:id,args:args}))})}else events.open.run(function(){ws.send(JSON.stringify({fn:fn,args:args}))})}}}func("load",function(name,cb){if(Object.env.isNode)return nodeGetPath(name)?cb(require(name)):void 0;var winName=name.toCamelCase();return window[winName]?cb(window[winName]):browserSocketConnection().call("load",name,location.protocol,location.hostname,function(payload){var script=document.createElement("script");script.onload=script.onreadystatechange=function(_,isAbort){!isAbort&&script.readyState&&"loaded"!=script.readyState&&"complete"!=script.readyState||(script=script.onload=script.onreadystatechange=null,window[winName]&&cb(window[winName]))},script[payload.mode]=payload.data,document.head.appendChild(script)})}),func("browserInternalRequire",function(){var cache={},factories={util:getUtil};function browserInternalRequire(mod){return cache[mod]?cache[mod]:factories[mod]?cache[mod]=factories[mod]():void 0}return browserInternalRequire.resolve=function(mod){return factories[mod]||!1},browserInternalRequire}())}),Object.env.isNode&&(extend(require("module"),Module_extensions),extend("fs",fs_extensions)),Object.env.isNode&&0<process.argv.indexOf("--Function.startServer")&&Function.startServer()},!!Object.env&&Object.env.isNode||"object"==typeof process&&"object"==typeof module&&"function"==typeof require&&!!require("jspolyfills"));
/* (ex) ./require_simulator.json */
(function(x){x[0][x[1]]=function(){var dir,cache={},aliases={"../node_modules/browser-punycode/punycode.js":"punycode","../node_modules/browser-url/url.js":"url","../node_modules/browser-querystring/index.js":"querystring","../node_modules/browser-util/util.js":"util","../node_modules/inherits/inherits.js":"inherits","../node_modules/is-arguments/index.js":"is-arguments","../node_modules/is-generator-function/index.js":"is-generator-function","../node_modules/browser-path/path.js":"path"},__sim_require=function require(dirname,file){//file = file.search(/^\.{1}/) ===0 ? file.replace(/^\.{1}/,dirname) : file;
file=aliases[file]||file;var mod=cache[file];if(mod)return mod;if(dir[file]){cache[file]=mod=dir[file].load();return mod}throw JSON.stringify({error:"file not found",filename:file,dirname:dirname})};dir={"punycode":{name:"browser-punycode",path:"../node_modules/browser-punycode/punycode.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-punycode/punycode.js
"use strict";/** Highest positive signed 32-bit float value */const maxInt=2147483647;// aka. 0x7FFFFFFF or 2^31-1
/** Bootstring parameters */const base=36;const tMin=1;const tMax=26;const skew=38;const damp=700;const initialBias=72;const initialN=128;// 0x80
const delimiter="-";// '\x2D'
/** Regular expressions */const regexPunycode=/^xn--/;const regexNonASCII=/[^\0-\x7E]/;// non-ASCII chars
const regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g;// RFC 3490 separators
/** Error messages */const errors={"overflow":"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"};/** Convenience shortcuts */const baseMinusTMin=base-tMin;const floor=Math.floor;const stringFromCharCode=String.fromCharCode;/*--------------------------------------------------------------------------*//**
                 * A generic error utility function.
                 * @private
                 * @param {String} type The error type.
                 * @returns {Error} Throws a `RangeError` with the applicable error message.
                 */function error(type){throw new RangeError(errors[type])}/**
                 * A generic `Array#map` utility function.
                 * @private
                 * @param {Array} array The array to iterate over.
                 * @param {Function} callback The function that gets called for every array
                 * item.
                 * @returns {Array} A new array of values returned by the callback function.
                 */function map(array,fn){const result=[];let length=array.length;while(length--){result[length]=fn(array[length])}return result}/**
                 * A simple `Array#map`-like wrapper to work with domain name strings or email
                 * addresses.
                 * @private
                 * @param {String} domain The domain name or email address.
                 * @param {Function} callback The function that gets called for every
                 * character.
                 * @returns {Array} A new string of characters returned by the callback
                 * function.
                 */function mapDomain(string,fn){const parts=string.split("@");let result="";if(parts.length>1){// In email addresses, only the domain name should be punycoded. Leave
// the local part (i.e. everything up to `@`) intact.
result=parts[0]+"@";string=parts[1]}// Avoid `split(regex)` for IE8 compatibility. See #17.
string=string.replace(regexSeparators,".");const labels=string.split(".");const encoded=map(labels,fn).join(".");return result+encoded}/**
                 * Creates an array containing the numeric code points of each Unicode
                 * character in the string. While JavaScript uses UCS-2 internally,
                 * this function will convert a pair of surrogate halves (each of which
                 * UCS-2 exposes as separate characters) into a single code point,
                 * matching UTF-16.
                 * @see `punycode.ucs2.encode`
                 * @see <https://mathiasbynens.be/notes/javascript-encoding>
                 * @memberOf punycode.ucs2
                 * @name decode
                 * @param {String} string The Unicode input string (UCS-2).
                 * @returns {Array} The new array of code points.
                 */function ucs2decode(string){const output=[];let counter=0;const length=string.length;while(counter<length){const value=string.charCodeAt(counter++);if(value>=55296&&value<=56319&&counter<length){// It's a high surrogate, and there is a next character.
const extra=string.charCodeAt(counter++);if((extra&64512)==56320){// Low surrogate.
output.push(((value&1023)<<10)+(extra&1023)+65536)}else{// It's an unmatched surrogate; only append this code unit, in case the
// next code unit is the high surrogate of a surrogate pair.
output.push(value);counter--}}else{output.push(value)}}return output}/**
                 * Creates a string based on an array of numeric code points.
                 * @see `punycode.ucs2.decode`
                 * @memberOf punycode.ucs2
                 * @name encode
                 * @param {Array} codePoints The array of numeric code points.
                 * @returns {String} The new Unicode string (UCS-2).
                 */const ucs2encode=array=>String.fromCodePoint(...array);/**
                 * Converts a basic code point into a digit/integer.
                 * @see `digitToBasic()`
                 * @private
                 * @param {Number} codePoint The basic numeric code point value.
                 * @returns {Number} The numeric value of a basic code point (for use in
                 * representing integers) in the range `0` to `base - 1`, or `base` if
                 * the code point does not represent a value.
                 */const basicToDigit=function(codePoint){if(codePoint-48<10){return codePoint-22}if(codePoint-65<26){return codePoint-65}if(codePoint-97<26){return codePoint-97}return base};/**
                 * Converts a digit/integer into a basic code point.
                 * @see `basicToDigit()`
                 * @private
                 * @param {Number} digit The numeric value of a basic code point.
                 * @returns {Number} The basic code point whose value (when used for
                 * representing integers) is `digit`, which needs to be in the range
                 * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is
                 * used; else, the lowercase form is used. The behavior is undefined
                 * if `flag` is non-zero and `digit` has no uppercase form.
                 */const digitToBasic=function(digit,flag){//  0..25 map to ASCII a..z or A..Z
// 26..35 map to ASCII 0..9
return digit+22+75*(digit<26)-((flag!=0)<<5)};/**
                 * Bias adaptation function as per section 3.4 of RFC 3492.
                 * https://tools.ietf.org/html/rfc3492#section-3.4
                 * @private
                 */const adapt=function(delta,numPoints,firstTime){let k=0;delta=firstTime?floor(delta/damp):delta>>1;delta+=floor(delta/numPoints);for(;/* no initialization */delta>baseMinusTMin*tMax>>1;k+=base){delta=floor(delta/baseMinusTMin)}return floor(k+(baseMinusTMin+1)*delta/(delta+skew))};/**
                 * Converts a Punycode string of ASCII-only symbols to a string of Unicode
                 * symbols.
                 * @memberOf punycode
                 * @param {String} input The Punycode string of ASCII-only symbols.
                 * @returns {String} The resulting string of Unicode symbols.
                 */const decode=function(input){// Don't use UCS-2.
const output=[];const inputLength=input.length;let i=0;let n=initialN;let bias=initialBias;// Handle the basic code points: let `basic` be the number of input code
// points before the last delimiter, or `0` if there is none, then copy
// the first basic code points to the output.
let basic=input.lastIndexOf(delimiter);if(basic<0){basic=0}for(let j=0;j<basic;++j){// if it's not a basic code point
if(input.charCodeAt(j)>=128){error("not-basic")}output.push(input.charCodeAt(j))}// Main decoding loop: start just after the last delimiter if any basic code
// points were copied; start at the beginning otherwise.
for(let index=basic>0?basic+1:0;index<inputLength;)/* no final expression */{// `index` is the index of the next character to be consumed.
// Decode a generalized variable-length integer into `delta`,
// which gets added to `i`. The overflow checking is easier
// if we increase `i` as we go, then subtract off its starting
// value at the end to obtain `delta`.
let oldi=i;for(let w=1,k=base;;/* no condition */k+=base){if(index>=inputLength){error("invalid-input")}const digit=basicToDigit(input.charCodeAt(index++));if(digit>=base||digit>floor((maxInt-i)/w)){error("overflow")}i+=digit*w;const t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(digit<t){break}const baseMinusT=base-t;if(w>floor(maxInt/baseMinusT)){error("overflow")}w*=baseMinusT}const out=output.length+1;bias=adapt(i-oldi,out,oldi==0);// `i` was supposed to wrap around from `out` to `0`,
// incrementing `n` each time, so we'll fix that now:
if(floor(i/out)>maxInt-n){error("overflow")}n+=floor(i/out);i%=out;// Insert `n` at position `i` of the output.
output.splice(i++,0,n)}return String.fromCodePoint(...output)};/**
                 * Converts a string of Unicode symbols (e.g. a domain name label) to a
                 * Punycode string of ASCII-only symbols.
                 * @memberOf punycode
                 * @param {String} input The string of Unicode symbols.
                 * @returns {String} The resulting Punycode string of ASCII-only symbols.
                 */const encode=function(input){const output=[];// Convert the input in UCS-2 to an array of Unicode code points.
input=ucs2decode(input);// Cache the length.
let inputLength=input.length;// Initialize the state.
let n=initialN;let delta=0;let bias=initialBias;// Handle the basic code points.
for(const currentValue of input){if(currentValue<128){output.push(stringFromCharCode(currentValue))}}let basicLength=output.length;let handledCPCount=basicLength;// `handledCPCount` is the number of code points that have been handled;
// `basicLength` is the number of basic code points.
// Finish the basic string with a delimiter unless it's empty.
if(basicLength){output.push(delimiter)}// Main encoding loop:
while(handledCPCount<inputLength){// All non-basic code points < n have been handled already. Find the next
// larger one:
let m=maxInt;for(const currentValue of input){if(currentValue>=n&&currentValue<m){m=currentValue}}// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,
// but guard against overflow.
const handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((maxInt-delta)/handledCPCountPlusOne)){error("overflow")}delta+=(m-n)*handledCPCountPlusOne;n=m;for(const currentValue of input){if(currentValue<n&&++delta>maxInt){error("overflow")}if(currentValue==n){// Represent delta as a generalized variable-length integer.
let q=delta;for(let k=base;;/* no condition */k+=base){const t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(q<t){break}const qMinusT=q-t;const baseMinusT=base-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0)));q=floor(qMinusT/baseMinusT)}output.push(stringFromCharCode(digitToBasic(q,0)));bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength);delta=0;++handledCPCount}}++delta;++n}return output.join("")};/**
                 * Converts a Punycode string representing a domain name or an email address
                 * to Unicode. Only the Punycoded parts of the input will be converted, i.e.
                 * it doesn't matter if you call it on a string that has already been
                 * converted to Unicode.
                 * @memberOf punycode
                 * @param {String} input The Punycoded domain name or email address to
                 * convert to Unicode.
                 * @returns {String} The Unicode representation of the given Punycode
                 * string.
                 */const toUnicode=function(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})};/**
                 * Converts a Unicode string representing a domain name or an email address to
                 * Punycode. Only the non-ASCII parts of the domain name will be converted,
                 * i.e. it doesn't matter if you call it with a domain that's already in
                 * ASCII.
                 * @memberOf punycode
                 * @param {String} input The domain name or email address to convert, as a
                 * Unicode string.
                 * @returns {String} The Punycode representation of the given domain name or
                 * email address.
                 */const toASCII=function(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})};/*--------------------------------------------------------------------------*//** Define the public API */const punycode={/**
                     * A string representing the current Punycode.js version number.
                     * @memberOf punycode
                     * @type String
                     */"version":"2.1.0",/**
                     * An object of methods to convert from JavaScript's internal character
                     * representation (UCS-2) to Unicode code points, and back.
                     * @see <https://mathiasbynens.be/notes/javascript-encoding>
                     * @memberOf punycode
                     * @type Object
                     */"ucs2":{"decode":ucs2decode,"encode":ucs2encode},"decode":decode,"encode":encode,"toASCII":toASCII,"toUnicode":toUnicode};module.exports=punycode;// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-punycode/punycode.js sha1 = 39ab3964d954c66ab440a590444fd7dd3493be37
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/browser-punycode"),"punycode.js","/home/jonathanmaxannett/jsextensions/node_modules/browser-punycode")},"url":{name:"browser-url",path:"../node_modules/browser-url/url.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-url/url.js
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
"use strict";var punycode=require("punycode");var util=require("./util");exports.parse=urlParse;exports.resolve=urlResolve;exports.resolveObject=urlResolveObject;exports.format=urlFormat;exports.Url=Url;function Url(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}// Reference: RFC 3986, RFC 1808, RFC 2396
// define these here so at least they only have to be
// compiled once on the first module load.
var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,// Special case for a simple path URL
simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,// RFC 2396: characters reserved for delimiting URLs.
// We actually just auto-escape these.
delims=["<",">","\"","`"," ","\r","\n","\t"],// RFC 2396: characters not allowed for various reasons.
unwise=["{","}","|","\\","^","`"].concat(delims),// Allowed by RFCs, but cause of XSS attacks.  Always escape these.
autoEscape=["'"].concat(unwise),// Characters that are never ever allowed in a hostname.
// Note that any invalid chars are also handled, but these
// are the ones that are *expected* to be seen, so we fast-path
// them.
nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,// protocols that can allow "unsafe" and "unwise" chars.
unsafeProtocol={"javascript":true,"javascript:":true},// protocols that never have a hostname.
hostlessProtocol={"javascript":true,"javascript:":true},// protocols that always contain a // bit.
slashedProtocol={"http":true,"https":true,"ftp":true,"gopher":true,"file":true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},querystring=require("querystring");function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&util.isObject(url)&&url instanceof Url)return url;var u=new Url;u.parse(url,parseQueryString,slashesDenoteHost);return u}Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!util.isString(url)){throw new TypeError("Parameter 'url' must be a string, not "+typeof url)}// Copy chrome, IE, opera backslash-handling behavior.
// Back slashes before the query string get converted to forward slashes
// See: https://code.google.com/p/chromium/issues/detail?id=25916
var queryIndex=url.indexOf("?"),splitter=queryIndex!==-1&&queryIndex<url.indexOf("#")?"?":"#",uSplit=url.split(splitter),slashRegex=/\\/g;uSplit[0]=uSplit[0].replace(slashRegex,"/");url=uSplit.join(splitter);var rest=url;// trim before proceeding.
// This is to support parse stuff like "  http://foo.com  \n"
rest=rest.trim();if(!slashesDenoteHost&&url.split("#").length===1){// Try fast path regexp
var simplePath=simplePathPattern.exec(rest);if(simplePath){this.path=rest;this.href=rest;this.pathname=simplePath[1];if(simplePath[2]){this.search=simplePath[2];if(parseQueryString){this.query=querystring.parse(this.search.substr(1))}else{this.query=this.search.substr(1)}}else if(parseQueryString){this.search="";this.query={}}return this}}var proto=protocolPattern.exec(rest);if(proto){proto=proto[0];var lowerProto=proto.toLowerCase();this.protocol=lowerProto;rest=rest.substr(proto.length)}// figure out if it's got a host
// user@server is *always* interpreted as a hostname, and url
// resolution will treat //foo/bar as host=foo,path=bar because that's
// how the browser resolves relative URLs.
if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes=rest.substr(0,2)==="//";if(slashes&&!(proto&&hostlessProtocol[proto])){rest=rest.substr(2);this.slashes=true}}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){// there's a hostname.
// the first instance of /, ?, ;, or # ends the host.
//
// If there is an @ in the hostname, then non-host chars *are* allowed
// to the left of the last @ sign, unless some host-ending character
// comes *before* the @-sign.
// URLs are obnoxious.
//
// ex:
// http://a@b@c/ => user:a@b host:c
// http://a@b?@c => user:a host:c path:/?@c
// v0.12 TODO(isaacs): This is not quite how Chrome does things.
// Review our test case against browsers more comprehensively.
// find the first instance of any hostEndingChars
var hostEnd=-1;for(var i=0;i<hostEndingChars.length;i++){var hec=rest.indexOf(hostEndingChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))hostEnd=hec}// at this point, either we have an explicit point where the
// auth portion cannot go past, or the last @ char is the decider.
var auth,atSign;if(hostEnd===-1){// atSign can be anywhere.
atSign=rest.lastIndexOf("@")}else{// atSign must be in auth portion.
// http://a@b/c@d => host:b auth:a path:/c@d
atSign=rest.lastIndexOf("@",hostEnd)}// Now we have a portion which is definitely the auth.
// Pull that off.
if(atSign!==-1){auth=rest.slice(0,atSign);rest=rest.slice(atSign+1);this.auth=decodeURIComponent(auth)}// the host is the remaining to the left of the first non-host char
hostEnd=-1;for(var i=0;i<nonHostChars.length;i++){var hec=rest.indexOf(nonHostChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))hostEnd=hec}// if we still have not hit it, then the entire thing is a host.
if(hostEnd===-1)hostEnd=rest.length;this.host=rest.slice(0,hostEnd);rest=rest.slice(hostEnd);// pull out port.
this.parseHost();// we've indicated that there is a hostname,
// so even if it's empty, it has to be present.
this.hostname=this.hostname||"";// if hostname begins with [ and ends with ]
// assume that it's an IPv6 address.
var ipv6Hostname=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";// validate a little.
if(!ipv6Hostname){var hostparts=this.hostname.split(/\./);for(var i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(!part)continue;if(!part.match(hostnamePartPattern)){var newpart="";for(var j=0,k=part.length;j<k;j++){if(part.charCodeAt(j)>127){// we replace non-ASCII char with a temporary placeholder
// we need this to make sure size of hostname is not
// broken by replacing non-ASCII by nothing
newpart+="x"}else{newpart+=part[j]}}// we test again with ASCII char only
if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i);var notHost=hostparts.slice(i+1);var bit=part.match(hostnamePartStart);if(bit){validParts.push(bit[1]);notHost.unshift(bit[2])}if(notHost.length){rest="/"+notHost.join(".")+rest}this.hostname=validParts.join(".");break}}}}if(this.hostname.length>hostnameMaxLen){this.hostname=""}else{// hostnames are always lower case.
this.hostname=this.hostname.toLowerCase()}if(!ipv6Hostname){// IDNA Support: Returns a punycoded representation of "domain".
// It only converts parts of the domain name that
// have non-ASCII characters, i.e. it doesn't matter if
// you call it with a domain that already is ASCII-only.
this.hostname=punycode.toASCII(this.hostname)}var p=this.port?":"+this.port:"";var h=this.hostname||"";this.host=h+p;this.href+=this.host;// strip [ and ] from the hostname
// the host field still retains them, though
if(ipv6Hostname){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(rest[0]!=="/"){rest="/"+rest}}}// now rest is set to the post-host stuff.
// chop off any delim chars.
if(!unsafeProtocol[lowerProto]){// First, make 100% sure that any "autoEscape" chars get
// escaped, even if encodeURIComponent doesn't think they
// need to be.
for(var i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];if(rest.indexOf(ae)===-1)continue;var esc=encodeURIComponent(ae);if(esc===ae){esc=escape(ae)}rest=rest.split(ae).join(esc)}}// chop off from the tail first.
var hash=rest.indexOf("#");if(hash!==-1){// got a fragment string.
this.hash=rest.substr(hash);rest=rest.slice(0,hash)}var qm=rest.indexOf("?");if(qm!==-1){this.search=rest.substr(qm);this.query=rest.substr(qm+1);if(parseQueryString){this.query=querystring.parse(this.query)}rest=rest.slice(0,qm)}else if(parseQueryString){// no query string, but parseQueryString still requested
this.search="";this.query={}}if(rest)this.pathname=rest;if(slashedProtocol[lowerProto]&&this.hostname&&!this.pathname){this.pathname="/"}//to support http.request
if(this.pathname||this.search){var p=this.pathname||"";var s=this.search||"";this.path=p+s}// finally, reconstruct the href based on what has been validated.
this.href=this.format();return this};// format a parsed object into a url string
function urlFormat(obj){// ensure it's an object, and not a string url.
// If it's an obj, this is a no-op.
// this way, you can call url_format() on strings
// to clean up potentially wonky urls.
if(util.isString(obj))obj=urlParse(obj);if(!(obj instanceof Url))return Url.prototype.format.call(obj);return obj.format()}Url.prototype.format=function(){var auth=this.auth||"";if(auth){auth=encodeURIComponent(auth);auth=auth.replace(/%3A/i,":");auth+="@"}var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=false,query="";if(this.host){host=auth+this.host}else if(this.hostname){host=auth+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){host+=":"+this.port}}if(this.query&&util.isObject(this.query)&&Object.keys(this.query).length){query=querystring.stringify(this.query)}var search=this.search||query&&"?"+query||"";if(protocol&&protocol.substr(-1)!==":")protocol+=":";// only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.
// unless they had them to begin with.
if(this.slashes||(!protocol||slashedProtocol[protocol])&&host!==false){host="//"+(host||"");if(pathname&&pathname.charAt(0)!=="/")pathname="/"+pathname}else if(!host){host=""}if(hash&&hash.charAt(0)!=="#")hash="#"+hash;if(search&&search.charAt(0)!=="?")search="?"+search;pathname=pathname.replace(/[?#]/g,function(match){return encodeURIComponent(match)});search=search.replace("#","%23");return protocol+host+pathname+search+hash};function urlResolve(source,relative){return urlParse(source,false,true).resolve(relative)}Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,false,true)).format()};function urlResolveObject(source,relative){if(!source)return relative;return urlParse(source,false,true).resolveObject(relative)}Url.prototype.resolveObject=function(relative){if(util.isString(relative)){var rel=new Url;rel.parse(relative,false,true);relative=rel}var result=new Url;var tkeys=Object.keys(this);for(var tk=0;tk<tkeys.length;tk++){var tkey=tkeys[tk];result[tkey]=this[tkey]}// hash is always overridden, no matter what.
// even href="" will remove it.
result.hash=relative.hash;// if the relative url is empty, then there's nothing left to do here.
if(relative.href===""){result.href=result.format();return result}// hrefs like //foo/bar always cut to the protocol.
if(relative.slashes&&!relative.protocol){// take everything except the protocol from relative
var rkeys=Object.keys(relative);for(var rk=0;rk<rkeys.length;rk++){var rkey=rkeys[rk];if(rkey!=="protocol")result[rkey]=relative[rkey]}//urlParse appends trailing / to urls like http://www.example.com
if(slashedProtocol[result.protocol]&&result.hostname&&!result.pathname){result.path=result.pathname="/"}result.href=result.format();return result}if(relative.protocol&&relative.protocol!==result.protocol){// if it's a known url protocol, then changing
// the protocol does weird things
// first, if it's not file:, then we MUST have a host,
// and if there was a path
// to begin with, then we MUST have a path.
// if it is file:, then the host is dropped,
// because that's known to be hostless.
// anything else is assumed to be absolute.
if(!slashedProtocol[relative.protocol]){var keys=Object.keys(relative);for(var v=0;v<keys.length;v++){var k=keys[v];result[k]=relative[k]}result.href=result.format();return result}result.protocol=relative.protocol;if(!relative.host&&!hostlessProtocol[relative.protocol]){var relPath=(relative.pathname||"").split("/");while(relPath.length&&!(relative.host=relPath.shift()));if(!relative.host)relative.host="";if(!relative.hostname)relative.hostname="";if(relPath[0]!=="")relPath.unshift("");if(relPath.length<2)relPath.unshift("");result.pathname=relPath.join("/")}else{result.pathname=relative.pathname}result.search=relative.search;result.query=relative.query;result.host=relative.host||"";result.auth=relative.auth;result.hostname=relative.hostname||relative.host;result.port=relative.port;// to support http.request
if(result.pathname||result.search){var p=result.pathname||"";var s=result.search||"";result.path=p+s}result.slashes=result.slashes||relative.slashes;result.href=result.format();return result}var isSourceAbs=result.pathname&&result.pathname.charAt(0)==="/",isRelAbs=relative.host||relative.pathname&&relative.pathname.charAt(0)==="/",mustEndAbs=isRelAbs||isSourceAbs||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],relPath=relative.pathname&&relative.pathname.split("/")||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];// if the url is a non-slashed url, then relative
// links like ../.. should be able
// to crawl up to the hostname, as well.  This is strange.
// result.protocol has already been set by now.
// Later on, put the first path part into the host field.
if(psychotic){result.hostname="";result.port=null;if(result.host){if(srcPath[0]==="")srcPath[0]=result.host;else srcPath.unshift(result.host)}result.host="";if(relative.protocol){relative.hostname=null;relative.port=null;if(relative.host){if(relPath[0]==="")relPath[0]=relative.host;else relPath.unshift(relative.host)}relative.host=null}mustEndAbs=mustEndAbs&&(relPath[0]===""||srcPath[0]==="")}if(isRelAbs){// it's absolute.
result.host=relative.host||relative.host===""?relative.host:result.host;result.hostname=relative.hostname||relative.hostname===""?relative.hostname:result.hostname;result.search=relative.search;result.query=relative.query;srcPath=relPath;// fall through to the dot-handling below.
}else if(relPath.length){// it's relative
// throw away the existing file, and take the new path instead.
if(!srcPath)srcPath=[];srcPath.pop();srcPath=srcPath.concat(relPath);result.search=relative.search;result.query=relative.query}else if(!util.isNullOrUndefined(relative.search)){// just pull out the search.
// like href='?foo'.
// Put this after the other two cases because it simplifies the booleans
if(psychotic){result.hostname=result.host=srcPath.shift();//occationaly the auth can get stuck only in host
//this especially happens in cases like
//url.resolveObject('mailto:local1@domain1', 'local2@domain2')
var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift()}}result.search=relative.search;result.query=relative.query;//to support http.request
if(!util.isNull(result.pathname)||!util.isNull(result.search)){result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")}result.href=result.format();return result}if(!srcPath.length){// no path at all.  easy.
// we've already handled the other stuff above.
result.pathname=null;//to support http.request
if(result.search){result.path="/"+result.search}else{result.path=null}result.href=result.format();return result}// if a url ENDs in . or .., then it must get a trailing slash.
// however, if it ends in anything else non-slashy,
// then it must NOT get a trailing slash.
var last=srcPath.slice(-1)[0];var hasTrailingSlash=(result.host||relative.host||srcPath.length>1)&&(last==="."||last==="..")||last==="";// strip single dots, resolve double dots to parent dir
// if the path tries to go above the root, `up` ends up > 0
var up=0;for(var i=srcPath.length;i>=0;i--){last=srcPath[i];if(last==="."){srcPath.splice(i,1)}else if(last===".."){srcPath.splice(i,1);up++}else if(up){srcPath.splice(i,1);up--}}// if the path is allowed to go above the root, restore leading ..s
if(!mustEndAbs&&!removeAllDots){for(;up--;up){srcPath.unshift("..")}}if(mustEndAbs&&srcPath[0]!==""&&(!srcPath[0]||srcPath[0].charAt(0)!=="/")){srcPath.unshift("")}if(hasTrailingSlash&&srcPath.join("/").substr(-1)!=="/"){srcPath.push("")}var isAbsolute=srcPath[0]===""||srcPath[0]&&srcPath[0].charAt(0)==="/";// put the host back
if(psychotic){result.hostname=result.host=isAbsolute?"":srcPath.length?srcPath.shift():"";//occationaly the auth can get stuck only in host
//this especially happens in cases like
//url.resolveObject('mailto:local1@domain1', 'local2@domain2')
var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift()}}mustEndAbs=mustEndAbs||result.host&&srcPath.length;if(mustEndAbs&&!isAbsolute){srcPath.unshift("")}if(!srcPath.length){result.pathname=null;result.path=null}else{result.pathname=srcPath.join("/")}//to support request.http
if(!util.isNull(result.pathname)||!util.isNull(result.search)){result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")}result.auth=relative.auth||result.auth;result.slashes=result.slashes||relative.slashes;result.href=result.format();return result};Url.prototype.parseHost=function(){var host=this.host;var port=portPattern.exec(host);if(port){port=port[0];if(port!==":"){this.port=port.substr(1)}host=host.substr(0,host.length-port.length)}if(host)this.hostname=host};// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-url/url.js sha1 = 78d0ac233252dbbecf7afc93c2c3ad56965f53e2
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/browser-url"),"url.js","/home/jonathanmaxannett/jsextensions/node_modules/browser-url")},"./util":{name:"url",path:"../node_modules/browser-url/util.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-url/util.js
"use strict";module.exports={isString:function(arg){return typeof arg==="string"},isObject:function(arg){return typeof arg==="object"&&arg!==null},isNull:function(arg){return arg===null},isNullOrUndefined:function(arg){return arg==null}};// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-url/util.js sha1 = b83cee072b6381001e94414862d934d65004d92b
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/browser-url"),"util.js","/home/jonathanmaxannett/jsextensions/node_modules/browser-url")},"querystring":{name:"browser-querystring",path:"../node_modules/browser-querystring/index.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring/index.js
"use strict";exports.decode=exports.parse=require("./decode");exports.encode=exports.stringify=require("./encode");// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring/index.js sha1 = cb7fd2835f652938cfe501f3f0c225e2646eb801
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring"),"index.js","/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring")},"./util":{name:"url",path:"../node_modules/browser-url/util.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-url/util.js
"use strict";module.exports={isString:function(arg){return typeof arg==="string"},isObject:function(arg){return typeof arg==="object"&&arg!==null},isNull:function(arg){return arg===null},isNullOrUndefined:function(arg){return arg==null}};// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-url/util.js sha1 = b83cee072b6381001e94414862d934d65004d92b
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/browser-url"),"util.js","/home/jonathanmaxannett/jsextensions/node_modules/browser-url")},"./decode":{name:"querystring",path:"../node_modules/browser-querystring/decode.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring/decode.js
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
"use strict";// If obj.hasOwnProperty has been overridden, then calling
// obj.hasOwnProperty(prop) will break.
// See: https://github.com/joyent/node/issues/1707
function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&";eq=eq||"=";var obj={};if(typeof qs!=="string"||qs.length===0){return obj}var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1000;if(options&&typeof options.maxKeys==="number"){maxKeys=options.maxKeys}var len=qs.length;// maxKeys <= 0 means that we should not limit keys count
if(maxKeys>0&&len>maxKeys){len=maxKeys}for(var i=0;i<len;++i){var x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq),kstr,vstr,k,v;if(idx>=0){kstr=x.substr(0,idx);vstr=x.substr(idx+1)}else{kstr=x;vstr=""}k=decodeURIComponent(kstr);v=decodeURIComponent(vstr);if(!hasOwnProperty(obj,k)){obj[k]=v}else if(Array.isArray(obj[k])){obj[k].push(v)}else{obj[k]=[obj[k],v]}}return obj};// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring/decode.js sha1 = 78c13537ae65852bb6b1df4563ced3a27f848376
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring"),"decode.js","/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring")},"./encode":{name:"querystring",path:"../node_modules/browser-querystring/encode.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring/encode.js
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
"use strict";var stringifyPrimitive=function(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return"";}};module.exports=function(obj,sep,eq,name){sep=sep||"&";eq=eq||"=";if(obj===null){obj=undefined}if(typeof obj==="object"){return Object.keys(obj).map(function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;if(Array.isArray(obj[k])){return obj[k].map(function(v){return ks+encodeURIComponent(stringifyPrimitive(v))}).join(sep)}else{return ks+encodeURIComponent(stringifyPrimitive(obj[k]))}}).join(sep)}if(!name)return"";return encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj))};// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring/encode.js sha1 = bc42441192cea9de787398850f1d308980421017
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring"),"encode.js","/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring")},"./decode":{name:"querystring",path:"../node_modules/browser-querystring/decode.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring/decode.js
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
"use strict";// If obj.hasOwnProperty has been overridden, then calling
// obj.hasOwnProperty(prop) will break.
// See: https://github.com/joyent/node/issues/1707
function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&";eq=eq||"=";var obj={};if(typeof qs!=="string"||qs.length===0){return obj}var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1000;if(options&&typeof options.maxKeys==="number"){maxKeys=options.maxKeys}var len=qs.length;// maxKeys <= 0 means that we should not limit keys count
if(maxKeys>0&&len>maxKeys){len=maxKeys}for(var i=0;i<len;++i){var x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq),kstr,vstr,k,v;if(idx>=0){kstr=x.substr(0,idx);vstr=x.substr(idx+1)}else{kstr=x;vstr=""}k=decodeURIComponent(kstr);v=decodeURIComponent(vstr);if(!hasOwnProperty(obj,k)){obj[k]=v}else if(Array.isArray(obj[k])){obj[k].push(v)}else{obj[k]=[obj[k],v]}}return obj};// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring/decode.js sha1 = 78c13537ae65852bb6b1df4563ced3a27f848376
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring"),"decode.js","/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring")},"util":{name:"browser-util",path:"../node_modules/browser-util/util.js",load:function(module,require,__filename,__dirname){var process={"env":{},"cwd":function(){return"/"}},exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-util/util.js
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
var getOwnPropertyDescriptors=Object.getOwnPropertyDescriptors||function getOwnPropertyDescriptors(obj){var keys=Object.keys(obj);var descriptors={};for(var i=0;i<keys.length;i++){descriptors[keys[i]]=Object.getOwnPropertyDescriptor(obj,keys[i])}return descriptors};var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++){objects.push(inspect(arguments[i]))}return objects.join(" ")}var i=1;var args=arguments;var len=args.length;var str=String(f).replace(formatRegExp,function(x){if(x==="%%")return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x;}});for(var x=args[i];i<len;x=args[++i]){if(isNull(x)||!isObject(x)){str+=" "+x}else{str+=" "+inspect(x)}}return str};// Mark that a method should not be used.
// Returns a modified function which warns once by default.
// If --no-deprecation is set, then it is a no-op.
exports.deprecate=function(fn,msg){if(typeof process!=="undefined"&&process.noDeprecation===true){return fn}// Allow for deprecating things in the process of starting up.
if(typeof process==="undefined"){return function(){return exports.deprecate(fn,msg).apply(this,arguments)}}var warned=false;function deprecated(){if(!warned){if(process.throwDeprecation){throw new Error(msg)}else if(process.traceDeprecation){console.trace(msg)}else{console.error(msg)}warned=true}return fn.apply(this,arguments)}return deprecated};var debugs={};var debugEnvRegex=/^$/;if(process.env.NODE_DEBUG){var debugEnv=process.env.NODE_DEBUG;debugEnv=debugEnv.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase();debugEnvRegex=new RegExp("^"+debugEnv+"$","i")}exports.debuglog=function(set){set=set.toUpperCase();if(!debugs[set]){if(debugEnvRegex.test(set)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else{debugs[set]=function(){}}}return debugs[set]};/**
                 * Echos the value of a value. Trys to print the value out
                 * in the best way possible given the different types.
                 *
                 * @param {Object} obj The object to print out.
                 * @param {Object} opts Optional options object that alters the output.
                 *//* legacy: obj, showHidden, depth, colors*/function inspect(obj,opts){// default options
var ctx={seen:[],stylize:stylizeNoColor};// legacy...
if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts)){// legacy...
ctx.showHidden=opts}else if(opts){// got an "options" object
exports._extend(ctx,opts)}// set default options
if(isUndefined(ctx.showHidden))ctx.showHidden=false;if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth)}exports.inspect=inspect;// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics
inspect.colors={"bold":[1,22],"italic":[3,23],"underline":[4,24],"inverse":[7,27],"white":[37,39],"grey":[90,39],"black":[30,39],"blue":[34,39],"cyan":[36,39],"green":[32,39],"magenta":[35,39],"red":[31,39],"yellow":[33,39]};// Don't use 'blue' not visible on cmd.exe
inspect.styles={"special":"cyan","number":"yellow","boolean":"yellow","undefined":"grey","null":"bold","string":"green","date":"magenta",// "name": intentionally not styling
"regexp":"red"};function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];if(style){return"\x1B["+inspect.colors[style][0]+"m"+str+"\x1B["+inspect.colors[style][1]+"m"}else{return str}}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};array.forEach(function(val,idx){hash[val]=true});return hash}function formatValue(ctx,value,recurseTimes){// Provide a hook for user-specified inspect functions.
// Check that value is an object with an inspect function on it
if(ctx.customInspect&&value&&isFunction(value.inspect)&&// Filter out the util module, it's inspect function is special
value.inspect!==exports.inspect&&// Also filter out any prototype objects using the circular check.
!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes,ctx);if(!isString(ret)){ret=formatValue(ctx,ret,recurseTimes)}return ret}// Primitive types cannot have properties
var primitive=formatPrimitive(ctx,value);if(primitive){return primitive}// Look up the keys of the object.
var keys=Object.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden){keys=Object.getOwnPropertyNames(value)}// IE doesn't make error fields non-enumerable
// http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx
if(isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0)){return formatError(value)}// Some type of object without properties can be shortcutted.
if(keys.length===0){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}if(isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),"date")}if(isError(value)){return formatError(value)}}var base="",array=false,braces=["{","}"];// Make Array say that they are Array
if(isArray(value)){array=true;braces=["[","]"]}// Make functions say that they are functions
if(isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}// Make RegExps say that they are RegExps
if(isRegExp(value)){base=" "+RegExp.prototype.toString.call(value)}// Make dates with properties first say the date
if(isDate(value)){base=" "+Date.prototype.toUTCString.call(value)}// Make error with message first say the error
if(isError(value)){base=" "+formatError(value)}if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1]}if(recurseTimes<0){if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}else{return ctx.stylize("[Object]","special")}}ctx.seen.push(value);var output;if(array){output=formatArray(ctx,value,recurseTimes,visibleKeys,keys)}else{output=keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)})}ctx.seen.pop();return reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,"\"")+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");// For some reason typeof null is "object", so special case here.
if(isNull(value))return ctx.stylize("null","null")}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i){if(hasOwnProperty(value,String(i))){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true))}else{output.push("")}}keys.forEach(function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true))}});return output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize("[Getter/Setter]","special")}else{str=ctx.stylize("[Getter]","special")}}else{if(desc.set){str=ctx.stylize("[Setter]","special")}}if(!hasOwnProperty(visibleKeys,key)){name="["+key+"]"}if(!str){if(ctx.seen.indexOf(desc.value)<0){if(isNull(recurseTimes)){str=formatValue(ctx,desc.value,null)}else{str=formatValue(ctx,desc.value,recurseTimes-1)}if(str.indexOf("\n")>-1){if(array){str=str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2)}else{str="\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")}}}else{str=ctx.stylize("[Circular]","special")}}if(isUndefined(name)){if(array&&key.match(/^\d+$/)){return str}name=JSON.stringify(""+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,"name")}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,"\"").replace(/(^"|"$)/g,"'");name=ctx.stylize(name,"string")}}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0;var length=output.reduce(function(prev,cur){numLinesEst++;if(cur.indexOf("\n")>=0)numLinesEst++;return prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(length>60){return braces[0]+(base===""?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]}return braces[0]+base+" "+output.join(", ")+" "+braces[1]}// NOTE: These type checking functions intentionally don't use `instanceof`
// because it is fragile and can be easily faked with `Object.create()`.
exports.types=require("./support/types");function isArray(ar){return Array.isArray(ar)}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return isObject(re)&&objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;exports.types.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==="[object Date]"}exports.isDate=isDate;exports.types.isDate=isDate;function isError(e){return isObject(e)&&(objectToString(e)==="[object Error]"||e instanceof Error)}exports.isError=isError;exports.types.isNativeError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||// ES6 symbol
typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=require("./support/isBuffer");function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];// 26 Feb 16:19:34
function timestamp(){var d=new Date;var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}// log is just a thin wrapper to console.log that prepends a timestamp
exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))};/**
                 * Inherit the prototype methods from one constructor into another.
                 *
                 * The Function.prototype.inherits from lang.js rewritten as a standalone
                 * function (not on Function.prototype). NOTE: If this file is to be loaded
                 * during bootstrapping this function needs to be rewritten using some native
                 * functions as prototype setup using normal JavaScript does not work as
                 * expected during bootstrapping (see mirror.js in r114903).
                 *
                 * @param {function} ctor Constructor function which needs to inherit the
                 *     prototype.
                 * @param {function} superCtor Constructor function to inherit prototype from.
                 */exports.inherits=require("inherits");exports._extend=function(origin,add){// Don't do anything if add isn't an object
if(!add||!isObject(add))return origin;var keys=Object.keys(add);var i=keys.length;while(i--){origin[keys[i]]=add[keys[i]]}return origin};function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var kCustomPromisifiedSymbol=typeof Symbol!=="undefined"?Symbol("util.promisify.custom"):undefined;exports.promisify=function promisify(original){if(typeof original!=="function")throw new TypeError("The \"original\" argument must be of type Function");if(kCustomPromisifiedSymbol&&original[kCustomPromisifiedSymbol]){var fn=original[kCustomPromisifiedSymbol];if(typeof fn!=="function"){throw new TypeError("The \"util.promisify.custom\" argument must be of type Function")}Object.defineProperty(fn,kCustomPromisifiedSymbol,{value:fn,enumerable:false,writable:false,configurable:true});return fn}function fn(){var promiseResolve,promiseReject;var promise=new Promise(function(resolve,reject){promiseResolve=resolve;promiseReject=reject});var args=[];for(var i=0;i<arguments.length;i++){args.push(arguments[i])}args.push(function(err,value){if(err){promiseReject(err)}else{promiseResolve(value)}});try{original.apply(this,args)}catch(err){promiseReject(err)}return promise}Object.setPrototypeOf(fn,Object.getPrototypeOf(original));if(kCustomPromisifiedSymbol)Object.defineProperty(fn,kCustomPromisifiedSymbol,{value:fn,enumerable:false,writable:false,configurable:true});return Object.defineProperties(fn,getOwnPropertyDescriptors(original))};exports.promisify.custom=kCustomPromisifiedSymbol;function callbackifyOnRejected(reason,cb){// `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).
// Because `null` is a special error value in callbacks which means "no error
// occurred", we error-wrap so the callback consumer can distinguish between
// "the promise rejected with null" or "the promise fulfilled with undefined".
if(!reason){var newReason=new Error("Promise was rejected with a falsy value");newReason.reason=reason;reason=newReason}return cb(reason)}function callbackify(original){if(typeof original!=="function"){throw new TypeError("The \"original\" argument must be of type Function")}// We DO NOT return the promise as it gives the user a false sense that
// the promise is actually somehow related to the callback's execution
// and that the callback throwing will reject the promise.
function callbackified(){var args=[];for(var i=0;i<arguments.length;i++){args.push(arguments[i])}var maybeCb=args.pop();if(typeof maybeCb!=="function"){throw new TypeError("The last argument must be of type Function")}var self=this;var cb=function(){return maybeCb.apply(self,arguments)};// In true node style we process the callback on `nextTick` with all the
// implications (stack, `uncaughtException`, `async_hooks`)
original.apply(this,args).then(function(ret){process.nextTick(cb.bind(null,null,ret))},function(rej){process.nextTick(callbackifyOnRejected.bind(null,rej,cb))})}Object.setPrototypeOf(callbackified,Object.getPrototypeOf(original));Object.defineProperties(callbackified,getOwnPropertyDescriptors(original));return callbackified}exports.callbackify=callbackify;// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-util/util.js sha1 = 6c4ffc8c5c96de1ecf5d8fe3422e9cd99f3b5200
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/browser-util"),"util.js","/home/jonathanmaxannett/jsextensions/node_modules/browser-util")},"./support/types":{name:"types",path:"../node_modules/browser-util/support/types.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support/types.js
// Currently in sync with Node.js lib/internal/util/types.js
// https://github.com/nodejs/node/commit/112cc7c27551254aa2b17098fb774867f05ed0d9
"use strict";var isBuffer=require("./isBuffer");var isArgumentsObject=require("is-arguments");var isGeneratorFunction=require("is-generator-function");function uncurryThis(f){return f.call.bind(f)}var BigIntSupported=typeof BigInt!=="undefined";var SymbolSupported=typeof Symbol!=="undefined";var SymbolToStringTagSupported=SymbolSupported&&typeof Symbol.toStringTag!=="undefined";var Uint8ArraySupported=typeof Uint8Array!=="undefined";var ArrayBufferSupported=typeof ArrayBuffer!=="undefined";if(Uint8ArraySupported&&SymbolToStringTagSupported){var TypedArrayPrototype=Object.getPrototypeOf(Uint8Array.prototype);var TypedArrayProto_toStringTag=uncurryThis(Object.getOwnPropertyDescriptor(TypedArrayPrototype,Symbol.toStringTag).get)}var ObjectToString=uncurryThis(Object.prototype.toString);var numberValue=uncurryThis(Number.prototype.valueOf);var stringValue=uncurryThis(String.prototype.valueOf);var booleanValue=uncurryThis(Boolean.prototype.valueOf);if(BigIntSupported){var bigIntValue=uncurryThis(BigInt.prototype.valueOf)}if(SymbolSupported){var symbolValue=uncurryThis(Symbol.prototype.valueOf)}function checkBoxedPrimitive(value,prototypeValueOf){if(typeof value!=="object"){return false}try{prototypeValueOf(value);return true}catch(e){return false}}exports.isArgumentsObject=isArgumentsObject;exports.isGeneratorFunction=isGeneratorFunction;// Taken from here and modified for better browser support
// https://github.com/sindresorhus/p-is-promise/blob/cda35a513bda03f977ad5cde3a079d237e82d7ef/index.js
function isPromise(input){return typeof Promise!=="undefined"&&input instanceof Promise||input!==null&&typeof input==="object"&&typeof input.then==="function"&&typeof input.catch==="function"}exports.isPromise=isPromise;function isArrayBufferView(value){if(ArrayBufferSupported&&ArrayBuffer.isView){return ArrayBuffer.isView(value)}return isTypedArray(value)||isDataView(value)}exports.isArrayBufferView=isArrayBufferView;function isTypedArray(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)!==undefined}else{return isUint8Array(value)||isUint8ClampedArray(value)||isUint16Array(value)||isUint32Array(value)||isInt8Array(value)||isInt16Array(value)||isInt32Array(value)||isFloat32Array(value)||isFloat64Array(value)||isBigInt64Array(value)||isBigUint64Array(value)}}exports.isTypedArray=isTypedArray;function isUint8Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Uint8Array"}else{return ObjectToString(value)==="[object Uint8Array]"||// If it's a Buffer instance _and_ has a `.buffer` property,
// this is an ArrayBuffer based buffer; thus it's an Uint8Array
// (Old Node.js had a custom non-Uint8Array implementation)
isBuffer(value)&&value.buffer!==undefined}}exports.isUint8Array=isUint8Array;function isUint8ClampedArray(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Uint8ClampedArray"}else{return ObjectToString(value)==="[object Uint8ClampedArray]"}}exports.isUint8ClampedArray=isUint8ClampedArray;function isUint16Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Uint16Array"}else{return ObjectToString(value)==="[object Uint16Array]"}}exports.isUint16Array=isUint16Array;function isUint32Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Uint32Array"}else{return ObjectToString(value)==="[object Uint32Array]"}}exports.isUint32Array=isUint32Array;function isInt8Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Int8Array"}else{return ObjectToString(value)==="[object Int8Array]"}}exports.isInt8Array=isInt8Array;function isInt16Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Int16Array"}else{return ObjectToString(value)==="[object Int16Array]"}}exports.isInt16Array=isInt16Array;function isInt32Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Int32Array"}else{return ObjectToString(value)==="[object Int32Array]"}}exports.isInt32Array=isInt32Array;function isFloat32Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Float32Array"}else{return ObjectToString(value)==="[object Float32Array]"}}exports.isFloat32Array=isFloat32Array;function isFloat64Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Float64Array"}else{return ObjectToString(value)==="[object Float64Array]"}}exports.isFloat64Array=isFloat64Array;function isBigInt64Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="BigInt64Array"}else{return ObjectToString(value)==="[object BigInt64Array]"}}exports.isBigInt64Array=isBigInt64Array;function isBigUint64Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="BigUint64Array"}else{return ObjectToString(value)==="[object BigUint64Array]"}}exports.isBigUint64Array=isBigUint64Array;function isMapToString(value){return ObjectToString(value)==="[object Map]"}isMapToString.working=typeof Map!=="undefined"&&isMapToString(new Map);function isMap(value){if(typeof Map==="undefined"){return false}return isMapToString.working?isMapToString(value):value instanceof Map}exports.isMap=isMap;function isSetToString(value){return ObjectToString(value)==="[object Set]"}isSetToString.working=typeof Set!=="undefined"&&isSetToString(new Set);function isSet(value){if(typeof Set==="undefined"){return false}return isSetToString.working?isSetToString(value):value instanceof Set}exports.isSet=isSet;function isWeakMapToString(value){return ObjectToString(value)==="[object WeakMap]"}isWeakMapToString.working=typeof WeakMap!=="undefined"&&isWeakMapToString(new WeakMap);function isWeakMap(value){if(typeof WeakMap==="undefined"){return false}return isWeakMapToString.working?isWeakMapToString(value):value instanceof WeakMap}exports.isWeakMap=isWeakMap;function isWeakSetToString(value){return ObjectToString(value)==="[object WeakSet]"}isWeakSetToString.working=typeof WeakSet!=="undefined"&&isWeakSetToString(new WeakSet);function isWeakSet(value){return isWeakSetToString(value);if(typeof WeakSet==="undefined"){return false}return isWeakSetToString.working?isWeakSetToString(value):value instanceof WeakSet}exports.isWeakSet=isWeakSet;function isArrayBufferToString(value){return ObjectToString(value)==="[object ArrayBuffer]"}isArrayBufferToString.working=typeof ArrayBuffer!=="undefined"&&isArrayBufferToString(new ArrayBuffer);function isArrayBuffer(value){if(typeof ArrayBuffer==="undefined"){return false}return isArrayBufferToString.working?isArrayBufferToString(value):value instanceof ArrayBuffer}exports.isArrayBuffer=isArrayBuffer;function isDataViewToString(value){return ObjectToString(value)==="[object DataView]"}isDataViewToString.working=typeof ArrayBuffer!=="undefined"&&typeof DataView!=="undefined"&&isDataViewToString(new DataView(new ArrayBuffer(1),0,1));function isDataView(value){if(typeof DataView==="undefined"){return false}return isDataViewToString.working?isDataViewToString(value):value instanceof DataView}exports.isDataView=isDataView;function isSharedArrayBufferToString(value){return ObjectToString(value)==="[object SharedArrayBuffer]"}isSharedArrayBufferToString.working=typeof SharedArrayBuffer!=="undefined"&&isSharedArrayBufferToString(new SharedArrayBuffer);function isSharedArrayBuffer(value){if(typeof SharedArrayBuffer==="undefined"){return false}return isSharedArrayBufferToString.working?isSharedArrayBufferToString(value):value instanceof SharedArrayBuffer}exports.isSharedArrayBuffer=isSharedArrayBuffer;function isAsyncFunction(value){return ObjectToString(value)==="[object AsyncFunction]"}exports.isAsyncFunction=isAsyncFunction;function isMapIterator(value){return ObjectToString(value)==="[object Map Iterator]"}exports.isMapIterator=isMapIterator;function isSetIterator(value){return ObjectToString(value)==="[object Set Iterator]"}exports.isSetIterator=isSetIterator;function isGeneratorObject(value){return ObjectToString(value)==="[object Generator]"}exports.isGeneratorObject=isGeneratorObject;function isWebAssemblyCompiledModule(value){return ObjectToString(value)==="[object WebAssembly.Module]"}exports.isWebAssemblyCompiledModule=isWebAssemblyCompiledModule;function isNumberObject(value){return checkBoxedPrimitive(value,numberValue)}exports.isNumberObject=isNumberObject;function isStringObject(value){return checkBoxedPrimitive(value,stringValue)}exports.isStringObject=isStringObject;function isBooleanObject(value){return checkBoxedPrimitive(value,booleanValue)}exports.isBooleanObject=isBooleanObject;function isBigIntObject(value){return BigIntSupported&&checkBoxedPrimitive(value,bigIntValue)}exports.isBigIntObject=isBigIntObject;function isSymbolObject(value){return SymbolSupported&&checkBoxedPrimitive(value,symbolValue)}exports.isSymbolObject=isSymbolObject;function isBoxedPrimitive(value){return isNumberObject(value)||isStringObject(value)||isBooleanObject(value)||isBigIntObject(value)||isSymbolObject(value)}exports.isBoxedPrimitive=isBoxedPrimitive;function isAnyArrayBuffer(value){return Uint8ArraySupported&&(isArrayBuffer(value)||isSharedArrayBuffer(value))}exports.isAnyArrayBuffer=isAnyArrayBuffer;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(method){Object.defineProperty(exports,method,{enumerable:false,value:function(){throw new Error(method+" is not supported in userland")}})});// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support/types.js sha1 = 3bfa608d786eeb0caad9f69079a1a13006fd50a9
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support"),"types.js","/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support")},"./support/isBuffer":{name:"isBuffer",path:"../node_modules/browser-util/support/isBuffer.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support/isBuffer.js
module.exports=function isBuffer(arg){return arg instanceof Buffer};// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support/isBuffer.js sha1 = ab526fa0e6a7e7f560d2126a632cc8342158334d
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support"),"isBuffer.js","/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support")},"inherits":{name:"inherits",path:"../node_modules/inherits/inherits.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/inherits/inherits.js
try{var util=require("util");if(typeof util.inherits!=="function")throw"";module.exports=util.inherits}catch(e){module.exports=require("./inherits_browser.js")}// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/inherits/inherits.js sha1 = 491caba7b70590f6dcbe37d7edccd9f89ac1b9fd
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/inherits"),"inherits.js","/home/jonathanmaxannett/jsextensions/node_modules/inherits")},"./support/types":{name:"types",path:"../node_modules/browser-util/support/types.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support/types.js
// Currently in sync with Node.js lib/internal/util/types.js
// https://github.com/nodejs/node/commit/112cc7c27551254aa2b17098fb774867f05ed0d9
"use strict";var isBuffer=require("./isBuffer");var isArgumentsObject=require("is-arguments");var isGeneratorFunction=require("is-generator-function");function uncurryThis(f){return f.call.bind(f)}var BigIntSupported=typeof BigInt!=="undefined";var SymbolSupported=typeof Symbol!=="undefined";var SymbolToStringTagSupported=SymbolSupported&&typeof Symbol.toStringTag!=="undefined";var Uint8ArraySupported=typeof Uint8Array!=="undefined";var ArrayBufferSupported=typeof ArrayBuffer!=="undefined";if(Uint8ArraySupported&&SymbolToStringTagSupported){var TypedArrayPrototype=Object.getPrototypeOf(Uint8Array.prototype);var TypedArrayProto_toStringTag=uncurryThis(Object.getOwnPropertyDescriptor(TypedArrayPrototype,Symbol.toStringTag).get)}var ObjectToString=uncurryThis(Object.prototype.toString);var numberValue=uncurryThis(Number.prototype.valueOf);var stringValue=uncurryThis(String.prototype.valueOf);var booleanValue=uncurryThis(Boolean.prototype.valueOf);if(BigIntSupported){var bigIntValue=uncurryThis(BigInt.prototype.valueOf)}if(SymbolSupported){var symbolValue=uncurryThis(Symbol.prototype.valueOf)}function checkBoxedPrimitive(value,prototypeValueOf){if(typeof value!=="object"){return false}try{prototypeValueOf(value);return true}catch(e){return false}}exports.isArgumentsObject=isArgumentsObject;exports.isGeneratorFunction=isGeneratorFunction;// Taken from here and modified for better browser support
// https://github.com/sindresorhus/p-is-promise/blob/cda35a513bda03f977ad5cde3a079d237e82d7ef/index.js
function isPromise(input){return typeof Promise!=="undefined"&&input instanceof Promise||input!==null&&typeof input==="object"&&typeof input.then==="function"&&typeof input.catch==="function"}exports.isPromise=isPromise;function isArrayBufferView(value){if(ArrayBufferSupported&&ArrayBuffer.isView){return ArrayBuffer.isView(value)}return isTypedArray(value)||isDataView(value)}exports.isArrayBufferView=isArrayBufferView;function isTypedArray(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)!==undefined}else{return isUint8Array(value)||isUint8ClampedArray(value)||isUint16Array(value)||isUint32Array(value)||isInt8Array(value)||isInt16Array(value)||isInt32Array(value)||isFloat32Array(value)||isFloat64Array(value)||isBigInt64Array(value)||isBigUint64Array(value)}}exports.isTypedArray=isTypedArray;function isUint8Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Uint8Array"}else{return ObjectToString(value)==="[object Uint8Array]"||// If it's a Buffer instance _and_ has a `.buffer` property,
// this is an ArrayBuffer based buffer; thus it's an Uint8Array
// (Old Node.js had a custom non-Uint8Array implementation)
isBuffer(value)&&value.buffer!==undefined}}exports.isUint8Array=isUint8Array;function isUint8ClampedArray(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Uint8ClampedArray"}else{return ObjectToString(value)==="[object Uint8ClampedArray]"}}exports.isUint8ClampedArray=isUint8ClampedArray;function isUint16Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Uint16Array"}else{return ObjectToString(value)==="[object Uint16Array]"}}exports.isUint16Array=isUint16Array;function isUint32Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Uint32Array"}else{return ObjectToString(value)==="[object Uint32Array]"}}exports.isUint32Array=isUint32Array;function isInt8Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Int8Array"}else{return ObjectToString(value)==="[object Int8Array]"}}exports.isInt8Array=isInt8Array;function isInt16Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Int16Array"}else{return ObjectToString(value)==="[object Int16Array]"}}exports.isInt16Array=isInt16Array;function isInt32Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Int32Array"}else{return ObjectToString(value)==="[object Int32Array]"}}exports.isInt32Array=isInt32Array;function isFloat32Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Float32Array"}else{return ObjectToString(value)==="[object Float32Array]"}}exports.isFloat32Array=isFloat32Array;function isFloat64Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Float64Array"}else{return ObjectToString(value)==="[object Float64Array]"}}exports.isFloat64Array=isFloat64Array;function isBigInt64Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="BigInt64Array"}else{return ObjectToString(value)==="[object BigInt64Array]"}}exports.isBigInt64Array=isBigInt64Array;function isBigUint64Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="BigUint64Array"}else{return ObjectToString(value)==="[object BigUint64Array]"}}exports.isBigUint64Array=isBigUint64Array;function isMapToString(value){return ObjectToString(value)==="[object Map]"}isMapToString.working=typeof Map!=="undefined"&&isMapToString(new Map);function isMap(value){if(typeof Map==="undefined"){return false}return isMapToString.working?isMapToString(value):value instanceof Map}exports.isMap=isMap;function isSetToString(value){return ObjectToString(value)==="[object Set]"}isSetToString.working=typeof Set!=="undefined"&&isSetToString(new Set);function isSet(value){if(typeof Set==="undefined"){return false}return isSetToString.working?isSetToString(value):value instanceof Set}exports.isSet=isSet;function isWeakMapToString(value){return ObjectToString(value)==="[object WeakMap]"}isWeakMapToString.working=typeof WeakMap!=="undefined"&&isWeakMapToString(new WeakMap);function isWeakMap(value){if(typeof WeakMap==="undefined"){return false}return isWeakMapToString.working?isWeakMapToString(value):value instanceof WeakMap}exports.isWeakMap=isWeakMap;function isWeakSetToString(value){return ObjectToString(value)==="[object WeakSet]"}isWeakSetToString.working=typeof WeakSet!=="undefined"&&isWeakSetToString(new WeakSet);function isWeakSet(value){return isWeakSetToString(value);if(typeof WeakSet==="undefined"){return false}return isWeakSetToString.working?isWeakSetToString(value):value instanceof WeakSet}exports.isWeakSet=isWeakSet;function isArrayBufferToString(value){return ObjectToString(value)==="[object ArrayBuffer]"}isArrayBufferToString.working=typeof ArrayBuffer!=="undefined"&&isArrayBufferToString(new ArrayBuffer);function isArrayBuffer(value){if(typeof ArrayBuffer==="undefined"){return false}return isArrayBufferToString.working?isArrayBufferToString(value):value instanceof ArrayBuffer}exports.isArrayBuffer=isArrayBuffer;function isDataViewToString(value){return ObjectToString(value)==="[object DataView]"}isDataViewToString.working=typeof ArrayBuffer!=="undefined"&&typeof DataView!=="undefined"&&isDataViewToString(new DataView(new ArrayBuffer(1),0,1));function isDataView(value){if(typeof DataView==="undefined"){return false}return isDataViewToString.working?isDataViewToString(value):value instanceof DataView}exports.isDataView=isDataView;function isSharedArrayBufferToString(value){return ObjectToString(value)==="[object SharedArrayBuffer]"}isSharedArrayBufferToString.working=typeof SharedArrayBuffer!=="undefined"&&isSharedArrayBufferToString(new SharedArrayBuffer);function isSharedArrayBuffer(value){if(typeof SharedArrayBuffer==="undefined"){return false}return isSharedArrayBufferToString.working?isSharedArrayBufferToString(value):value instanceof SharedArrayBuffer}exports.isSharedArrayBuffer=isSharedArrayBuffer;function isAsyncFunction(value){return ObjectToString(value)==="[object AsyncFunction]"}exports.isAsyncFunction=isAsyncFunction;function isMapIterator(value){return ObjectToString(value)==="[object Map Iterator]"}exports.isMapIterator=isMapIterator;function isSetIterator(value){return ObjectToString(value)==="[object Set Iterator]"}exports.isSetIterator=isSetIterator;function isGeneratorObject(value){return ObjectToString(value)==="[object Generator]"}exports.isGeneratorObject=isGeneratorObject;function isWebAssemblyCompiledModule(value){return ObjectToString(value)==="[object WebAssembly.Module]"}exports.isWebAssemblyCompiledModule=isWebAssemblyCompiledModule;function isNumberObject(value){return checkBoxedPrimitive(value,numberValue)}exports.isNumberObject=isNumberObject;function isStringObject(value){return checkBoxedPrimitive(value,stringValue)}exports.isStringObject=isStringObject;function isBooleanObject(value){return checkBoxedPrimitive(value,booleanValue)}exports.isBooleanObject=isBooleanObject;function isBigIntObject(value){return BigIntSupported&&checkBoxedPrimitive(value,bigIntValue)}exports.isBigIntObject=isBigIntObject;function isSymbolObject(value){return SymbolSupported&&checkBoxedPrimitive(value,symbolValue)}exports.isSymbolObject=isSymbolObject;function isBoxedPrimitive(value){return isNumberObject(value)||isStringObject(value)||isBooleanObject(value)||isBigIntObject(value)||isSymbolObject(value)}exports.isBoxedPrimitive=isBoxedPrimitive;function isAnyArrayBuffer(value){return Uint8ArraySupported&&(isArrayBuffer(value)||isSharedArrayBuffer(value))}exports.isAnyArrayBuffer=isAnyArrayBuffer;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(method){Object.defineProperty(exports,method,{enumerable:false,value:function(){throw new Error(method+" is not supported in userland")}})});// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support/types.js sha1 = 3bfa608d786eeb0caad9f69079a1a13006fd50a9
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support"),"types.js","/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support")},"./isBuffer":{name:"isBuffer",path:"../node_modules/browser-util/support/isBuffer.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support/isBuffer.js
module.exports=function isBuffer(arg){return arg instanceof Buffer};// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support/isBuffer.js sha1 = ab526fa0e6a7e7f560d2126a632cc8342158334d
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support"),"isBuffer.js","/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support")},"is-arguments":{name:"is-arguments",path:"../node_modules/is-arguments/index.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/is-arguments/index.js
"use strict";var hasToStringTag=typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol";var toStr=Object.prototype.toString;var isStandardArguments=function isArguments(value){if(hasToStringTag&&value&&typeof value==="object"&&Symbol.toStringTag in value){return false}return toStr.call(value)==="[object Arguments]"};var isLegacyArguments=function isArguments(value){if(isStandardArguments(value)){return true}return value!==null&&typeof value==="object"&&typeof value.length==="number"&&value.length>=0&&toStr.call(value)!=="[object Array]"&&toStr.call(value.callee)==="[object Function]"};var supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;// for tests
module.exports=supportsStandardArguments?isStandardArguments:isLegacyArguments;// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/is-arguments/index.js sha1 = 03e026d417599e244476071ea2b165c63bb647a5
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/is-arguments"),"index.js","/home/jonathanmaxannett/jsextensions/node_modules/is-arguments")},"is-generator-function":{name:"is-generator-function",path:"../node_modules/is-generator-function/index.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/is-generator-function/index.js
"use strict";var toStr=Object.prototype.toString;var fnToStr=Function.prototype.toString;var isFnRegex=/^\s*(?:function)?\*/;var hasToStringTag=typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol";var getProto=Object.getPrototypeOf;var getGeneratorFunc=function(){// eslint-disable-line consistent-return
if(!hasToStringTag){return false}try{return Function("return function*() {}")()}catch(e){}};var generatorFunc=getGeneratorFunc();var GeneratorFunction=generatorFunc?getProto(generatorFunc):{};module.exports=function isGeneratorFunction(fn){if(typeof fn!=="function"){return false}if(isFnRegex.test(fnToStr.call(fn))){return true}if(!hasToStringTag){var str=toStr.call(fn);return str==="[object GeneratorFunction]"}return getProto(fn)===GeneratorFunction};// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/is-generator-function/index.js sha1 = aa4dacfbf2826bea0fdfb40c9e566137f53456b9
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/is-generator-function"),"index.js","/home/jonathanmaxannett/jsextensions/node_modules/is-generator-function")},"./inherits_browser.js":{name:"inherits",path:"../node_modules/inherits/inherits_browser.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/inherits/inherits_browser.js
if(typeof Object.create==="function"){// implementation from standard node.js 'util' module
module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}else{// old school shim for old browsers
module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/inherits/inherits_browser.js sha1 = 7c13eacf36e79e5e7dd257d80ec25846e4df7eb3
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/inherits"),"inherits_browser.js","/home/jonathanmaxannett/jsextensions/node_modules/inherits")},"./isBuffer":{name:"isBuffer",path:"../node_modules/browser-util/support/isBuffer.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support/isBuffer.js
module.exports=function isBuffer(arg){return arg instanceof Buffer};// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support/isBuffer.js sha1 = ab526fa0e6a7e7f560d2126a632cc8342158334d
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support"),"isBuffer.js","/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support")},"path":{name:"browser-path",path:"../node_modules/browser-path/path.js",load:function(module,require,__filename,__dirname){var process={"env":{},"cwd":function(){return"/"}},exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-path/path.js
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
"use strict";var isWindows=process.platform==="win32";var util=require("util");// resolves . and .. elements in a path array with directory names there
// must be no slashes or device names (c:\) in the array
// (so also no leading and trailing slashes - it does not distinguish
// relative and absolute paths)
function normalizeArray(parts,allowAboveRoot){var res=[];for(var i=0;i<parts.length;i++){var p=parts[i];// ignore empty parts
if(!p||p===".")continue;if(p===".."){if(res.length&&res[res.length-1]!==".."){res.pop()}else if(allowAboveRoot){res.push("..")}}else{res.push(p)}}return res}// returns an array with empty elements removed from either end of the input
// array or the original array if no elements need to be removed
function trimArray(arr){var lastIndex=arr.length-1;var start=0;for(;start<=lastIndex;start++){if(arr[start])break}var end=lastIndex;for(;end>=0;end--){if(arr[end])break}if(start===0&&end===lastIndex)return arr;if(start>end)return[];return arr.slice(start,end+1)}// Regex to split a windows path into three parts: [*, device, slash,
// tail] windows-only
var splitDeviceRe=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/;// Regex to split the tail part of the above into [*, dir, basename, ext]
var splitTailRe=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/;var win32={};// Function to split a filename into [root, dir, basename, ext]
function win32SplitPath(filename){// Separate device+slash from tail
var result=splitDeviceRe.exec(filename),device=(result[1]||"")+(result[2]||""),tail=result[3]||"";// Split the tail into dir, basename and extension
var result2=splitTailRe.exec(tail),dir=result2[1],basename=result2[2],ext=result2[3];return[device,dir,basename,ext]}function win32StatPath(path){var result=splitDeviceRe.exec(path),device=result[1]||"",isUnc=!!device&&device[1]!==":";return{device:device,isUnc:isUnc,isAbsolute:isUnc||!!result[2],// UNC paths are always absolute
tail:result[3]}}function normalizeUNCRoot(device){return"\\\\"+device.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}// path.resolve([from ...], to)
win32.resolve=function(){var resolvedDevice="",resolvedTail="",resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1;i--){var path;if(i>=0){path=arguments[i]}else if(!resolvedDevice){path=process.cwd()}else{// Windows has the concept of drive-specific current working
// directories. If we've resolved a drive letter but not yet an
// absolute path, get cwd for that drive. We're sure the device is not
// an unc path at this points, because unc paths are always absolute.
path=process.env["="+resolvedDevice];// Verify that a drive-local cwd was found and that it actually points
// to our drive. If not, default to the drive's root.
if(!path||path.substr(0,3).toLowerCase()!==resolvedDevice.toLowerCase()+"\\"){path=resolvedDevice+"\\"}}// Skip empty and invalid entries
if(!util.isString(path)){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){continue}var result=win32StatPath(path),device=result.device,isUnc=result.isUnc,isAbsolute=result.isAbsolute,tail=result.tail;if(device&&resolvedDevice&&device.toLowerCase()!==resolvedDevice.toLowerCase()){// This path points to another device so it is not applicable
continue}if(!resolvedDevice){resolvedDevice=device}if(!resolvedAbsolute){resolvedTail=tail+"\\"+resolvedTail;resolvedAbsolute=isAbsolute}if(resolvedDevice&&resolvedAbsolute){break}}// Convert slashes to backslashes when `resolvedDevice` points to an UNC
// root. Also squash multiple slashes into a single one where appropriate.
if(isUnc){resolvedDevice=normalizeUNCRoot(resolvedDevice)}// At this point the path should be resolved to a full absolute path,
// but handle relative paths to be safe (might happen when process.cwd()
// fails)
// Normalize the tail path
resolvedTail=normalizeArray(resolvedTail.split(/[\\\/]+/),!resolvedAbsolute).join("\\");return resolvedDevice+(resolvedAbsolute?"\\":"")+resolvedTail||"."};win32.normalize=function(path){var result=win32StatPath(path),device=result.device,isUnc=result.isUnc,isAbsolute=result.isAbsolute,tail=result.tail,trailingSlash=/[\\\/]$/.test(tail);// Normalize the tail path
tail=normalizeArray(tail.split(/[\\\/]+/),!isAbsolute).join("\\");if(!tail&&!isAbsolute){tail="."}if(tail&&trailingSlash){tail+="\\"}// Convert slashes to backslashes when `device` points to an UNC root.
// Also squash multiple slashes into a single one where appropriate.
if(isUnc){device=normalizeUNCRoot(device)}return device+(isAbsolute?"\\":"")+tail};win32.isAbsolute=function(path){return win32StatPath(path).isAbsolute};win32.join=function(){var paths=[];for(var i=0;i<arguments.length;i++){var arg=arguments[i];if(!util.isString(arg)){throw new TypeError("Arguments to path.join must be strings")}if(arg){paths.push(arg)}}var joined=paths.join("\\");// Make sure that the joined path doesn't start with two slashes, because
// normalize() will mistake it for an UNC path then.
//
// This step is skipped when it is very clear that the user actually
// intended to point at an UNC path. This is assumed when the first
// non-empty string arguments starts with exactly two slashes followed by
// at least one more non-slash character.
//
// Note that for normalize() to treat a path as an UNC path it needs to
// have at least 2 components, so we don't filter for that here.
// This means that the user can use join to construct UNC paths from
// a server name and a share name; for example:
//   path.join('//server', 'share') -> '\\\\server\\share\')
if(!/^[\\\/]{2}[^\\\/]/.test(paths[0])){joined=joined.replace(/^[\\\/]{2,}/,"\\")}return win32.normalize(joined)};// path.relative(from, to)
// it will solve the relative path from 'from' to 'to', for instance:
// from = 'C:\\orandea\\test\\aaa'
// to = 'C:\\orandea\\impl\\bbb'
// The output of the function should be: '..\\..\\impl\\bbb'
win32.relative=function(from,to){from=win32.resolve(from);to=win32.resolve(to);// windows is not case sensitive
var lowerFrom=from.toLowerCase();var lowerTo=to.toLowerCase();var toParts=trimArray(to.split("\\"));var lowerFromParts=trimArray(lowerFrom.split("\\"));var lowerToParts=trimArray(lowerTo.split("\\"));var length=Math.min(lowerFromParts.length,lowerToParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(lowerFromParts[i]!==lowerToParts[i]){samePartsLength=i;break}}if(samePartsLength==0){return to}var outputParts=[];for(var i=samePartsLength;i<lowerFromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("\\")};win32._makeLong=function(path){// Note: this will *probably* throw somewhere.
if(!util.isString(path))return path;if(!path){return""}var resolvedPath=win32.resolve(path);if(/^[a-zA-Z]\:\\/.test(resolvedPath)){// path is local filesystem path, which needs to be converted
// to long UNC path.
return"\\\\?\\"+resolvedPath}else if(/^\\\\[^?.]/.test(resolvedPath)){// path is network UNC path, which needs to be converted
// to long UNC path.
return"\\\\?\\UNC\\"+resolvedPath.substring(2)}return path};win32.dirname=function(path){var result=win32SplitPath(path),root=result[0],dir=result[1];if(!root&&!dir){// No dirname whatsoever
return"."}if(dir){// It has a dirname, strip trailing slash
dir=dir.substr(0,dir.length-1)}return root+dir};win32.basename=function(path,ext){var f=win32SplitPath(path)[2];// TODO: make this comparison case-insensitive on windows?
if(ext&&f.substr(-1*ext.length)===ext){f=f.substr(0,f.length-ext.length)}return f};win32.extname=function(path){return win32SplitPath(path)[3]};win32.format=function(pathObject){if(!util.isObject(pathObject)){throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof pathObject)}var root=pathObject.root||"";if(!util.isString(root)){throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof pathObject.root)}var dir=pathObject.dir;var base=pathObject.base||"";if(!dir){return base}if(dir[dir.length-1]===win32.sep){return dir+base}return dir+win32.sep+base};win32.parse=function(pathString){if(!util.isString(pathString)){throw new TypeError("Parameter 'pathString' must be a string, not "+typeof pathString)}var allParts=win32SplitPath(pathString);if(!allParts||allParts.length!==4){throw new TypeError("Invalid path '"+pathString+"'")}return{root:allParts[0],dir:allParts[0]+allParts[1].slice(0,-1),base:allParts[2],ext:allParts[3],name:allParts[2].slice(0,allParts[2].length-allParts[3].length)}};win32.sep="\\";win32.delimiter=";";// Split a filename into [root, dir, basename, ext], unix version
// 'root' is just a slash, or nothing.
var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;var posix={};function posixSplitPath(filename){return splitPathRe.exec(filename).slice(1)}// path.resolve([from ...], to)
// posix version
posix.resolve=function(){var resolvedPath="",resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();// Skip empty and invalid entries
if(!util.isString(path)){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){continue}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=path[0]==="/"}// At this point the path should be resolved to a full absolute path, but
// handle relative paths to be safe (might happen when process.cwd() fails)
// Normalize the path
resolvedPath=normalizeArray(resolvedPath.split("/"),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."};// path.normalize(path)
// posix version
posix.normalize=function(path){var isAbsolute=posix.isAbsolute(path),trailingSlash=path&&path[path.length-1]==="/";// Normalize the path
path=normalizeArray(path.split("/"),!isAbsolute).join("/");if(!path&&!isAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isAbsolute?"/":"")+path};// posix version
posix.isAbsolute=function(path){return path.charAt(0)==="/"};// posix version
posix.join=function(){var path="";for(var i=0;i<arguments.length;i++){var segment=arguments[i];if(!util.isString(segment)){throw new TypeError("Arguments to path.join must be strings")}if(segment){if(!path){path+=segment}else{path+="/"+segment}}}return posix.normalize(path)};// path.relative(from, to)
// posix version
posix.relative=function(from,to){from=posix.resolve(from).substr(1);to=posix.resolve(to).substr(1);var fromParts=trimArray(from.split("/"));var toParts=trimArray(to.split("/"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")};posix._makeLong=function(path){return path};posix.dirname=function(path){var result=posixSplitPath(path),root=result[0],dir=result[1];if(!root&&!dir){// No dirname whatsoever
return"."}if(dir){// It has a dirname, strip trailing slash
dir=dir.substr(0,dir.length-1)}return root+dir};posix.basename=function(path,ext){var f=posixSplitPath(path)[2];// TODO: make this comparison case-insensitive on windows?
if(ext&&f.substr(-1*ext.length)===ext){f=f.substr(0,f.length-ext.length)}return f};posix.extname=function(path){return posixSplitPath(path)[3]};posix.format=function(pathObject){if(!util.isObject(pathObject)){throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof pathObject)}var root=pathObject.root||"";if(!util.isString(root)){throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof pathObject.root)}var dir=pathObject.dir?pathObject.dir+posix.sep:"";var base=pathObject.base||"";return dir+base};posix.parse=function(pathString){if(!util.isString(pathString)){throw new TypeError("Parameter 'pathString' must be a string, not "+typeof pathString)}var allParts=posixSplitPath(pathString);if(!allParts||allParts.length!==4){throw new TypeError("Invalid path '"+pathString+"'")}allParts[1]=allParts[1]||"";allParts[2]=allParts[2]||"";allParts[3]=allParts[3]||"";return{root:allParts[0],dir:allParts[0]+allParts[1].slice(0,-1),base:allParts[2],ext:allParts[3],name:allParts[2].slice(0,allParts[2].length-allParts[3].length)}};posix.sep="/";posix.delimiter=":";if(isWindows)module.exports=win32;else/* posix */module.exports=posix;module.exports.posix=posix;module.exports.win32=win32;// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-path/path.js sha1 = f14f27107c2666c5ea412b37e34ab947ec3d2453
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/browser-path"),"path.js","/home/jonathanmaxannett/jsextensions/node_modules/browser-path")},___the___:"end"};var mod=function(module,require,__filename,__dirname){var exports=module.exports;//paste-begin: http://npmjs.com
module.exports=function(){var res={};["punycode","url","querystring","util","path"].forEach(function(m){res[m]=require(m)});return res}();//paste-end: http://npmjs.com
return module.exports};return mod({exports:{}},__sim_require.bind(this,"."),"browser-internal.js",".")}()})(typeof process+typeof module+typeof require==="objectobjectfunction"?[module,"exports"]:[window,"simRequire"]);
/* jshint ignore:end */

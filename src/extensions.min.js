/* jshint ignore:start */
/* js-sha1 */
/*
 * [js-sha1]{@link https://github.com/emn178/js-sha1}
 *
 * @version 0.6.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
!function(){"use strict";function t(t){t?(f[0]=f[16]=f[1]=f[2]=f[3]=f[4]=f[5]=f[6]=f[7]=f[8]=f[9]=f[10]=f[11]=f[12]=f[13]=f[14]=f[15]=0,this.blocks=f):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}var h="object"==typeof window?window:{},s=!h.JS_SHA1_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;s&&(h=global);var i=!h.JS_SHA1_NO_COMMON_JS&&"object"==typeof module&&module.exports,e="function"==typeof define&&define.amd,r="0123456789abcdef".split(""),o=[-2147483648,8388608,32768,128],n=[24,16,8,0],a=["hex","array","digest","arrayBuffer"],f=[],u=function(h){return function(s){return new t(!0).update(s)[h]()}},c=function(){var h=u("hex");s&&(h=p(h)),h.create=function(){return new t},h.update=function(t){return h.create().update(t)};for(var i=0;i<a.length;++i){var e=a[i];h[e]=u(e)}return h},p=function(t){var h=eval("require('crypto')"),s=eval("require('buffer').Buffer"),i=function(i){if("string"==typeof i)return h.createHash("sha1").update(i,"utf8").digest("hex");if(i.constructor===ArrayBuffer)i=new Uint8Array(i);else if(void 0===i.length)return t(i);return h.createHash("sha1").update(new s(i)).digest("hex")};return i};t.prototype.update=function(t){if(!this.finalized){var s="string"!=typeof t;s&&t.constructor===h.ArrayBuffer&&(t=new Uint8Array(t));for(var i,e,r=0,o=t.length||0,a=this.blocks;r<o;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),s)for(e=this.start;r<o&&e<64;++r)a[e>>2]|=t[r]<<n[3&e++];else for(e=this.start;r<o&&e<64;++r)(i=t.charCodeAt(r))<128?a[e>>2]|=i<<n[3&e++]:i<2048?(a[e>>2]|=(192|i>>6)<<n[3&e++],a[e>>2]|=(128|63&i)<<n[3&e++]):i<55296||i>=57344?(a[e>>2]|=(224|i>>12)<<n[3&e++],a[e>>2]|=(128|i>>6&63)<<n[3&e++],a[e>>2]|=(128|63&i)<<n[3&e++]):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++r)),a[e>>2]|=(240|i>>18)<<n[3&e++],a[e>>2]|=(128|i>>12&63)<<n[3&e++],a[e>>2]|=(128|i>>6&63)<<n[3&e++],a[e>>2]|=(128|63&i)<<n[3&e++]);this.lastByteIndex=e,this.bytes+=e-this.start,e>=64?(this.block=a[16],this.start=e-64,this.hash(),this.hashed=!0):this.start=e}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},t.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,h=this.lastByteIndex;t[16]=this.block,t[h>>2]|=o[3&h],this.block=t[16],h>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},t.prototype.hash=function(){var t,h,s=this.h0,i=this.h1,e=this.h2,r=this.h3,o=this.h4,n=this.blocks;for(t=16;t<80;++t)h=n[t-3]^n[t-8]^n[t-14]^n[t-16],n[t]=h<<1|h>>>31;for(t=0;t<20;t+=5)s=(h=(i=(h=(e=(h=(r=(h=(o=(h=s<<5|s>>>27)+(i&e|~i&r)+o+1518500249+n[t]<<0)<<5|o>>>27)+(s&(i=i<<30|i>>>2)|~s&e)+r+1518500249+n[t+1]<<0)<<5|r>>>27)+(o&(s=s<<30|s>>>2)|~o&i)+e+1518500249+n[t+2]<<0)<<5|e>>>27)+(r&(o=o<<30|o>>>2)|~r&s)+i+1518500249+n[t+3]<<0)<<5|i>>>27)+(e&(r=r<<30|r>>>2)|~e&o)+s+1518500249+n[t+4]<<0,e=e<<30|e>>>2;for(;t<40;t+=5)s=(h=(i=(h=(e=(h=(r=(h=(o=(h=s<<5|s>>>27)+(i^e^r)+o+1859775393+n[t]<<0)<<5|o>>>27)+(s^(i=i<<30|i>>>2)^e)+r+1859775393+n[t+1]<<0)<<5|r>>>27)+(o^(s=s<<30|s>>>2)^i)+e+1859775393+n[t+2]<<0)<<5|e>>>27)+(r^(o=o<<30|o>>>2)^s)+i+1859775393+n[t+3]<<0)<<5|i>>>27)+(e^(r=r<<30|r>>>2)^o)+s+1859775393+n[t+4]<<0,e=e<<30|e>>>2;for(;t<60;t+=5)s=(h=(i=(h=(e=(h=(r=(h=(o=(h=s<<5|s>>>27)+(i&e|i&r|e&r)+o-1894007588+n[t]<<0)<<5|o>>>27)+(s&(i=i<<30|i>>>2)|s&e|i&e)+r-1894007588+n[t+1]<<0)<<5|r>>>27)+(o&(s=s<<30|s>>>2)|o&i|s&i)+e-1894007588+n[t+2]<<0)<<5|e>>>27)+(r&(o=o<<30|o>>>2)|r&s|o&s)+i-1894007588+n[t+3]<<0)<<5|i>>>27)+(e&(r=r<<30|r>>>2)|e&o|r&o)+s-1894007588+n[t+4]<<0,e=e<<30|e>>>2;for(;t<80;t+=5)s=(h=(i=(h=(e=(h=(r=(h=(o=(h=s<<5|s>>>27)+(i^e^r)+o-899497514+n[t]<<0)<<5|o>>>27)+(s^(i=i<<30|i>>>2)^e)+r-899497514+n[t+1]<<0)<<5|r>>>27)+(o^(s=s<<30|s>>>2)^i)+e-899497514+n[t+2]<<0)<<5|e>>>27)+(r^(o=o<<30|o>>>2)^s)+i-899497514+n[t+3]<<0)<<5|i>>>27)+(e^(r=r<<30|r>>>2)^o)+s-899497514+n[t+4]<<0,e=e<<30|e>>>2;this.h0=this.h0+s<<0,this.h1=this.h1+i<<0,this.h2=this.h2+e<<0,this.h3=this.h3+r<<0,this.h4=this.h4+o<<0},t.prototype.hex=function(){this.finalize();var t=this.h0,h=this.h1,s=this.h2,i=this.h3,e=this.h4;return r[t>>28&15]+r[t>>24&15]+r[t>>20&15]+r[t>>16&15]+r[t>>12&15]+r[t>>8&15]+r[t>>4&15]+r[15&t]+r[h>>28&15]+r[h>>24&15]+r[h>>20&15]+r[h>>16&15]+r[h>>12&15]+r[h>>8&15]+r[h>>4&15]+r[15&h]+r[s>>28&15]+r[s>>24&15]+r[s>>20&15]+r[s>>16&15]+r[s>>12&15]+r[s>>8&15]+r[s>>4&15]+r[15&s]+r[i>>28&15]+r[i>>24&15]+r[i>>20&15]+r[i>>16&15]+r[i>>12&15]+r[i>>8&15]+r[i>>4&15]+r[15&i]+r[e>>28&15]+r[e>>24&15]+r[e>>20&15]+r[e>>16&15]+r[e>>12&15]+r[e>>8&15]+r[e>>4&15]+r[15&e]},t.prototype.toString=t.prototype.hex,t.prototype.digest=function(){this.finalize();var t=this.h0,h=this.h1,s=this.h2,i=this.h3,e=this.h4;return[t>>24&255,t>>16&255,t>>8&255,255&t,h>>24&255,h>>16&255,h>>8&255,255&h,s>>24&255,s>>16&255,s>>8&255,255&s,i>>24&255,i>>16&255,i>>8&255,255&i,e>>24&255,e>>16&255,e>>8&255,255&e]},t.prototype.array=t.prototype.digest,t.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(20),h=new DataView(t);return h.setUint32(0,this.h0),h.setUint32(4,this.h1),h.setUint32(8,this.h2),h.setUint32(12,this.h3),h.setUint32(16,this.h4),t};var y=c();i?module.exports=y:(h.sha1=y,e&&define(function(){return y}))}();/* jszip-utils.min.js */
!function(e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):"undefined"!=typeof window?window.JSZipUtils=e():"undefined"!=typeof global?global.JSZipUtils=e():"undefined"!=typeof self&&(self.JSZipUtils=e())}(function(){return function o(i,f,u){function s(n,e){if(!f[n]){if(!i[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(a)return a(n,!0);throw new Error("Cannot find module '"+n+"'")}var r=f[n]={exports:{}};i[n][0].call(r.exports,function(e){var t=i[n][1][e];return s(t||e)},r,r.exports,o,i,f,u)}return f[n].exports}for(var a="function"==typeof require&&require,e=0;e<u.length;e++)s(u[e]);return s}({1:[function(e,t,n){"use strict";var u={};function r(){try{return new window.XMLHttpRequest}catch(e){}}u._getBinaryFromXHR=function(e){return e.response||e.responseText};var s="undefined"!=typeof window&&window.ActiveXObject?function(){return r()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:r;u.getBinaryContent=function(t,n){var e,r,o,i;"function"==typeof(n=n||{})?(i=n,n={}):"function"==typeof n.callback&&(i=n.callback),i||"undefined"==typeof Promise?(r=function(e){i(null,e)},o=function(e){i(e,null)}):e=new Promise(function(e,t){r=e,o=t});try{var f=s();f.open("GET",t,!0),"responseType"in f&&(f.responseType="arraybuffer"),f.overrideMimeType&&f.overrideMimeType("text/plain; charset=x-user-defined"),f.onreadystatechange=function(e){if(4===f.readyState)if(200===f.status||0===f.status)try{r(u._getBinaryFromXHR(f))}catch(e){o(new Error(e))}else o(new Error("Ajax error for "+t+" : "+this.status+" "+this.statusText))},n.progress&&(f.onprogress=function(e){n.progress({path:t,originalEvent:e,percent:e.loaded/e.total*100,loaded:e.loaded,total:e.total})}),f.send()}catch(e){o(new Error(e),null)}return e},t.exports=u},{}]},{},[1])(1)});/* jszip.min.js */
/*!

JSZip v3.2.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/master/LICENSE
*/

!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).JSZip=t()}}(function(){return function s(a,o,h){function u(r,t){if(!o[r]){if(!a[r]){var e="function"==typeof require&&require;if(!t&&e)return e(r,!0);if(l)return l(r,!0);var i=new Error("Cannot find module '"+r+"'");throw i.code="MODULE_NOT_FOUND",i}var n=o[r]={exports:{}};a[r][0].call(n.exports,function(t){var e=a[r][1][t];return u(e||t)},n,n.exports,s,a,o,h)}return o[r].exports}for(var l="function"==typeof require&&require,t=0;t<h.length;t++)u(h[t]);return u}({1:[function(t,e,r){"use strict";var c=t("./utils"),d=t("./support"),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(t){for(var e,r,i,n,s,a,o,h=[],u=0,l=t.length,f=l,d="string"!==c.getTypeOf(t);u<t.length;)f=l-u,i=d?(e=t[u++],r=u<l?t[u++]:0,u<l?t[u++]:0):(e=t.charCodeAt(u++),r=u<l?t.charCodeAt(u++):0,u<l?t.charCodeAt(u++):0),n=e>>2,s=(3&e)<<4|r>>4,a=1<f?(15&r)<<2|i>>6:64,o=2<f?63&i:64,h.push(p.charAt(n)+p.charAt(s)+p.charAt(a)+p.charAt(o));return h.join("")},r.decode=function(t){var e,r,i,n,s,a,o=0,h=0,u="data:";if(t.substr(0,u.length)===u)throw new Error("Invalid base64 input, it looks like a data url.");var l,f=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===p.charAt(64)&&f--,t.charAt(t.length-2)===p.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(l=d.uint8array?new Uint8Array(0|f):new Array(0|f);o<t.length;)e=p.indexOf(t.charAt(o++))<<2|(n=p.indexOf(t.charAt(o++)))>>4,r=(15&n)<<4|(s=p.indexOf(t.charAt(o++)))>>2,i=(3&s)<<6|(a=p.indexOf(t.charAt(o++))),l[h++]=e,64!==s&&(l[h++]=r),64!==a&&(l[h++]=i);return l}},{"./support":30,"./utils":32}],2:[function(t,e,r){"use strict";var i=t("./external"),n=t("./stream/DataWorker"),s=t("./stream/DataLengthProbe"),a=t("./stream/Crc32Probe");s=t("./stream/DataLengthProbe");function o(t,e,r,i,n){this.compressedSize=t,this.uncompressedSize=e,this.crc32=r,this.compression=i,this.compressedContent=n}o.prototype={getContentWorker:function(){var t=new n(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new n(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(t,e,r){return t.pipe(new a).pipe(new s("uncompressedSize")).pipe(e.compressWorker(r)).pipe(new s("compressedSize")).withStreamInfo("compression",e)},e.exports=o},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,r){"use strict";var i=t("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(t){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},r.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,r){"use strict";var i=t("./utils");var o=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?"string"!==i.getTypeOf(t)?function(t,e,r,i){var n=o,s=i+r;t^=-1;for(var a=i;a<s;a++)t=t>>>8^n[255&(t^e[a])];return-1^t}(0|e,t,t.length,0):function(t,e,r,i){var n=o,s=i+r;t^=-1;for(var a=i;a<s;a++)t=t>>>8^n[255&(t^e.charCodeAt(a))];return-1^t}(0|e,t,t.length,0):0}},{"./utils":32}],5:[function(t,e,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(t,e,r){"use strict";var i=null;i="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:i}},{lie:37}],7:[function(t,e,r){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,n=t("pako"),s=t("./utils"),a=t("./stream/GenericWorker"),o=i?"uint8array":"array";function h(t,e){a.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}r.magic="\b\0",s.inherits(h,a),h.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(o,t.data),!1)},h.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new n[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},r.compressWorker=function(t){return new h("Deflate",t)},r.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,e,r){"use strict";function A(t,e){var r,i="";for(r=0;r<e;r++)i+=String.fromCharCode(255&t),t>>>=8;return i}function i(t,e,r,i,n,s){var a,o,h=t.file,u=t.compression,l=s!==O.utf8encode,f=I.transformTo("string",s(h.name)),d=I.transformTo("string",O.utf8encode(h.name)),c=h.comment,p=I.transformTo("string",s(c)),m=I.transformTo("string",O.utf8encode(c)),_=d.length!==h.name.length,g=m.length!==c.length,b="",v="",y="",w=h.dir,k=h.date,x={crc32:0,compressedSize:0,uncompressedSize:0};e&&!r||(x.crc32=t.crc32,x.compressedSize=t.compressedSize,x.uncompressedSize=t.uncompressedSize);var S=0;e&&(S|=8),l||!_&&!g||(S|=2048);var z=0,C=0;w&&(z|=16),"UNIX"===n?(C=798,z|=function(t,e){var r=t;return t||(r=e?16893:33204),(65535&r)<<16}(h.unixPermissions,w)):(C=20,z|=function(t){return 63&(t||0)}(h.dosPermissions)),a=k.getUTCHours(),a<<=6,a|=k.getUTCMinutes(),a<<=5,a|=k.getUTCSeconds()/2,o=k.getUTCFullYear()-1980,o<<=4,o|=k.getUTCMonth()+1,o<<=5,o|=k.getUTCDate(),_&&(v=A(1,1)+A(B(f),4)+d,b+="up"+A(v.length,2)+v),g&&(y=A(1,1)+A(B(p),4)+m,b+="uc"+A(y.length,2)+y);var E="";return E+="\n\0",E+=A(S,2),E+=u.magic,E+=A(a,2),E+=A(o,2),E+=A(x.crc32,4),E+=A(x.compressedSize,4),E+=A(x.uncompressedSize,4),E+=A(f.length,2),E+=A(b.length,2),{fileRecord:R.LOCAL_FILE_HEADER+E+f+b,dirRecord:R.CENTRAL_FILE_HEADER+A(C,2)+E+A(p.length,2)+"\0\0\0\0"+A(z,4)+A(i,4)+f+b+p}}var I=t("../utils"),n=t("../stream/GenericWorker"),O=t("../utf8"),B=t("../crc32"),R=t("../signature");function s(t,e,r,i){n.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=r,this.encodeFileName=i,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}I.inherits(s,n),s.prototype.push=function(t){var e=t.meta.percent||0,r=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,n.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:r?(e+100*(r-i-1))/r:100}}))},s.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var r=i(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},s.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,r=i(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),e)this.push({data:function(t){return R.DATA_DESCRIPTOR+A(t.crc32,4)+A(t.compressedSize,4)+A(t.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},s.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var r=this.bytesWritten-t,i=function(t,e,r,i,n){var s=I.transformTo("string",n(i));return R.CENTRAL_DIRECTORY_END+"\0\0\0\0"+A(t,2)+A(t,2)+A(e,4)+A(r,4)+A(s.length,2)+s}(this.dirRecords.length,r,t,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},s.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},s.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(t){e.error(t)}),this},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},s.prototype.error=function(t){var e=this._sources;if(!n.prototype.error.call(this,t))return!1;for(var r=0;r<e.length;r++)try{e[r].error(t)}catch(t){}return!0},s.prototype.lock=function(){n.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=s},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,r){"use strict";var u=t("../compressions"),i=t("./ZipFileWorker");r.generateWorker=function(t,a,e){var o=new i(a.streamFiles,e,a.platform,a.encodeFileName),h=0;try{t.forEach(function(t,e){h++;var r=function(t,e){var r=t||e,i=u[r];if(!i)throw new Error(r+" is not a valid compression method !");return i}(e.options.compression,a.compression),i=e.options.compressionOptions||a.compressionOptions||{},n=e.dir,s=e.date;e._compressWorker(r,i).withStreamInfo("file",{name:t,dir:n,date:s,comment:e.comment||"",unixPermissions:e.unixPermissions,dosPermissions:e.dosPermissions}).pipe(o)}),o.entriesCount=h}catch(t){o.error(t)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,r){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new i;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(i.prototype=t("./object")).loadAsync=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.version="3.2.0",i.loadAsync=function(t,e){return(new i).loadAsync(t,e)},i.external=t("./external"),e.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,r){"use strict";var i=t("./utils"),n=t("./external"),o=t("./utf8"),h=(i=t("./utils"),t("./zipEntries")),s=t("./stream/Crc32Probe"),u=t("./nodejsUtils");function l(i){return new n.Promise(function(t,e){var r=i.decompressed.getContentWorker().pipe(new s);r.on("error",function(t){e(t)}).on("end",function(){r.streamInfo.crc32!==i.decompressed.crc32?e(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}e.exports=function(t,s){var a=this;return s=i.extend(s||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(t)?n.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",t,!0,s.optimizedBinaryString,s.base64).then(function(t){var e=new h(s);return e.load(t),e}).then(function(t){var e=[n.Promise.resolve(t)],r=t.files;if(s.checkCRC32)for(var i=0;i<r.length;i++)e.push(l(r[i]));return n.Promise.all(e)}).then(function(t){for(var e=t.shift(),r=e.files,i=0;i<r.length;i++){var n=r[i];a.file(n.fileNameStr,n.decompressed,{binary:!0,optimizedBinaryString:!0,date:n.date,dir:n.dir,comment:n.fileCommentStr.length?n.fileCommentStr:null,unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions,createFolders:s.createFolders})}return e.zipComment.length&&(a.comment=e.zipComment),a})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,r){"use strict";var i=t("../utils"),n=t("../stream/GenericWorker");function s(t,e){n.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}i.inherits(s,n),s.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on("data",function(t){e.push({data:t,meta:{percent:0}})}).on("error",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},s.prototype.pause=function(){return!!n.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,r){"use strict";var n=t("readable-stream").Readable;function i(t,e,r){n.call(this,e),this._helper=t;var i=this;t.on("data",function(t,e){i.push(t)||i._helper.pause(),r&&r(e)}).on("error",function(t){i.emit("error",t)}).on("end",function(){i.push(null)})}t("../utils").inherits(i,n),i.prototype._read=function(){this._helper.resume()},e.exports=i},{"../utils":32,"readable-stream":16}],14:[function(t,e,r){"use strict";e.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(t,e){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(t,e);if("number"==typeof t)throw new Error('The "data" argument must not be a number');return new Buffer(t,e)},allocBuffer:function(t){if(Buffer.alloc)return Buffer.alloc(t);var e=new Buffer(t);return e.fill(0),e},isBuffer:function(t){return Buffer.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e,r){"use strict";function s(t,e,r){var i,n=u.getTypeOf(e),s=u.extend(r||{},f);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(t=g(t)),s.createFolders&&(i=_(t))&&b.call(this,i,!0);var a="string"===n&&!1===s.binary&&!1===s.base64;r&&void 0!==r.binary||(s.binary=!a),(e instanceof d&&0===e.uncompressedSize||s.dir||!e||0===e.length)&&(s.base64=!1,s.binary=!0,e="",s.compression="STORE",n="string");var o=null;o=e instanceof d||e instanceof l?e:p.isNode&&p.isStream(e)?new m(t,e):u.prepareContent(t,e,s.binary,s.optimizedBinaryString,s.base64);var h=new c(t,o,s);this.files[t]=h}var n=t("./utf8"),u=t("./utils"),l=t("./stream/GenericWorker"),a=t("./stream/StreamHelper"),f=t("./defaults"),d=t("./compressedObject"),c=t("./zipObject"),o=t("./generate"),p=t("./nodejsUtils"),m=t("./nodejs/NodejsStreamInputAdapter"),_=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return 0<e?t.substring(0,e):""},g=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},b=function(t,e){return e=void 0!==e?e:f.createFolders,t=g(t),this.files[t]||s.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function h(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var i={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,r,i;for(e in this.files)this.files.hasOwnProperty(e)&&(i=this.files[e],(r=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(r,i))},filter:function(r){var i=[];return this.forEach(function(t,e){r(t,e)&&i.push(e)}),i},file:function(t,e,r){if(1!==arguments.length)return t=this.root+t,s.call(this,t,e,r),this;if(h(t)){var i=t;return this.filter(function(t,e){return!e.dir&&i.test(t)})}var n=this.files[this.root+t];return n&&!n.dir?n:null},folder:function(r){if(!r)return this;if(h(r))return this.filter(function(t,e){return e.dir&&r.test(t)});var t=this.root+r,e=b.call(this,t),i=this.clone();return i.root=e.name,i},remove:function(r){r=this.root+r;var t=this.files[r];if(t||("/"!==r.slice(-1)&&(r+="/"),t=this.files[r]),t&&!t.dir)delete this.files[r];else for(var e=this.filter(function(t,e){return e.name.slice(0,r.length)===r}),i=0;i<e.length;i++)delete this.files[e[i].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,r={};try{if((r=u.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:n.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw new Error("No output type specified.");u.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var i=r.comment||this.comment||"";e=o.generateWorker(this,r,i)}catch(t){(e=new l("error")).error(t)}return new a(e,r.type||"string",r.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=i},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,r){e.exports=t("stream")},{stream:void 0}],17:[function(t,e,r){"use strict";var i=t("./DataReader");function n(t){i.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}t("../utils").inherits(n,i),n.prototype.byteAt=function(t){return this.data[this.zero+t]},n.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),r=t.charCodeAt(1),i=t.charCodeAt(2),n=t.charCodeAt(3),s=this.length-4;0<=s;--s)if(this.data[s]===e&&this.data[s+1]===r&&this.data[s+2]===i&&this.data[s+3]===n)return s-this.zero;return-1},n.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1),i=t.charCodeAt(2),n=t.charCodeAt(3),s=this.readData(4);return e===s[0]&&r===s[1]&&i===s[2]&&n===s[3]},n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./DataReader":18}],18:[function(t,e,r){"use strict";var i=t("../utils");function n(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}n.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,r=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)r=(r<<8)+this.byteAt(e);return this.index+=t,r},readString:function(t){return i.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=n},{"../utils":32}],19:[function(t,e,r){"use strict";var i=t("./Uint8ArrayReader");function n(t){i.call(this,t)}t("../utils").inherits(n,i),n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,r){"use strict";var i=t("./DataReader");function n(t){i.call(this,t)}t("../utils").inherits(n,i),n.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},n.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},n.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./DataReader":18}],21:[function(t,e,r){"use strict";var i=t("./ArrayReader");function n(t){i.call(this,t)}t("../utils").inherits(n,i),n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,r){"use strict";var i=t("../utils"),n=t("../support"),s=t("./ArrayReader"),a=t("./StringReader"),o=t("./NodeBufferReader"),h=t("./Uint8ArrayReader");e.exports=function(t){var e=i.getTypeOf(t);return i.checkSupport(e),"string"!==e||n.uint8array?"nodebuffer"===e?new o(t):n.uint8array?new h(i.transformTo("uint8array",t)):new s(i.transformTo("array",t)):new a(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,r){"use strict";r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\b"},{}],24:[function(t,e,r){"use strict";var i=t("./GenericWorker"),n=t("../utils");function s(t){i.call(this,"ConvertWorker to "+t),this.destType=t}n.inherits(s,i),s.prototype.processChunk=function(t){this.push({data:n.transformTo(this.destType,t.data),meta:t.meta})},e.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,r){"use strict";var i=t("./GenericWorker"),n=t("../crc32");function s(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(s,i),s.prototype.processChunk=function(t){this.streamInfo.crc32=n(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,r){"use strict";var i=t("../utils"),n=t("./GenericWorker");function s(t){n.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}i.inherits(s,n),s.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}n.prototype.processChunk.call(this,t)},e.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,r){"use strict";var i=t("../utils"),n=t("./GenericWorker");function s(t){n.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=i.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}i.inherits(s,n),s.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,r){"use strict";function i(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=i},{}],29:[function(t,e,r){"use strict";var h=t("../utils"),n=t("./ConvertWorker"),s=t("./GenericWorker"),u=t("../base64"),i=t("../support"),a=t("../external"),o=null;if(i.nodestream)try{o=t("../nodejs/NodejsStreamOutputAdapter")}catch(t){}function l(t,o){return new a.Promise(function(e,r){var i=[],n=t._internalType,s=t._outputType,a=t._mimeType;t.on("data",function(t,e){i.push(t),o&&o(e)}).on("error",function(t){i=[],r(t)}).on("end",function(){try{var t=function(t,e,r){switch(t){case"blob":return h.newBlob(h.transformTo("arraybuffer",e),r);case"base64":return u.encode(e);default:return h.transformTo(t,e)}}(s,function(t,e){var r,i=0,n=null,s=0;for(r=0;r<e.length;r++)s+=e[r].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(n=new Uint8Array(s),r=0;r<e.length;r++)n.set(e[r],i),i+=e[r].length;return n;case"nodebuffer":return Buffer.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}(n,i),a);e(t)}catch(t){r(t)}i=[]}).resume()})}function f(t,e,r){var i=e;switch(e){case"blob":case"arraybuffer":i="uint8array";break;case"base64":i="string"}try{this._internalType=i,this._outputType=e,this._mimeType=r,h.checkSupport(i),this._worker=t.pipe(new n(i)),t.lock()}catch(t){this._worker=new s("error"),this._worker.error(t)}}f.prototype={accumulate:function(t){return l(this,t)},on:function(t,e){var r=this;return"data"===t?this._worker.on(t,function(t){e.call(r,t.data,t.meta)}):this._worker.on(t,function(){h.delay(e,arguments,r)}),this},resume:function(){return h.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(h.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new o(this,{objectMode:"nodebuffer"!==this._outputType},t)}},e.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,e,r){"use strict";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,r.nodebuffer="undefined"!=typeof Buffer,r.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)r.blob=!1;else{var i=new ArrayBuffer(0);try{r.blob=0===new Blob([i],{type:"application/zip"}).size}catch(t){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);n.append(i),r.blob=0===n.getBlob("application/zip").size}catch(t){r.blob=!1}}}try{r.nodestream=!!t("readable-stream").Readable}catch(t){r.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,s){"use strict";for(var o=t("./utils"),h=t("./support"),r=t("./nodejsUtils"),i=t("./stream/GenericWorker"),u=new Array(256),n=0;n<256;n++)u[n]=252<=n?6:248<=n?5:240<=n?4:224<=n?3:192<=n?2:1;u[254]=u[254]=1;function a(){i.call(this,"utf-8 decode"),this.leftOver=null}function l(){i.call(this,"utf-8 encode")}s.utf8encode=function(t){return h.nodebuffer?r.newBufferFrom(t,"utf-8"):function(t){var e,r,i,n,s,a=t.length,o=0;for(n=0;n<a;n++)55296==(64512&(r=t.charCodeAt(n)))&&n+1<a&&56320==(64512&(i=t.charCodeAt(n+1)))&&(r=65536+(r-55296<<10)+(i-56320),n++),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=h.uint8array?new Uint8Array(o):new Array(o),n=s=0;s<o;n++)55296==(64512&(r=t.charCodeAt(n)))&&n+1<a&&56320==(64512&(i=t.charCodeAt(n+1)))&&(r=65536+(r-55296<<10)+(i-56320),n++),r<128?e[s++]=r:(r<2048?e[s++]=192|r>>>6:(r<65536?e[s++]=224|r>>>12:(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63),e[s++]=128|r>>>6&63),e[s++]=128|63&r);return e}(t)},s.utf8decode=function(t){return h.nodebuffer?o.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,r,i,n,s=t.length,a=new Array(2*s);for(e=r=0;e<s;)if((i=t[e++])<128)a[r++]=i;else if(4<(n=u[i]))a[r++]=65533,e+=n-1;else{for(i&=2===n?31:3===n?15:7;1<n&&e<s;)i=i<<6|63&t[e++],n--;1<n?a[r++]=65533:i<65536?a[r++]=i:(i-=65536,a[r++]=55296|i>>10&1023,a[r++]=56320|1023&i)}return a.length!==r&&(a.subarray?a=a.subarray(0,r):a.length=r),o.applyFromCharCode(a)}(t=o.transformTo(h.uint8array?"uint8array":"array",t))},o.inherits(a,i),a.prototype.processChunk=function(t){var e=o.transformTo(h.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var r=e;(e=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),e.set(r,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var i=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;0<=r&&128==(192&t[r]);)r--;return r<0?e:0===r?e:r+u[t[r]]>e?r:e}(e),n=e;i!==e.length&&(h.uint8array?(n=e.subarray(0,i),this.leftOver=e.subarray(i,e.length)):(n=e.slice(0,i),this.leftOver=e.slice(i,e.length))),this.push({data:s.utf8decode(n),meta:t.meta})},a.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=a,o.inherits(l,i),l.prototype.processChunk=function(t){this.push({data:s.utf8encode(t.data),meta:t.meta})},s.Utf8EncodeWorker=l},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,a){"use strict";var o=t("./support"),h=t("./base64"),r=t("./nodejsUtils"),i=t("set-immediate-shim"),u=t("./external");function n(t){return t}function l(t,e){for(var r=0;r<t.length;++r)e[r]=255&t.charCodeAt(r);return e}a.newBlob=function(e,r){a.checkSupport("blob");try{return new Blob([e],{type:r})}catch(t){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(e),i.getBlob(r)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var s={stringifyByChunk:function(t,e,r){var i=[],n=0,s=t.length;if(s<=r)return String.fromCharCode.apply(null,t);for(;n<s;)"array"===e||"nodebuffer"===e?i.push(String.fromCharCode.apply(null,t.slice(n,Math.min(n+r,s)))):i.push(String.fromCharCode.apply(null,t.subarray(n,Math.min(n+r,s)))),n+=r;return i.join("")},stringifyByChar:function(t){for(var e="",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&1===String.fromCharCode.apply(null,r.allocBuffer(1)).length}catch(t){return!1}}()}};function f(t){var e=65536,r=a.getTypeOf(t),i=!0;if("uint8array"===r?i=s.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=s.applyCanBeUsed.nodebuffer),i)for(;1<e;)try{return s.stringifyByChunk(t,r,e)}catch(t){e=Math.floor(e/2)}return s.stringifyByChar(t)}function d(t,e){for(var r=0;r<t.length;r++)e[r]=t[r];return e}a.applyFromCharCode=f;var c={};c.string={string:n,array:function(t){return l(t,new Array(t.length))},arraybuffer:function(t){return c.string.uint8array(t).buffer},uint8array:function(t){return l(t,new Uint8Array(t.length))},nodebuffer:function(t){return l(t,r.allocBuffer(t.length))}},c.array={string:f,array:n,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return r.newBufferFrom(t)}},c.arraybuffer={string:function(t){return f(new Uint8Array(t))},array:function(t){return d(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:n,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return r.newBufferFrom(new Uint8Array(t))}},c.uint8array={string:f,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:n,nodebuffer:function(t){return r.newBufferFrom(t)}},c.nodebuffer={string:f,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return c.nodebuffer.uint8array(t).buffer},uint8array:function(t){return d(t,new Uint8Array(t.length))},nodebuffer:n},a.transformTo=function(t,e){if(e=e||"",!t)return e;a.checkSupport(t);var r=a.getTypeOf(e);return c[r][t](e)},a.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":o.nodebuffer&&r.isBuffer(t)?"nodebuffer":o.uint8array&&t instanceof Uint8Array?"uint8array":o.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(t){if(!o[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(t){var e,r,i="";for(r=0;r<(t||"").length;r++)i+="\\x"+((e=t.charCodeAt(r))<16?"0":"")+e.toString(16).toUpperCase();return i},a.delay=function(t,e,r){i(function(){t.apply(r||null,e||[])})},a.inherits=function(t,e){function r(){}r.prototype=e.prototype,t.prototype=new r},a.extend=function(){var t,e,r={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===r[e]&&(r[e]=arguments[t][e]);return r},a.prepareContent=function(r,t,i,n,s){return u.Promise.resolve(t).then(function(i){return o.blob&&(i instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(i)))&&"undefined"!=typeof FileReader?new u.Promise(function(e,r){var t=new FileReader;t.onload=function(t){e(t.target.result)},t.onerror=function(t){r(t.target.error)},t.readAsArrayBuffer(i)}):i}).then(function(t){var e=a.getTypeOf(t);return e?("arraybuffer"===e?t=a.transformTo("uint8array",t):"string"===e&&(s?t=h.decode(t):i&&!0!==n&&(t=function(t){return l(t,o.uint8array?new Uint8Array(t.length):new Array(t.length))}(t))),t):u.Promise.reject(new Error("Can't read the data of '"+r+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(t,e,r){"use strict";var i=t("./reader/readerFor"),n=t("./utils"),s=t("./signature"),a=t("./zipEntry"),o=(t("./utf8"),t("./support"));function h(t){this.files=[],this.loadOptions=t}h.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+n.pretty(e)+", expected "+n.pretty(t)+")")}},isSignature:function(t,e){var r=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4)===e;return this.reader.setIndex(r),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=o.uint8array?"uint8array":"array",r=n.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,r,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),r=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(t=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(t<0)throw!this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(t);var e=t;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var i=e-r;if(0<i)this.isSignature(e,s.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(t){this.reader=i(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(t,e,r){"use strict";var i=t("./reader/readerFor"),s=t("./utils"),n=t("./compressedObject"),a=t("./crc32"),o=t("./utf8"),h=t("./compressions"),u=t("./support");function l(t,e){this.options=t,this.loadOptions=e}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,r;if(t.skip(22),this.fileNameLength=t.readInt(2),r=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in h)if(h.hasOwnProperty(e)&&h[e].magic===t)return h[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new n(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=i(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,r,i,n=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<n;)e=t.readInt(2),r=t.readInt(2),i=t.readData(r),this.extraFields[e]={id:e,length:r,value:i}},handleUTF8:function(){var t=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var r=s.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var n=s.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(n)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:a(this.fileName)!==e.readInt(4)?null:o.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:a(this.fileComment)!==e.readInt(4)?null:o.utf8decode(e.readData(t.length-5))}return null}},e.exports=l},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,r){"use strict";function i(t,e,r){this.name=t,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=e,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var s=t("./stream/StreamHelper"),n=t("./stream/DataWorker"),a=t("./utf8"),o=t("./compressedObject"),h=t("./stream/GenericWorker");i.prototype={internalStream:function(t){var e=null,r="string";try{if(!t)throw new Error("No output type specified.");var i="string"===(r=t.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),e=this._decompressWorker();var n=!this._dataBinary;n&&!i&&(e=e.pipe(new a.Utf8EncodeWorker)),!n&&i&&(e=e.pipe(new a.Utf8DecodeWorker))}catch(t){(e=new h("error")).error(t)}return new s(e,r,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof o&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new a.Utf8EncodeWorker)),o.createWorkerFrom(r,t,e)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof h?this._data:new n(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<u.length;f++)i.prototype[u[f]]=l;e.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,l,e){(function(e){"use strict";var r,i,t=e.MutationObserver||e.WebKitMutationObserver;if(t){var n=0,s=new t(u),a=e.document.createTextNode("");s.observe(a,{characterData:!0}),r=function(){a.data=n=++n%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var o=new e.MessageChannel;o.port1.onmessage=u,r=function(){o.port2.postMessage(0)}}var h=[];function u(){var t,e;i=!0;for(var r=h.length;r;){for(e=h,h=[],t=-1;++t<r;)e[t]();r=h.length}i=!1}l.exports=function(t){1!==h.push(t)||i||r()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(t,e,r){"use strict";var n=t("immediate");function u(){}var l={},s=["REJECTED"],a=["FULFILLED"],i=["PENDING"];function o(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=i,this.queue=[],this.outcome=void 0,t!==u&&c(this,t)}function h(t,e,r){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function f(e,r,i){n(function(){var t;try{t=r(i)}catch(t){return l.reject(e,t)}t===e?l.reject(e,new TypeError("Cannot resolve promise with itself")):l.resolve(e,t)})}function d(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function c(e,t){var r=!1;function i(t){r||(r=!0,l.reject(e,t))}function n(t){r||(r=!0,l.resolve(e,t))}var s=p(function(){t(n,i)});"error"===s.status&&i(s.value)}function p(t,e){var r={};try{r.value=t(e),r.status="success"}catch(t){r.status="error",r.value=t}return r}(e.exports=o).prototype.finally=function(e){if("function"!=typeof e)return this;var r=this.constructor;return this.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})})},o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){if("function"!=typeof t&&this.state===a||"function"!=typeof e&&this.state===s)return this;var r=new this.constructor(u);this.state!==i?f(r,this.state===a?t:e,this.outcome):this.queue.push(new h(r,t,e));return r},h.prototype.callFulfilled=function(t){l.resolve(this.promise,t)},h.prototype.otherCallFulfilled=function(t){f(this.promise,this.onFulfilled,t)},h.prototype.callRejected=function(t){l.reject(this.promise,t)},h.prototype.otherCallRejected=function(t){f(this.promise,this.onRejected,t)},l.resolve=function(t,e){var r=p(d,e);if("error"===r.status)return l.reject(t,r.value);var i=r.value;if(i)c(t,i);else{t.state=a,t.outcome=e;for(var n=-1,s=t.queue.length;++n<s;)t.queue[n].callFulfilled(e)}return t},l.reject=function(t,e){t.state=s,t.outcome=e;for(var r=-1,i=t.queue.length;++r<i;)t.queue[r].callRejected(e);return t},o.resolve=function(t){if(t instanceof this)return t;return l.resolve(new this(u),t)},o.reject=function(t){var e=new this(u);return l.reject(e,t)},o.all=function(t){var r=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,n=!1;if(!i)return this.resolve([]);var s=new Array(i),a=0,e=-1,o=new this(u);for(;++e<i;)h(t[e],e);return o;function h(t,e){r.resolve(t).then(function(t){s[e]=t,++a!==i||n||(n=!0,l.resolve(o,s))},function(t){n||(n=!0,l.reject(o,t))})}},o.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,i=!1;if(!r)return this.resolve([]);var n=-1,s=new this(u);for(;++n<r;)a=t[n],e.resolve(a).then(function(t){i||(i=!0,l.resolve(s,t))},function(t){i||(i=!0,l.reject(s,t))});var a;return s}},{immediate:36}],38:[function(t,e,r){"use strict";var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,e,r){"use strict";var a=t("./zlib/deflate"),o=t("./utils/common"),h=t("./utils/strings"),n=t("./zlib/messages"),s=t("./zlib/zstream"),u=Object.prototype.toString,l=0,f=-1,d=0,c=8;function p(t){if(!(this instanceof p))return new p(t);this.options=o.assign({level:f,method:c,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=a.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==l)throw new Error(n[r]);if(e.header&&a.deflateSetHeader(this.strm,e.header),e.dictionary){var i;if(i="string"==typeof e.dictionary?h.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(r=a.deflateSetDictionary(this.strm,i))!==l)throw new Error(n[r]);this._dict_set=!0}}function i(t,e){var r=new p(e);if(r.push(t,!0),r.err)throw r.msg||n[r.err];return r.result}p.prototype.push=function(t,e){var r,i,n=this.strm,s=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:!0===e?4:0,"string"==typeof t?n.input=h.string2buf(t):"[object ArrayBuffer]"===u.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new o.Buf8(s),n.next_out=0,n.avail_out=s),1!==(r=a.deflate(n,i))&&r!==l)return this.onEnd(r),!(this.ended=!0);0!==n.avail_out&&(0!==n.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(h.buf2binstring(o.shrinkBuf(n.output,n.next_out))):this.onData(o.shrinkBuf(n.output,n.next_out)))}while((0<n.avail_in||0===n.avail_out)&&1!==r);return 4===i?(r=a.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===l):2!==i||(this.onEnd(l),!(n.avail_out=0))},p.prototype.onData=function(t){this.chunks.push(t)},p.prototype.onEnd=function(t){t===l&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Deflate=p,r.deflate=i,r.deflateRaw=function(t,e){return(e=e||{}).raw=!0,i(t,e)},r.gzip=function(t,e){return(e=e||{}).gzip=!0,i(t,e)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,e,r){"use strict";var d=t("./zlib/inflate"),c=t("./utils/common"),p=t("./utils/strings"),m=t("./zlib/constants"),i=t("./zlib/messages"),n=t("./zlib/zstream"),s=t("./zlib/gzheader"),_=Object.prototype.toString;function a(t){if(!(this instanceof a))return new a(t);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new n,this.strm.avail_out=0;var r=d.inflateInit2(this.strm,e.windowBits);if(r!==m.Z_OK)throw new Error(i[r]);this.header=new s,d.inflateGetHeader(this.strm,this.header)}function o(t,e){var r=new a(e);if(r.push(t,!0),r.err)throw r.msg||i[r.err];return r.result}a.prototype.push=function(t,e){var r,i,n,s,a,o,h=this.strm,u=this.options.chunkSize,l=this.options.dictionary,f=!1;if(this.ended)return!1;i=e===~~e?e:!0===e?m.Z_FINISH:m.Z_NO_FLUSH,"string"==typeof t?h.input=p.binstring2buf(t):"[object ArrayBuffer]"===_.call(t)?h.input=new Uint8Array(t):h.input=t,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new c.Buf8(u),h.next_out=0,h.avail_out=u),(r=d.inflate(h,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&l&&(o="string"==typeof l?p.string2buf(l):"[object ArrayBuffer]"===_.call(l)?new Uint8Array(l):l,r=d.inflateSetDictionary(this.strm,o)),r===m.Z_BUF_ERROR&&!0===f&&(r=m.Z_OK,f=!1),r!==m.Z_STREAM_END&&r!==m.Z_OK)return this.onEnd(r),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&r!==m.Z_STREAM_END&&(0!==h.avail_in||i!==m.Z_FINISH&&i!==m.Z_SYNC_FLUSH)||("string"===this.options.to?(n=p.utf8border(h.output,h.next_out),s=h.next_out-n,a=p.buf2string(h.output,n),h.next_out=s,h.avail_out=u-s,s&&c.arraySet(h.output,h.output,n,s,0),this.onData(a)):this.onData(c.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(f=!0)}while((0<h.avail_in||0===h.avail_out)&&r!==m.Z_STREAM_END);return r===m.Z_STREAM_END&&(i=m.Z_FINISH),i===m.Z_FINISH?(r=d.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===m.Z_OK):i!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),!(h.avail_out=0))},a.prototype.onData=function(t){this.chunks.push(t)},a.prototype.onEnd=function(t){t===m.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Inflate=a,r.inflate=o,r.inflateRaw=function(t,e){return(e=e||{}).raw=!0,o(t,e)},r.ungzip=o},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,e,r){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}}return t},r.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var n={arraySet:function(t,e,r,i,n){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+i),n);else for(var s=0;s<i;s++)t[n+s]=e[r+s]},flattenChunks:function(t){var e,r,i,n,s,a;for(e=i=0,r=t.length;e<r;e++)i+=t[e].length;for(a=new Uint8Array(i),e=n=0,r=t.length;e<r;e++)s=t[e],a.set(s,n),n+=s.length;return a}},s={arraySet:function(t,e,r,i,n){for(var s=0;s<i;s++)t[n+s]=e[r+s]},flattenChunks:function(t){return[].concat.apply([],t)}};r.setTyped=function(t){t?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,n)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,s))},r.setTyped(i)},{}],42:[function(t,e,r){"use strict";var h=t("./common"),n=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var u=new h.Buf8(256),i=0;i<256;i++)u[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;function l(t,e){if(e<65537&&(t.subarray&&s||!t.subarray&&n))return String.fromCharCode.apply(null,h.shrinkBuf(t,e));for(var r="",i=0;i<e;i++)r+=String.fromCharCode(t[i]);return r}u[254]=u[254]=1,r.string2buf=function(t){var e,r,i,n,s,a=t.length,o=0;for(n=0;n<a;n++)55296==(64512&(r=t.charCodeAt(n)))&&n+1<a&&56320==(64512&(i=t.charCodeAt(n+1)))&&(r=65536+(r-55296<<10)+(i-56320),n++),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new h.Buf8(o),n=s=0;s<o;n++)55296==(64512&(r=t.charCodeAt(n)))&&n+1<a&&56320==(64512&(i=t.charCodeAt(n+1)))&&(r=65536+(r-55296<<10)+(i-56320),n++),r<128?e[s++]=r:(r<2048?e[s++]=192|r>>>6:(r<65536?e[s++]=224|r>>>12:(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63),e[s++]=128|r>>>6&63),e[s++]=128|63&r);return e},r.buf2binstring=function(t){return l(t,t.length)},r.binstring2buf=function(t){for(var e=new h.Buf8(t.length),r=0,i=e.length;r<i;r++)e[r]=t.charCodeAt(r);return e},r.buf2string=function(t,e){var r,i,n,s,a=e||t.length,o=new Array(2*a);for(r=i=0;r<a;)if((n=t[r++])<128)o[i++]=n;else if(4<(s=u[n]))o[i++]=65533,r+=s-1;else{for(n&=2===s?31:3===s?15:7;1<s&&r<a;)n=n<<6|63&t[r++],s--;1<s?o[i++]=65533:n<65536?o[i++]=n:(n-=65536,o[i++]=55296|n>>10&1023,o[i++]=56320|1023&n)}return l(o,i)},r.utf8border=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;0<=r&&128==(192&t[r]);)r--;return r<0?e:0===r?e:r+u[t[r]]>e?r:e}},{"./common":41}],43:[function(t,e,r){"use strict";e.exports=function(t,e,r,i){for(var n=65535&t|0,s=t>>>16&65535|0,a=0;0!==r;){for(r-=a=2e3<r?2e3:r;s=s+(n=n+e[i++]|0)|0,--a;);n%=65521,s%=65521}return n|s<<16|0}},{}],44:[function(t,e,r){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e,r){"use strict";var o=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();e.exports=function(t,e,r,i){var n=o,s=i+r;t^=-1;for(var a=i;a<s;a++)t=t>>>8^n[255&(t^e[a])];return-1^t}},{}],46:[function(t,e,r){"use strict";var h,d=t("../utils/common"),u=t("./trees"),c=t("./adler32"),p=t("./crc32"),i=t("./messages"),l=0,f=4,m=0,_=-2,g=-1,b=4,n=2,v=8,y=9,s=286,a=30,o=19,w=2*s+1,k=15,x=3,S=258,z=S+x+1,C=42,E=113,A=1,I=2,O=3,B=4;function R(t,e){return t.msg=i[e],e}function T(t){return(t<<1)-(4<t?9:0)}function D(t){for(var e=t.length;0<=--e;)t[e]=0}function F(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(d.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function N(t,e){u._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,F(t.strm)}function U(t,e){t.pending_buf[t.pending++]=e}function P(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function L(t,e){var r,i,n=t.max_chain_length,s=t.strstart,a=t.prev_length,o=t.nice_match,h=t.strstart>t.w_size-z?t.strstart-(t.w_size-z):0,u=t.window,l=t.w_mask,f=t.prev,d=t.strstart+S,c=u[s+a-1],p=u[s+a];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do{if(u[(r=e)+a]===p&&u[r+a-1]===c&&u[r]===u[s]&&u[++r]===u[s+1]){s+=2,r++;do{}while(u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&s<d);if(i=S-(d-s),s=d-S,a<i){if(t.match_start=e,o<=(a=i))break;c=u[s+a-1],p=u[s+a]}}}while((e=f[e&l])>h&&0!=--n);return a<=t.lookahead?a:t.lookahead}function j(t){var e,r,i,n,s,a,o,h,u,l,f=t.w_size;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=f+(f-z)){for(d.arraySet(t.window,t.window,f,f,0),t.match_start-=f,t.strstart-=f,t.block_start-=f,e=r=t.hash_size;i=t.head[--e],t.head[e]=f<=i?i-f:0,--r;);for(e=r=f;i=t.prev[--e],t.prev[e]=f<=i?i-f:0,--r;);n+=f}if(0===t.strm.avail_in)break;if(a=t.strm,o=t.window,h=t.strstart+t.lookahead,u=n,l=void 0,l=a.avail_in,u<l&&(l=u),r=0===l?0:(a.avail_in-=l,d.arraySet(o,a.input,a.next_in,l,h),1===a.state.wrap?a.adler=c(a.adler,o,l,h):2===a.state.wrap&&(a.adler=p(a.adler,o,l,h)),a.next_in+=l,a.total_in+=l,l),t.lookahead+=r,t.lookahead+t.insert>=x)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+x-1])&t.hash_mask,t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<x)););}while(t.lookahead<z&&0!==t.strm.avail_in)}function Z(t,e){for(var r,i;;){if(t.lookahead<z){if(j(t),t.lookahead<z&&e===l)return A;if(0===t.lookahead)break}if(r=0,t.lookahead>=x&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-z&&(t.match_length=L(t,r)),t.match_length>=x)if(i=u._tr_tally(t,t.strstart-t.match_start,t.match_length-x),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=x){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=u._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(N(t,!1),0===t.strm.avail_out))return A}return t.insert=t.strstart<x-1?t.strstart:x-1,e===f?(N(t,!0),0===t.strm.avail_out?O:B):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?A:I}function W(t,e){for(var r,i,n;;){if(t.lookahead<z){if(j(t),t.lookahead<z&&e===l)return A;if(0===t.lookahead)break}if(r=0,t.lookahead>=x&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=x-1,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-z&&(t.match_length=L(t,r),t.match_length<=5&&(1===t.strategy||t.match_length===x&&4096<t.strstart-t.match_start)&&(t.match_length=x-1)),t.prev_length>=x&&t.match_length<=t.prev_length){for(n=t.strstart+t.lookahead-x,i=u._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-x),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=x-1,t.strstart++,i&&(N(t,!1),0===t.strm.avail_out))return A}else if(t.match_available){if((i=u._tr_tally(t,0,t.window[t.strstart-1]))&&N(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return A}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=u._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<x-1?t.strstart:x-1,e===f?(N(t,!0),0===t.strm.avail_out?O:B):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?A:I}function M(t,e,r,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=i,this.func=n}function H(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*w),this.dyn_dtree=new d.Buf16(2*(2*a+1)),this.bl_tree=new d.Buf16(2*(2*o+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(k+1),this.heap=new d.Buf16(2*s+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*s+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=n,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?C:E,t.adler=2===e.wrap?0:1,e.last_flush=l,u._tr_init(e),m):R(t,_)}function K(t){var e=G(t);return e===m&&function(t){t.window_size=2*t.w_size,D(t.head),t.max_lazy_match=h[t.level].max_lazy,t.good_match=h[t.level].good_length,t.nice_match=h[t.level].nice_length,t.max_chain_length=h[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=x-1,t.match_available=0,t.ins_h=0}(t.state),e}function Y(t,e,r,i,n,s){if(!t)return _;var a=1;if(e===g&&(e=6),i<0?(a=0,i=-i):15<i&&(a=2,i-=16),n<1||y<n||r!==v||i<8||15<i||e<0||9<e||s<0||b<s)return R(t,_);8===i&&(i=9);var o=new H;return(t.state=o).strm=t,o.wrap=a,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=n+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+x-1)/x),o.window=new d.Buf8(2*o.w_size),o.head=new d.Buf16(o.hash_size),o.prev=new d.Buf16(o.w_size),o.lit_bufsize=1<<n+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new d.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=e,o.strategy=s,o.method=r,K(t)}h=[new M(0,0,0,0,function(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(j(t),0===t.lookahead&&e===l)return A;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+r;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,N(t,!1),0===t.strm.avail_out))return A;if(t.strstart-t.block_start>=t.w_size-z&&(N(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===f?(N(t,!0),0===t.strm.avail_out?O:B):(t.strstart>t.block_start&&(N(t,!1),t.strm.avail_out),A)}),new M(4,4,8,4,Z),new M(4,5,16,8,Z),new M(4,6,32,32,Z),new M(4,4,16,16,W),new M(8,16,32,32,W),new M(8,16,128,128,W),new M(8,32,128,256,W),new M(32,128,258,1024,W),new M(32,258,258,4096,W)],r.deflateInit=function(t,e){return Y(t,e,v,15,8,0)},r.deflateInit2=Y,r.deflateReset=K,r.deflateResetKeep=G,r.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?_:(t.state.gzhead=e,m):_},r.deflate=function(t,e){var r,i,n,s;if(!t||!t.state||5<e||e<0)return t?R(t,_):_;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&e!==f)return R(t,0===t.avail_out?-5:_);if(i.strm=t,r=i.last_flush,i.last_flush=e,i.status===C)if(2===i.wrap)t.adler=0,U(i,31),U(i,139),U(i,8),i.gzhead?(U(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),U(i,255&i.gzhead.time),U(i,i.gzhead.time>>8&255),U(i,i.gzhead.time>>16&255),U(i,i.gzhead.time>>24&255),U(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),U(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(U(i,255&i.gzhead.extra.length),U(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=p(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(U(i,0),U(i,0),U(i,0),U(i,0),U(i,0),U(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),U(i,3),i.status=E);else{var a=v+(i.w_bits-8<<4)<<8;a|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(a|=32),a+=31-a%31,i.status=E,P(i,a),0!==i.strstart&&(P(i,t.adler>>>16),P(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),F(t),n=i.pending,i.pending!==i.pending_buf_size));)U(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),F(t),n=i.pending,i.pending===i.pending_buf_size)){s=1;break}s=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,U(i,s)}while(0!==s);i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),0===s&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),F(t),n=i.pending,i.pending===i.pending_buf_size)){s=1;break}s=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,U(i,s)}while(0!==s);i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),0===s&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&F(t),i.pending+2<=i.pending_buf_size&&(U(i,255&t.adler),U(i,t.adler>>8&255),t.adler=0,i.status=E)):i.status=E),0!==i.pending){if(F(t),0===t.avail_out)return i.last_flush=-1,m}else if(0===t.avail_in&&T(e)<=T(r)&&e!==f)return R(t,-5);if(666===i.status&&0!==t.avail_in)return R(t,-5);if(0!==t.avail_in||0!==i.lookahead||e!==l&&666!==i.status){var o=2===i.strategy?function(t,e){for(var r;;){if(0===t.lookahead&&(j(t),0===t.lookahead)){if(e===l)return A;break}if(t.match_length=0,r=u._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(N(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===f?(N(t,!0),0===t.strm.avail_out?O:B):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?A:I}(i,e):3===i.strategy?function(t,e){for(var r,i,n,s,a=t.window;;){if(t.lookahead<=S){if(j(t),t.lookahead<=S&&e===l)return A;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=x&&0<t.strstart&&(i=a[n=t.strstart-1])===a[++n]&&i===a[++n]&&i===a[++n]){s=t.strstart+S;do{}while(i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&n<s);t.match_length=S-(s-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=x?(r=u._tr_tally(t,1,t.match_length-x),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=u._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(N(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===f?(N(t,!0),0===t.strm.avail_out?O:B):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?A:I}(i,e):h[i.level].func(i,e);if(o!==O&&o!==B||(i.status=666),o===A||o===O)return 0===t.avail_out&&(i.last_flush=-1),m;if(o===I&&(1===e?u._tr_align(i):5!==e&&(u._tr_stored_block(i,0,0,!1),3===e&&(D(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),F(t),0===t.avail_out))return i.last_flush=-1,m}return e!==f?m:i.wrap<=0?1:(2===i.wrap?(U(i,255&t.adler),U(i,t.adler>>8&255),U(i,t.adler>>16&255),U(i,t.adler>>24&255),U(i,255&t.total_in),U(i,t.total_in>>8&255),U(i,t.total_in>>16&255),U(i,t.total_in>>24&255)):(P(i,t.adler>>>16),P(i,65535&t.adler)),F(t),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?m:1)},r.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==C&&69!==e&&73!==e&&91!==e&&103!==e&&e!==E&&666!==e?R(t,_):(t.state=null,e===E?R(t,-3):m):_},r.deflateSetDictionary=function(t,e){var r,i,n,s,a,o,h,u,l=e.length;if(!t||!t.state)return _;if(2===(s=(r=t.state).wrap)||1===s&&r.status!==C||r.lookahead)return _;for(1===s&&(t.adler=c(t.adler,e,l,0)),r.wrap=0,l>=r.w_size&&(0===s&&(D(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new d.Buf8(r.w_size),d.arraySet(u,e,l-r.w_size,r.w_size,0),e=u,l=r.w_size),a=t.avail_in,o=t.next_in,h=t.input,t.avail_in=l,t.next_in=0,t.input=e,j(r);r.lookahead>=x;){for(i=r.strstart,n=r.lookahead-(x-1);r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+x-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++,--n;);r.strstart=i,r.lookahead=x-1,j(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=x-1,r.match_available=0,t.next_in=o,t.input=h,t.avail_in=a,r.wrap=s,m},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,e,r){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,e,r){"use strict";e.exports=function(t,e){var r,i,n,s,a,o,h,u,l,f,d,c,p,m,_,g,b,v,y,w,k,x,S,z,C;r=t.state,i=t.next_in,z=t.input,n=i+(t.avail_in-5),s=t.next_out,C=t.output,a=s-(e-t.avail_out),o=s+(t.avail_out-257),h=r.dmax,u=r.wsize,l=r.whave,f=r.wnext,d=r.window,c=r.hold,p=r.bits,m=r.lencode,_=r.distcode,g=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;t:do{p<15&&(c+=z[i++]<<p,p+=8,c+=z[i++]<<p,p+=8),v=m[c&g];e:for(;;){if(c>>>=y=v>>>24,p-=y,0===(y=v>>>16&255))C[s++]=65535&v;else{if(!(16&y)){if(0==(64&y)){v=m[(65535&v)+(c&(1<<y)-1)];continue e}if(32&y){r.mode=12;break t}t.msg="invalid literal/length code",r.mode=30;break t}w=65535&v,(y&=15)&&(p<y&&(c+=z[i++]<<p,p+=8),w+=c&(1<<y)-1,c>>>=y,p-=y),p<15&&(c+=z[i++]<<p,p+=8,c+=z[i++]<<p,p+=8),v=_[c&b];r:for(;;){if(c>>>=y=v>>>24,p-=y,!(16&(y=v>>>16&255))){if(0==(64&y)){v=_[(65535&v)+(c&(1<<y)-1)];continue r}t.msg="invalid distance code",r.mode=30;break t}if(k=65535&v,p<(y&=15)&&(c+=z[i++]<<p,(p+=8)<y&&(c+=z[i++]<<p,p+=8)),h<(k+=c&(1<<y)-1)){t.msg="invalid distance too far back",r.mode=30;break t}if(c>>>=y,p-=y,(y=s-a)<k){if(l<(y=k-y)&&r.sane){t.msg="invalid distance too far back",r.mode=30;break t}if(S=d,(x=0)===f){if(x+=u-y,y<w){for(w-=y;C[s++]=d[x++],--y;);x=s-k,S=C}}else if(f<y){if(x+=u+f-y,(y-=f)<w){for(w-=y;C[s++]=d[x++],--y;);if(x=0,f<w){for(w-=y=f;C[s++]=d[x++],--y;);x=s-k,S=C}}}else if(x+=f-y,y<w){for(w-=y;C[s++]=d[x++],--y;);x=s-k,S=C}for(;2<w;)C[s++]=S[x++],C[s++]=S[x++],C[s++]=S[x++],w-=3;w&&(C[s++]=S[x++],1<w&&(C[s++]=S[x++]))}else{for(x=s-k;C[s++]=C[x++],C[s++]=C[x++],C[s++]=C[x++],2<(w-=3););w&&(C[s++]=C[x++],1<w&&(C[s++]=C[x++]))}break}}break}}while(i<n&&s<o);i-=w=p>>3,c&=(1<<(p-=w<<3))-1,t.next_in=i,t.next_out=s,t.avail_in=i<n?n-i+5:5-(i-n),t.avail_out=s<o?o-s+257:257-(s-o),r.hold=c,r.bits=p}},{}],49:[function(t,e,r){"use strict";var I=t("../utils/common"),O=t("./adler32"),B=t("./crc32"),R=t("./inffast"),T=t("./inftrees"),D=1,F=2,N=0,U=-2,P=1,i=852,n=592;function L(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function s(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new I.Buf16(320),this.work=new I.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=P,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new I.Buf32(i),e.distcode=e.distdyn=new I.Buf32(n),e.sane=1,e.back=-1,N):U}function o(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,a(t)):U}function h(t,e){var r,i;return t&&t.state?(i=t.state,e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?U:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=r,i.wbits=e,o(t))):U}function u(t,e){var r,i;return t?(i=new s,(t.state=i).window=null,(r=h(t,e))!==N&&(t.state=null),r):U}var l,f,d=!0;function j(t){if(d){var e;for(l=new I.Buf32(512),f=new I.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(T(D,t.lens,0,288,l,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;T(F,t.lens,0,32,f,0,t.work,{bits:5}),d=!1}t.lencode=l,t.lenbits=9,t.distcode=f,t.distbits=5}function Z(t,e,r,i){var n,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new I.Buf8(s.wsize)),i>=s.wsize?(I.arraySet(s.window,e,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(i<(n=s.wsize-s.wnext)&&(n=i),I.arraySet(s.window,e,r-i,n,s.wnext),(i-=n)?(I.arraySet(s.window,e,r-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=n,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=n))),0}r.inflateReset=o,r.inflateReset2=h,r.inflateResetKeep=a,r.inflateInit=function(t){return u(t,15)},r.inflateInit2=u,r.inflate=function(t,e){var r,i,n,s,a,o,h,u,l,f,d,c,p,m,_,g,b,v,y,w,k,x,S,z,C=0,E=new I.Buf8(4),A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return U;12===(r=t.state).mode&&(r.mode=13),a=t.next_out,n=t.output,h=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,u=r.hold,l=r.bits,f=o,d=h,x=N;t:for(;;)switch(r.mode){case P:if(0===r.wrap){r.mode=13;break}for(;l<16;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(2&r.wrap&&35615===u){E[r.check=0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0),l=u=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=30;break}if(8!=(15&u)){t.msg="unknown compression method",r.mode=30;break}if(l-=4,k=8+(15&(u>>>=4)),0===r.wbits)r.wbits=k;else if(k>r.wbits){t.msg="invalid window size",r.mode=30;break}r.dmax=1<<k,t.adler=r.check=1,r.mode=512&u?10:12,l=u=0;break;case 2:for(;l<16;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(r.flags=u,8!=(255&r.flags)){t.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0,r.mode=3;case 3:for(;l<32;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.head&&(r.head.time=u),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,E[2]=u>>>16&255,E[3]=u>>>24&255,r.check=B(r.check,E,4,0)),l=u=0,r.mode=4;case 4:for(;l<16;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0,r.mode=5;case 5:if(1024&r.flags){for(;l<16;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(o<(c=r.length)&&(c=o),c&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),I.arraySet(r.head.extra,i,s,c,k)),512&r.flags&&(r.check=B(r.check,i,c,s)),o-=c,s+=c,r.length-=c),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===o)break t;for(c=0;k=i[s+c++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k)),k&&c<o;);if(512&r.flags&&(r.check=B(r.check,i,c,s)),o-=c,s+=c,k)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===o)break t;for(c=0;k=i[s+c++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k)),k&&c<o;);if(512&r.flags&&(r.check=B(r.check,i,c,s)),o-=c,s+=c,k)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;l<16;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(u!==(65535&r.check)){t.msg="header crc mismatch",r.mode=30;break}l=u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=12;break;case 10:for(;l<32;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}t.adler=r.check=L(u),l=u=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=a,t.avail_out=h,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=l,2;t.adler=r.check=1,r.mode=12;case 12:if(5===e||6===e)break t;case 13:if(r.last){u>>>=7&l,l-=7&l,r.mode=27;break}for(;l<3;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}switch(r.last=1&u,l-=1,3&(u>>>=1)){case 0:r.mode=14;break;case 1:if(j(r),r.mode=20,6!==e)break;u>>>=2,l-=2;break t;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=30}u>>>=2,l-=2;break;case 14:for(u>>>=7&l,l-=7&l;l<32;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if((65535&u)!=(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&u,l=u=0,r.mode=15,6===e)break t;case 15:r.mode=16;case 16:if(c=r.length){if(o<c&&(c=o),h<c&&(c=h),0===c)break t;I.arraySet(n,i,s,c,a),o-=c,s+=c,h-=c,a+=c,r.length-=c;break}r.mode=12;break;case 17:for(;l<14;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(r.nlen=257+(31&u),u>>>=5,l-=5,r.ndist=1+(31&u),u>>>=5,l-=5,r.ncode=4+(15&u),u>>>=4,l-=4,286<r.nlen||30<r.ndist){t.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;l<3;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.lens[A[r.have++]]=7&u,u>>>=3,l-=3}for(;r.have<19;)r.lens[A[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,S={bits:r.lenbits},x=T(0,r.lens,0,19,r.lencode,0,r.work,S),r.lenbits=S.bits,x){t.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;g=(C=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(b<16)u>>>=_,l-=_,r.lens[r.have++]=b;else{if(16===b){for(z=_+2;l<z;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(u>>>=_,l-=_,0===r.have){t.msg="invalid bit length repeat",r.mode=30;break}k=r.lens[r.have-1],c=3+(3&u),u>>>=2,l-=2}else if(17===b){for(z=_+3;l<z;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}l-=_,k=0,c=3+(7&(u>>>=_)),u>>>=3,l-=3}else{for(z=_+7;l<z;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}l-=_,k=0,c=11+(127&(u>>>=_)),u>>>=7,l-=7}if(r.have+c>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=30;break}for(;c--;)r.lens[r.have++]=k}}if(30===r.mode)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,S={bits:r.lenbits},x=T(D,r.lens,0,r.nlen,r.lencode,0,r.work,S),r.lenbits=S.bits,x){t.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,S={bits:r.distbits},x=T(F,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,S),r.distbits=S.bits,x){t.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===e)break t;case 20:r.mode=21;case 21:if(6<=o&&258<=h){t.next_out=a,t.avail_out=h,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=l,R(t,d),a=t.next_out,n=t.output,h=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,u=r.hold,l=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;g=(C=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(g&&0==(240&g)){for(v=_,y=g,w=b;g=(C=r.lencode[w+((u&(1<<v+y)-1)>>v)])>>>16&255,b=65535&C,!(v+(_=C>>>24)<=l);){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}u>>>=v,l-=v,r.back+=v}if(u>>>=_,l-=_,r.back+=_,r.length=b,0===g){r.mode=26;break}if(32&g){r.back=-1,r.mode=12;break}if(64&g){t.msg="invalid literal/length code",r.mode=30;break}r.extra=15&g,r.mode=22;case 22:if(r.extra){for(z=r.extra;l<z;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;g=(C=r.distcode[u&(1<<r.distbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(0==(240&g)){for(v=_,y=g,w=b;g=(C=r.distcode[w+((u&(1<<v+y)-1)>>v)])>>>16&255,b=65535&C,!(v+(_=C>>>24)<=l);){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}u>>>=v,l-=v,r.back+=v}if(u>>>=_,l-=_,r.back+=_,64&g){t.msg="invalid distance code",r.mode=30;break}r.offset=b,r.extra=15&g,r.mode=24;case 24:if(r.extra){for(z=r.extra;l<z;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===h)break t;if(c=d-h,r.offset>c){if((c=r.offset-c)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=30;break}p=c>r.wnext?(c-=r.wnext,r.wsize-c):r.wnext-c,c>r.length&&(c=r.length),m=r.window}else m=n,p=a-r.offset,c=r.length;for(h<c&&(c=h),h-=c,r.length-=c;n[a++]=m[p++],--c;);0===r.length&&(r.mode=21);break;case 26:if(0===h)break t;n[a++]=r.length,h--,r.mode=21;break;case 27:if(r.wrap){for(;l<32;){if(0===o)break t;o--,u|=i[s++]<<l,l+=8}if(d-=h,t.total_out+=d,r.total+=d,d&&(t.adler=r.check=r.flags?B(r.check,n,d,a-d):O(r.check,n,d,a-d)),d=h,(r.flags?u:L(u))!==r.check){t.msg="incorrect data check",r.mode=30;break}l=u=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;l<32;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(u!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=30;break}l=u=0}r.mode=29;case 29:x=1;break t;case 30:x=-3;break t;case 31:return-4;case 32:default:return U}return t.next_out=a,t.avail_out=h,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=l,(r.wsize||d!==t.avail_out&&r.mode<30&&(r.mode<27||4!==e))&&Z(t,t.output,t.next_out,d-t.avail_out)?(r.mode=31,-4):(f-=t.avail_in,d-=t.avail_out,t.total_in+=f,t.total_out+=d,r.total+=d,r.wrap&&d&&(t.adler=r.check=r.flags?B(r.check,n,d,t.next_out-d):O(r.check,n,d,t.next_out-d)),t.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==f&&0===d||4===e)&&x===N&&(x=-5),x)},r.inflateEnd=function(t){if(!t||!t.state)return U;var e=t.state;return e.window&&(e.window=null),t.state=null,N},r.inflateGetHeader=function(t,e){var r;return t&&t.state?0==(2&(r=t.state).wrap)?U:((r.head=e).done=!1,N):U},r.inflateSetDictionary=function(t,e){var r,i=e.length;return t&&t.state?0!==(r=t.state).wrap&&11!==r.mode?U:11===r.mode&&O(1,e,i,0)!==r.check?-3:Z(t,e,i,i)?(r.mode=31,-4):(r.havedict=1,N):U},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,e,r){"use strict";var D=t("../utils/common"),F=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],N=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],U=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],P=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,r,i,n,s,a,o){var h,u,l,f,d,c,p,m,_,g=o.bits,b=0,v=0,y=0,w=0,k=0,x=0,S=0,z=0,C=0,E=0,A=null,I=0,O=new D.Buf16(16),B=new D.Buf16(16),R=null,T=0;for(b=0;b<=15;b++)O[b]=0;for(v=0;v<i;v++)O[e[r+v]]++;for(k=g,w=15;1<=w&&0===O[w];w--);if(w<k&&(k=w),0===w)return n[s++]=20971520,n[s++]=20971520,o.bits=1,0;for(y=1;y<w&&0===O[y];y++);for(k<y&&(k=y),b=z=1;b<=15;b++)if(z<<=1,(z-=O[b])<0)return-1;if(0<z&&(0===t||1!==w))return-1;for(B[1]=0,b=1;b<15;b++)B[b+1]=B[b]+O[b];for(v=0;v<i;v++)0!==e[r+v]&&(a[B[e[r+v]]++]=v);if(c=0===t?(A=R=a,19):1===t?(A=F,I-=257,R=N,T-=257,256):(A=U,R=P,-1),b=y,d=s,S=v=E=0,l=-1,f=(C=1<<(x=k))-1,1===t&&852<C||2===t&&592<C)return 1;for(;;){for(p=b-S,_=a[v]<c?(m=0,a[v]):a[v]>c?(m=R[T+a[v]],A[I+a[v]]):(m=96,0),h=1<<b-S,y=u=1<<x;n[d+(E>>S)+(u-=h)]=p<<24|m<<16|_|0,0!==u;);for(h=1<<b-1;E&h;)h>>=1;if(0!==h?(E&=h-1,E+=h):E=0,v++,0==--O[b]){if(b===w)break;b=e[r+a[v]]}if(k<b&&(E&f)!==l){for(0===S&&(S=k),d+=y,z=1<<(x=b-S);x+S<w&&!((z-=O[x+S])<=0);)x++,z<<=1;if(C+=1<<x,1===t&&852<C||2===t&&592<C)return 1;n[l=E&f]=k<<24|x<<16|d-s|0}}return 0!==E&&(n[d+E]=b-S<<24|64<<16|0),o.bits=k,0}},{"../utils/common":41}],51:[function(t,e,r){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,e,r){"use strict";var n=t("../utils/common"),o=0,h=1;function i(t){for(var e=t.length;0<=--e;)t[e]=0}var s=0,a=29,u=256,l=u+1+a,f=30,d=19,_=2*l+1,g=15,c=16,p=7,m=256,b=16,v=17,y=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(l+2));i(z);var C=new Array(2*f);i(C);var E=new Array(512);i(E);var A=new Array(256);i(A);var I=new Array(a);i(I);var O,B,R,T=new Array(f);function D(t,e,r,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}function F(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function N(t){return t<256?E[t]:E[256+(t>>>7)]}function U(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function P(t,e,r){t.bi_valid>c-r?(t.bi_buf|=e<<t.bi_valid&65535,U(t,t.bi_buf),t.bi_buf=e>>c-t.bi_valid,t.bi_valid+=r-c):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function L(t,e,r){P(t,r[2*e],r[2*e+1])}function j(t,e){for(var r=0;r|=1&t,t>>>=1,r<<=1,0<--e;);return r>>>1}function Z(t,e,r){var i,n,s=new Array(g+1),a=0;for(i=1;i<=g;i++)s[i]=a=a+r[i-1]<<1;for(n=0;n<=e;n++){var o=t[2*n+1];0!==o&&(t[2*n]=j(s[o]++,o))}}function W(t){var e;for(e=0;e<l;e++)t.dyn_ltree[2*e]=0;for(e=0;e<f;e++)t.dyn_dtree[2*e]=0;for(e=0;e<d;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*m]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function M(t){8<t.bi_valid?U(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function H(t,e,r,i){var n=2*e,s=2*r;return t[n]<t[s]||t[n]===t[s]&&i[e]<=i[r]}function G(t,e,r){for(var i=t.heap[r],n=r<<1;n<=t.heap_len&&(n<t.heap_len&&H(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!H(e,i,t.heap[n],t.depth));)t.heap[r]=t.heap[n],r=n,n<<=1;t.heap[r]=i}function K(t,e,r){var i,n,s,a,o=0;if(0!==t.last_lit)for(;i=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1],n=t.pending_buf[t.l_buf+o],o++,0===i?L(t,n,e):(L(t,(s=A[n])+u+1,e),0!==(a=w[s])&&P(t,n-=I[s],a),L(t,s=N(--i),r),0!==(a=k[s])&&P(t,i-=T[s],a)),o<t.last_lit;);L(t,m,e)}function Y(t,e){var r,i,n,s=e.dyn_tree,a=e.stat_desc.static_tree,o=e.stat_desc.has_stree,h=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=_,r=0;r<h;r++)0!==s[2*r]?(t.heap[++t.heap_len]=u=r,t.depth[r]=0):s[2*r+1]=0;for(;t.heap_len<2;)s[2*(n=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[n]=0,t.opt_len--,o&&(t.static_len-=a[2*n+1]);for(e.max_code=u,r=t.heap_len>>1;1<=r;r--)G(t,s,r);for(n=h;r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],G(t,s,1),i=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=i,s[2*n]=s[2*r]+s[2*i],t.depth[n]=(t.depth[r]>=t.depth[i]?t.depth[r]:t.depth[i])+1,s[2*r+1]=s[2*i+1]=n,t.heap[1]=n++,G(t,s,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var r,i,n,s,a,o,h=e.dyn_tree,u=e.max_code,l=e.stat_desc.static_tree,f=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,c=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(s=0;s<=g;s++)t.bl_count[s]=0;for(h[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<_;r++)p<(s=h[2*h[2*(i=t.heap[r])+1]+1]+1)&&(s=p,m++),h[2*i+1]=s,u<i||(t.bl_count[s]++,a=0,c<=i&&(a=d[i-c]),o=h[2*i],t.opt_len+=o*(s+a),f&&(t.static_len+=o*(l[2*i+1]+a)));if(0!==m){do{for(s=p-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[p]--,m-=2}while(0<m);for(s=p;0!==s;s--)for(i=t.bl_count[s];0!==i;)u<(n=t.heap[--r])||(h[2*n+1]!==s&&(t.opt_len+=(s-h[2*n+1])*h[2*n],h[2*n+1]=s),i--)}}(t,e),Z(s,u,t.bl_count)}function X(t,e,r){var i,n,s=-1,a=e[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),e[2*(r+1)+1]=65535,i=0;i<=r;i++)n=a,a=e[2*(i+1)+1],++o<h&&n===a||(o<u?t.bl_tree[2*n]+=o:0!==n?(n!==s&&t.bl_tree[2*n]++,t.bl_tree[2*b]++):o<=10?t.bl_tree[2*v]++:t.bl_tree[2*y]++,s=n,u=(o=0)===a?(h=138,3):n===a?(h=6,3):(h=7,4))}function V(t,e,r){var i,n,s=-1,a=e[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),i=0;i<=r;i++)if(n=a,a=e[2*(i+1)+1],!(++o<h&&n===a)){if(o<u)for(;L(t,n,t.bl_tree),0!=--o;);else 0!==n?(n!==s&&(L(t,n,t.bl_tree),o--),L(t,b,t.bl_tree),P(t,o-3,2)):o<=10?(L(t,v,t.bl_tree),P(t,o-3,3)):(L(t,y,t.bl_tree),P(t,o-11,7));s=n,u=(o=0)===a?(h=138,3):n===a?(h=6,3):(h=7,4)}}i(T);var q=!1;function J(t,e,r,i){P(t,(s<<1)+(i?1:0),3),function(t,e,r,i){M(t),i&&(U(t,r),U(t,~r)),n.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}(t,e,r,!0)}r._tr_init=function(t){q||(function(){var t,e,r,i,n,s=new Array(g+1);for(i=r=0;i<a-1;i++)for(I[i]=r,t=0;t<1<<w[i];t++)A[r++]=i;for(A[r-1]=i,i=n=0;i<16;i++)for(T[i]=n,t=0;t<1<<k[i];t++)E[n++]=i;for(n>>=7;i<f;i++)for(T[i]=n<<7,t=0;t<1<<k[i]-7;t++)E[256+n++]=i;for(e=0;e<=g;e++)s[e]=0;for(t=0;t<=143;)z[2*t+1]=8,t++,s[8]++;for(;t<=255;)z[2*t+1]=9,t++,s[9]++;for(;t<=279;)z[2*t+1]=7,t++,s[7]++;for(;t<=287;)z[2*t+1]=8,t++,s[8]++;for(Z(z,l+1,s),t=0;t<f;t++)C[2*t+1]=5,C[2*t]=j(t,5);O=new D(z,w,u+1,l,g),B=new D(C,k,0,f,g),R=new D(new Array(0),x,0,d,p)}(),q=!0),t.l_desc=new F(t.dyn_ltree,O),t.d_desc=new F(t.dyn_dtree,B),t.bl_desc=new F(t.bl_tree,R),t.bi_buf=0,t.bi_valid=0,W(t)},r._tr_stored_block=J,r._tr_flush_block=function(t,e,r,i){var n,s,a=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return o;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return h;for(e=32;e<u;e++)if(0!==t.dyn_ltree[2*e])return h;return o}(t)),Y(t,t.l_desc),Y(t,t.d_desc),a=function(t){var e;for(X(t,t.dyn_ltree,t.l_desc.max_code),X(t,t.dyn_dtree,t.d_desc.max_code),Y(t,t.bl_desc),e=d-1;3<=e&&0===t.bl_tree[2*S[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),n=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=n&&(n=s)):n=s=r+5,r+4<=n&&-1!==e?J(t,e,r,i):4===t.strategy||s===n?(P(t,2+(i?1:0),3),K(t,z,C)):(P(t,4+(i?1:0),3),function(t,e,r,i){var n;for(P(t,e-257,5),P(t,r-1,5),P(t,i-4,4),n=0;n<i;n++)P(t,t.bl_tree[2*S[n]+1],3);V(t,t.dyn_ltree,e-1),V(t,t.dyn_dtree,r-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),K(t,t.dyn_ltree,t.dyn_dtree)),W(t),i&&M(t)},r._tr_tally=function(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(A[r]+u+1)]++,t.dyn_dtree[2*N(e)]++),t.last_lit===t.lit_bufsize-1},r._tr_align=function(t){P(t,2,3),L(t,m,z),function(t){16===t.bi_valid?(U(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":41}],53:[function(t,e,r){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e,r){"use strict";e.exports="function"==typeof setImmediate?setImmediate:function(){var t=[].slice.apply(arguments);t.splice(1,0,0),setTimeout.apply(null,t)}},{}]},{},[10])(10)});/* js_zipWrap.min.js */
!function(x){x[0][x[1]]=function(zip,nodePath,cb){var join=nodePath.join,trailing_slashes_re=/(\/*)$/g,double_slash_re=/(\/\/+)/g,double_dot_parent_re=/(?<=\/)([^/]*\/\.\.\/)(?=)/;function true_path_from_path(path){return path=path.replace(trailing_slashes_re,"").replace(double_slash_re,""),0<=["/",""].indexOf(path)?"/":"/"===path[0]?path:"/"+path}function true_path_from_relative_path(cwd,path){for(0<=[".","",cwd].indexOf(path)?path=cwd:path.startsWith("/")||(path=path.startsWith("./")?join(cwd,path.substr(2)):join(cwd,path)),path=path.replace(trailing_slashes_re,"").replace(double_slash_re,"").replace(double_dot_parent_re,"");0<=path.search(double_dot_parent_re);)path=path.replace(double_dot_parent_re,"");return""===path?"/":path}function ab2str(buf){return String.fromCharCode.apply(null,new Uint16Array(buf))}function str2ab(str){for(var buf=new ArrayBuffer(2*str.length),bufView=new Uint16Array(buf),i=0,strLen=str.length;i<strLen;i++)bufView[i]=str.charCodeAt(i);return buf}var properties,wrap={},zip_fns=[],listing=[],directory={},watchers={},inodes={},getInode=function getInode(true_path){var result=inodes[true_path];return result||(getInode.next=(result=getInode.next||1e3)+1,inodes[true_path]=result),result},cwd="/";function utf8Encoding(str){return str}var bufferEncoding="object"==typeof process&&"function"==typeof Buffer?function(str){return Buffer.from(str)}:str2ab;if(reread(),properties=function(){var listing_true_path_filter=filtered_root_path;function errback(cb,err,data){if(err){if(cb)return cb(err);throw err}return cb?cb(null,data):data}function exists(true_path){return!!zip.files[directory[true_path]]}function isDir(true_path){var entry=zip.files[directory[true_path]];return entry&&entry.dir}function rm(path,cb){var true_path=true_path_from_relative_path(cwd,path);return zip.files[directory[true_path]]?(zip.remove(directory[true_path]),reread(),errback(cb)):errback(cb,new Error(path+" not found"))}function Stats(size,when,inode){this.ino=inode,this.size=size,this.atimeMs=when.getTime(),this.mtimeMs=this.atimeMs,this.ctimeMs=this.atimeMs,this.birthtimeMs=this.atimeMs,this.atime=when,this.mtime=this.atime,this.ctime=this.atime,this.birthtime=this.atime}function cp(src,dest,cb,_is_mv){var true_src=true_path_from_relative_path(cwd,src),true_dest=true_path_from_relative_path(cwd,dest);if(exists(true_src)){if(true_src===true_dest)return errback(cb,new Error("source and destination are the same"));var zip_fn_src=directory[true_src];if(exists(true_dest)){var zip_fn_dest=directory[true_src];return isDir(true_dest)?errback(cb,new Error(dest+" is a directory. mv failed")):(zip.remove(zip_fn_dest),do_mv(zip_fn_src))}return do_mv(zip_fn_src,true_dest.substr(1))}return errback(cb,new Error(src+" not found"));function do_mv(zip_fn_src){return(isDir(true_src)?function(zip_fn_src){var files_to_move,dir_to_move=wrap.view_dir(true_src,!0);if(cb){var source_files=(files_to_move=dir_to_move.files_objects).map(function(obj){return true_path_from_path(obj.name)}),offset=true_src.length+1,dest_files=source_files.map(function(fn){return true_dest+"/"+fn.substr(offset)});Promise.all(files_to_move.map(function(obj,ix){return obj.async("arraybuffer").catch(function(err){return err})})).then(function(buffers){var errors=buffers.filter(function(buf){return"object"==typeof buf&&buf.constructor===Error});if(0<errors.length){var err=new Error("errors while reading source files");return err.errors=errors,cb(err)}return buffers.forEach(function(buf,ix){var zip_dest=directory[dest_files[ix]]||dest_files[ix].substr(1);zip.file(zip_dest,buf,{binary:!0})}),_is_mv&&zip.remove(zip_fn_src),reread(),cb()}).catch(function(err){console.log({err:err})})}else{files_to_move=dir_to_move.files;var moved_ok=[];try{files_to_move.forEach(function(fn){var true_path_src=true_src+"/"+fn,true_path_dest=true_dest+"/"+fn;wrap.arraybuffer[true_path_dest]=wrap.arraybuffer[true_path_src](),moved_ok.push(true_path_dest)}),_is_mv&&zip.remove(zip_fn_src),moved_ok.splice(0,moved_ok.length)}finally{moved_ok.forEach(function(true_fn){zip.remove(directory[true_fn])}),reread()}}}:function(zip_fn_src){cb?wrap.arraybuffer[true_src](function(err,data){return err?errback(cb,err):(wrap.arraybuffer[true_dest]=data,_is_mv&&zip.remove(zip_fn_src),reread(),cb(null))}):(wrap.arraybuffer[true_dest]=wrap.arraybuffer[true_src](),_is_mv&&zip.remove(zip_fn_src),reread())})(zip_fn_src)}}return augmentProps(["listing","files","dirs"],[],"",{recursive:{get:function(){return listing_true_path_filter===filtered_always},set:function(value){listing_true_path_filter=value?filtered_always:filtered_root_path}},listing:{get:function(filtermode){return listing.filter(filtermode||listing_true_path_filter)}},files:{get:function(filtermode){return listing.filter(filtermode||listing_true_path_filter).filter(isFile)}},dirs:{get:function(filtermode){return listing.filter(filtermode||listing_true_path_filter).filter(isDir)}},mkdir:{value:function(path,cb){var true_path=true_path_from_relative_path(cwd,path);if("/"===true_path||zip.files[directory[true_path]])return errback(cb,new Error("can't mkdir "+path+"already exists"+(zip.files[directory[true_path]].dir?"":" (a file)")));var parent_path=nodePath.dirname(true_path),parent_dir=zip.files[directory[parent_path]];if("/"===parent_path||parent_dir){if("/"===parent_path||parent_dir.dir){var zip_fn=true_path.substr(1);return zip.folder(zip_fn),reread(),errback(cb)}return errback(cb,new Error("can't mkdir '"+path+"' - '"+parent_dir.name+"' is not a directory"))}return errback(cb,new Error("can't mkdir '"+path+"' - '"+parent_path+"' not found"))}},mkdirp:{value:function(path,cb){var true_path=true_path_from_relative_path(cwd,path);if(zip.files[directory[true_path]])return errback(cb,new Error("can't mkdir "+path+"already exists"+(zip.files[directory[true_path]].dir?"":" (a file)")));var zip_fn=true_path.substr(1);return zip.folder(zip_fn),reread(),errback(cb)}},rmdir:{value:function(path,cb){var true_path=true_path_from_relative_path(cwd,path);return exists(true_path)?isDir(true_path)?function(true_path){return isDir(true_path)&&0===view_chdir(true_path).length}(true_path)?rm(path,cb):errback(cb,new Error(path+" is not empty")):errback(cb,new Error(path+" is not a directory")):errback(cb,new Error(path+" not found"))}},rm:{value:rm},exists:{value:function(path,cb){var true_path=true_path_from_relative_path(cwd,path),answer="/"===true_path||exists(true_path);return cb?cb(answer):answer}},stat:{value:function(path,cb){var true_path=true_path_from_relative_path(cwd,path);if(exists(true_path)){var zip_fn=directory[true_path],ino=getInode(true_path),obj=zip.file(zip_fn);if(!obj)return errback(cb,new Error(path+" not found"));if(obj._data&&"number"==typeof obj._data.uncompressedSize)return errback(cb,null,new Stats(obj._data.uncompressedSize,obj.date,ino));if(!cb){function ignore(){}return obj.async("string").then(ignore).catch(ignore),errback(void 0,new Error(path+" not ready. try later"))}obj.async("string").then(function(data){return errback(cb,null,new Stats(data.length,obj.date,ino))}).catch(function(err){return errback(cb,err)})}}},mv:{value:function(src,dest,cb,_is_mv){return cp(src,dest,cb,!0)}},cp:{value:cp},listing_objects:{get:function(filtermode){return listing.filter(filtermode||listing_true_path_filter).map(get_object)}},files_objects:{get:function(filtermode){return listing.filter(filtermode||listing_true_path_filter).filter(isFile).map(get_object)}},dirs_objects:{get:function(filtermode){return listing.filter(filtermode||listing_true_path_filter).filter(isDir).map(get_object)}},string:{value:new Proxy({},file_proxy("string"))},arraybuffer:{value:new Proxy({},file_proxy("arraybuffer",{binary:!0}))},object:{value:function(path){return zip.file(directory[true_path_from_path(path)])}},addWatcher:{value:addWatcher},view_dir:{value:function(path,recursive){return view_chdir(path,recursive)}},chdir:{value:function(path){var new_path=true_path_from_relative_path(cwd,path);view_chdir(new_path),cwd=new_path}},reread:{value:reread},toJSON:{value:function(){var z,r;return{dir:function getDir(z){var r={};return z.get_dirs(!1).forEach(function(d){r[d.replace(/^\/{1}/,"")]=getDir(z.view_dir(d,!1))}),z.files_objects.forEach(function(f){r[nodePath.basename(f.name)]=f.date}),r}(wrap),files:(r={},(z=wrap).get_files(!0).forEach(function(f){var obj=zip.files[directory[f]];r[f]={size:obj._data.uncompressedSize,text:z.string[f]()}}),r)}}},ab2str:{value:ab2str},str2ab:{value:str2ab},trailing_slashes_re:{value:trailing_slashes_re},double_slash_re:{value:double_slash_re},double_dot_parent_re:{value:double_dot_parent_re},true_path_from_path:{value:true_path_from_path},true_path_from_relative_path:{value:true_path_from_relative_path},Stats:{value:Stats}})}(),Object.defineProperties(wrap,properties),"function"==typeof cb)var file_list=wrap.get_files(!0),bytes=0,loading=file_list.map(function(fn){return wrap.string[fn](function(err,data){var ix=loading.indexOf(fn);if(loading.splice(ix,1),bytes+=err?0:data.length,0===loading.length)return cb(wrap,bytes)}),fn});return wrap;function reread(){zip_fns.splice.apply(zip_fns,[0,zip_fns.length].concat(Object.keys(zip.files))),listing.splice.apply(listing,[0,listing.length].concat(zip_fns.map(true_path_from_path)));var current_inodes=listing.map(getInode);Object.keys(inodes).forEach(function(fn){var inode=inodes[fn];current_inodes.indexOf(inode)<0&&delete inodes[fn]}),Object.keys(directory).forEach(function(fn){delete directory[fn]}),zip_fns.forEach(function(zip_fn,ix){directory[listing[ix]]=zip_fn})}function get_object(path){return zip.files[directory[true_path_from_path(path)]]}function file_proxy(dtype,opts){function set_cache(obj,data){return delete obj.__cache_string,delete obj.__cache_arraybuffer,obj[cache_name]=data}var cache_name="__cache_"+dtype;return{get:function(x,path){var errpath=path;path=path.replace(/\$_/g,".").replace(/\$/g,"/");var true_path=true_path_from_relative_path(cwd,path),zip_fn=directory[true_path],obj=zip.files[zip_fn];if(obj&&obj.async){if(obj.dir)throw new Error("not a file:"+errpath+" ( "+path+" ) is a directory");function try_cache(){var data=function(obj){return obj[cache_name]?obj[cache_name]:obj.__cache_string&&"arraybuffer"===dtype?(obj.__cache_arraybuffer=str2ab(obj.__cache_string),obj.__cache_arraybuffer):obj.__cache_arraybuffer&&"string"===dtype?(obj.__cache_string=ab2str(obj.__cache_arraybuffer),obj.__cache_string):void 0}(obj);return!!data&&function(cb){return cb?cb(null,data):data}}var cacheAvail=try_cache();return cacheAvail?cacheAvail:obj.__pending?function(cb){return not_ready_yet(cb)}:(obj.__pending=[],obj.async(dtype).then(function(data){set_cache(obj,data),obj.__pending&&(obj.__pending.forEach(function(cb){cb(null,data)}),obj.__pending.splice(0,obj.__pending.length),delete obj.__pending)}).catch(function(newErr){obj.__pending&&(obj.__pending.forEach(function(cb){cb(newErr)}),obj.__pending.splice(0,obj.__pending.length),delete obj.__pending)}),not_ready_yet)}var err=new Error("not found:"+errpath+" ( "+path+" )");return function(cb){if("function"==typeof cb)return cb(err);throw err};function not_ready_yet(cb){var cacheAvail=try_cache();if(cacheAvail)return cacheAvail(cb);if(!cb)throw obj.__pending?((err=new Error(path+" not ready. retry later")).data=null,err.busy=!0,err.code="ENOTREADY",obj.__pending.push(function(data){err.data=data,err.busy=!1}),err):new Error("internal read error");if(obj.__pending)return obj.__pending.push(cb);cb(new Error("internal read error"))}},set:function(x,path,data){path=path.replace(/\$_/g,".").replace(/\$/g,"/");var watch_messages,true_path=true_path_from_relative_path(cwd,path),zip_fn=directory[true_path],obj=zip.files[zip_fn];function notify(watch_path){watchers[watch_path]&&watch_messages.forEach(function(watch_message){watchers[watch_path].forEach(function(fn){fn(watch_message,fn.encode(basename),new wrap.Stats(data.length,obj.date,inode))})})}watch_messages=obj&&obj.async?["change"]:(zip_fn=true_path.substr(1),directory[true_path]=zip_fn,zip_fns.push(zip_fn),listing.push(true_path),["rename","change"]),zip.file(zip_fn,data,opts),set_cache(zip.files[zip_fn],data),obj&&obj.async||(obj=zip.files[zip_fn]);var inode=getInode(true_path),basename=nodePath.basename(true_path);return notify(true_path),notify(nodePath.dirname(true_path)),!0}}}function isFile(zip_fn){var obj=get_object(zip_fn);return obj||console.log({isFile_undefined:zip_fn}),!!obj&&!obj.dir}function addWatcher(path,options,listener){if("string"!=typeof path){if("object"==typeof path||"string"!=typeof path.constructor.name||!path.constructor.name.endsWith("Buffer"))throw new Error("expecting a string or buffer for path");path=path.toString("utf8")}function notify_listeners(ev,file){listeners.forEach(function(fn){fn(ev,file)})}"function"==typeof options&&(listener=options,options={}),options.encoding?listener.encode=0<=["utf8","utf-8"].indexOf(options.encoding)?utf8Encoding:bufferEncoding:listener.encode=utf8Encoding;var true_path=true_path_from_relative_path(cwd,path),listeners=[],watch_stack=watchers[true_path]||(watchers[true_path]=[]);return watch_stack.push(notify_listeners),Object.defineProperties({},{close:{value:function(){var index=watch_stack.indexOf(notify_listeners);0<=index&&(watch_stack.splice(index,1),0===watch_stack.length&&delete watchers[true_path])}},addListener:{value:function(listener){if("function"!=typeof listener)throw new Error("invalid arg type");listeners.add(listener)}},removeListener:{value:function(listener){var ix=listeners.indexOf(listener);0<=ix&&listeners.splice(ix,1)}}})}function filtered_always(file){return!0}function filtered_root_path(file){return file.substr(1).indexOf("/")<0}function filtered_top_path(file){return file.indexOf("/")<0}function view_chdir(path,recursive){var true_path=true_path_from_path(path);if("/"!==true_path&&!zip.files[directory[true_path]])throw new Error(path+" not found");var view={},my_true_path_prefix="/"===true_path?"/":true_path+"/",mine_from=my_true_path_prefix.length,filtered=recursive?filtered_always:filtered_top_path,filtered_object=recursive?filtered_always:function(under){var mine_true=true_path_from_path(under),mine_from="/"===mine_true?1:mine_true.length+1;return function(obj){return filtered_top_path(true_path_from_path(obj.name).substr(mine_from))}}(true_path);return Object.defineProperties(view,augmentProps(["listing","files","dirs"],["mkdir","mkdirp","rmdir","rm","exists","stat","mv","cp"],true_path,{get_listing:{value:function(recursive){}},listing:{get:listing_view},files:{get:files_view},dirs:{get:dirs_view},listing_objects:{get:listing_objects_view},files_objects:{get:files_objects_view},dirs_objects:{get:dirs_objects_view},string:{value:file_proxy_view("string")},arraybuffer:{value:file_proxy_view("arraybuffer")},object:{value:function(path){return zip.file(directory[make_mine(path)])}},addWatcher:{value:function addWatcher(path,options,listener){return addWatcher(make_mine(path),options,listener)}},view_dir:{value:function(path,recursive){return view_chdir(make_mine(path),recursive)}},chdir:{value:function(path){wrap.chdir(true_path_from_relative_path(true_path,path))}},reread:{value:reread},toJSON:{value:function(){var j={dirs:{},files:{}},dirs=view.dirs,files=view.files;return dirs.forEach(function(dir){j.dirs[dir]=view.view_dir(dir).toJSON()}),files.forEach(function(fn,ix){j.files[fn]=view.string[fn](),j.dirs[fn]={date:view.files_objects[ix].date,size:j.files[fn].size}}),j}}}));function GET(what){return properties[what].get(filtered_always)}function make_mine(path){return path.startsWith("..")?"///badpath!":path.replace(/^(\.|\/)*/,my_true_path_prefix)}function my_part(path){return path.substr(mine_from)}function is_my_true_path(fn){return fn.startsWith(my_true_path_prefix)}function is_my_object(obj){return true_path_from_path(obj.name).startsWith(my_true_path_prefix)}function listing_view(filterMode){return listing.filter(is_my_true_path).map(my_part).filter(filterMode||filtered)}function files_view(filterMode){return GET("files").filter(is_my_true_path).map(my_part).filter(filterMode||filtered)}function dirs_view(filterMode){return GET("dirs").filter(is_my_true_path).map(my_part).filter(filterMode||filtered)}function listing_objects_view(){return GET("listing_objects").filter(is_my_object).filter(filtered_object)}function files_objects_view(){return GET("files_objects").filter(is_my_object).filter(filtered_object)}function dirs_objects_view(){return GET("dirs_objects").filter(is_my_object).filter(filtered_object)}function file_proxy_view(name){var parent_proxy=properties[name].value;return new Proxy({},{get:function(x,path){return parent_proxy[make_mine(path)]},set:function(x,path,data){return parent_proxy[make_mine(path)]=data,!0}})}}function augmentProps(recursive,pathwraps,true_path,props){var s,path_fixer=true_path_from_relative_path.bind(this,true_path),cpArgs=(s=Array.prototype.slice).call.bind(s);return recursive.forEach(function(cmd){props["get_"+cmd]={value:function(recursive){return props[cmd].get(recursive?filtered_always:void 0)},enumerable:!1,configurable:!0},props[cmd].enumerable=!0,props[cmd].configurable=!0}),pathwraps.forEach(function(cmd){var parent_handler=wrap[cmd],child_handler={};child_handler[cmd]=function(){var args=cpArgs(arguments),cb=args[args.length-1];return"function"==typeof cb&&args.pop(),args=args.map(path_fixer),"function"==typeof cb&&args.push(cb),parent_handler.apply(this,args)},props[cmd]={value:child_handler[cmd],enumerable:!0,configurable:!0}}),props}}}(typeof process+typeof module+typeof require=="objectobjectfunction"?[module,"exports"]:[window,"zipWrap"]);/* fs_jszip.min.js */
(function(x){x[0][x[1]]=function(){//jshint -W104
//jshint -W119
function fs_JSZip(exports,data,zipWrap,JSZip,nodePath,cb){if(!(typeof JSZip!=='undefined'&&typeof JSZip.loadAsync==='function'))return;JSZip.loadAsync(data).then(function(zip){var ab2str=function ab2str(buf){return String.fromCharCode.apply(null,new Uint16Array(buf))},str2ab=function str2ab(str){var buf=new ArrayBuffer(str.length*2);// 2 bytes for each char
var bufView=new Uint16Array(buf);for(var i=0,strLen=str.length;i<strLen;i++){bufView[i]=str.charCodeAt(i)}return buf},cwd='/';zipWrap(zip,nodePath,function(wrapped,totalBytes){var find_entry_from_path=function find_entry_from_path(path){var zip_fn=path,found=zip.files[zip_fn];if(!found){if(!(found=zip.files[zip_fn=path+'/'])){if(!(found=zip.files[zip_fn=path.substr(1)])){if(!(found=zip.files[zip_fn=zip_fn+'/'])){zip_fn=path;if(zip_fn==='/'){found={name:'/',dir:true}}}}}}return{found:found,zip_fn:zip_fn}},zip_fn_from_path=function zip_fn_from_path(path){return find_entry_from_path(path).zip_fn},zip_resolve=function zip_resolve(path){// 1) resolve true_path (reduce any double slashes to single slashes:
// "." --> cwd (default "/")
// "./file.ext" --> cwd/file.ext ( default "/file.ext")
// "file.text" --> cwd/file.ext  ( default "/file.ext")
// "/some/other/path/file.ext" --> "/some/other/path/file.ext"
// "/some///other/path/file.ext" --> "/some/other/path/file.ext"
// 2) get full file list from zip.files, and fixup any entries that don't have leading /
// "path/file.ext" --> "/path/file.ext"
// "file.ext" --> "/file.ext"
// "/some/other/path/file.ext" --> "/some/other/path/file.ext"
// 3) lookup true_path in fixed file list, call any match "found"
// 4) return all this info to caller in standardzed format
var errpath=path;path=wrapped.true_path_from_relative_path(cwd,path);var dir_basename=path.split('/'),basename=dir_basename.pop(),dirname='/'+dir_basename.filter(function(f){return f.length>0}).join('/'),find=find_entry_from_path(path);return{path:errpath,// what user passed in
true_path:path,// force "path/to/sub/file.ext" ---> "/path/to/sub/file.ext"
zip_fn:find.zip_fn,// what the file is called in the zip
// (in some cases files won't have leading slash, and may have trailing slash. true_path is normalized, zip_fn is actual fn in the zip)
basename:basename,// "/path/to/sub"
dirname:dirname,// "file.ext"
ext:basename.split('.').pop(),//"ext"
found:find.found,// directory entry (if path exists in zip)
dir_filter:find.found&&find.found.dir?path==='/'?path:path+'/':undefined,error:function(err,code,errno,syscall){err.code=code;err.errno=errno;err.syscall=syscall;err.path=errpath;return err}}},fs_process={cwd:function getCwd(path){return cwd},chdir:function(path){var lookup=zip_resolve(path);console.log({lookup});if(lookup.found&&lookup.found.dir){cwd=lookup.dir_filter}else{throw lookup.error(new Error('ENOENT: no such file or directory, chdir \''+path+'\''),'ENOENT',-2,'chdir')}}},fs_constants={UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,O_RDONLY:0,O_WRONLY:1,O_RDWR:2,UV_DIRENT_UNKNOWN:0,UV_DIRENT_FILE:1,UV_DIRENT_DIR:2,UV_DIRENT_LINK:3,UV_DIRENT_FIFO:4,UV_DIRENT_SOCKET:5,UV_DIRENT_CHAR:6,UV_DIRENT_BLOCK:7,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:64,O_EXCL:128,UV_FS_O_FILEMAP:0,O_NOCTTY:256,O_TRUNC:512,O_APPEND:1024,O_DIRECTORY:65536,O_NOATIME:262144,O_NOFOLLOW:131072,O_SYNC:1052672,O_DSYNC:4096,O_DIRECT:16384,O_NONBLOCK:2048,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_COPYFILE_EXCL:1,COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_FICLONE_FORCE:4},getOptionsWithEncodingCallback=function getOptionsWithEncodingCallback(options,callback){function throwOpts(){return new Error('The "options" argument must be one of type string or Object. Received type '+typeof options)}switch(typeof options){case'function':if(callback===false){throw throwOpts()}callback=options;options={callback:callback};break;case'undefined':options={callback:callback};break;case'string':options={encoding:options,callback:callback};break;case'object':options.callback=callback;break;default:throw throwOpts();}if(callback!==false&&typeof options.callback!=='function'){throw new Error('Callback must be a function. Received '+typeof options.callback)}options.__zipWrap_opts={binary:['utf8','utf-8'].indexOf(options.encoding)<0};options.__zipWrap_method=options.__zipWrap_opts.binary?'arraybuffer':'string';return options},getPromiserForOptionsWithEncodingCallback=function getPromiserForOptionsWithEncodingCallback(requester){var promiser=function(path,options){return new Promise(function(resolve,reject){options=getOptionsWithCallback(options,function(err,result){if(err)return reject(err);return resolve(result)});setTimeout(requester,0,path,options,options.callback)})};promiser.name=requester.name;return promiser},getOptionsWithCallback=function getOptionsWithCallback(options,callback){function throwOpts(){return new Error('The "options" argument must be one of type string or Object. Received type '+typeof options)}switch(typeof options){case'function':if(callback===false){throw throwOpts()}callback=options;options={callback:callback};break;case'undefined':options={callback:callback};break;case'object':options.callback=callback;break;default:throw throwOpts();}if(callback!==false&&typeof options.callback!=='function'){throw file.error(new Error('Callback must be a function. Received '+typeof options.callback),'ERR_INVALID_CALLBACK')}return options},getPromiserForOptionsWithCallback=function getPromiserForOptionsWithCallback(requester){var promiser=function(path,options){return new Promise(function(resolve,reject){options=getOptionsWithCallback(options,function(err,result){if(err)return reject(err);return resolve(result)});setTimeout(requester,0,path,options,options.callback)})};promiser.name=requester.name;return promiser},getFlagsWithCallback=function getFlagsWithCallback(flags,callback){function throwOpts(){return new Error('The "flags" argument must be number. Received type '+typeof options)}var options={callback:callback};switch(typeof flags){case'function':if(callback===false){throw throwOpts()}callback=flags;options.callback=callback;break;case'number':options.COPYFILE_EXCL=(flags&fs_constants.COPYFILE_EXCL)!==0;break;default:throw throwOpts();}if(callback!==false&&typeof options.callback!=='function'){throw file.error(new Error('Callback must be a function. Received '+typeof options.callback),'ERR_INVALID_CALLBACK')}return options},getPromiserForCopyFile=function getPromiserForCopyFile(requester){var promiser=function(src,dest,flags){return new Promise(function(resolve,reject){var options=getFlagsWithCallback(flags,function(err,result){if(err)return reject(err);return resolve(result)});setTimeout(requester,0,src,dest,flags,options.callback)})};promiser.name=requester.name;return promiser},getPromiserForRename=function getPromiserForRename(requester){var promiser=function(oldName,newName){return new Promise(function(resolve,reject){setTimeout(requester,0,oldName,newName,function(err,result){if(err)return reject(err);return resolve(result)})})};promiser.name=requester.name;return promiser},getPromiserForCallback=function getPromiserForCallback(requester){var promiser=function(path){return new Promise(function(resolve,reject){setTimeout(requester,0,path,function(err,result){if(err)return reject(err);return resolve(result)})})};promiser.name=requester.name;return promiser},readdir=function readdir(path,options,callback){if(typeof options==='function'){callback=options;options={}}try{setTimeout(callback,0,null,wrapped.view_dir(path).get_listing(options&&options.recursive))}catch(err){return callback(err)}},readdirSync=function readdirSync(path,options){return wrapped.view_dir(path).get_listing(options&&options.recursive)},readFile=function readFile(path,options,callback){options=getOptionsWithEncodingCallback(options,callback);wrapped[options.__zipWrap_method][path](options.callback)},readFileSync=function readFileSync(path,options){options=getOptionsWithEncodingCallback(options,false);return wrapped[options.__zipWrap_method][path]()},writeFile=function writeFile(path,data,options,callback){options=getOptionsWithEncodingCallback(options,callback);wrapped[options.__zipWrap_method]=data;setTimeout(options.callback,0,null)},writeFileSync=function writeFileSync(path,data,options){options=getOptionsWithEncodingCallback(options,false);wrapped[options.__zipWrap_method]=data},mkdir=function mkdir(path,options,callback){options=getOptionsWithCallback(options,callback);if(options.recursive){wrapped.mkdirp(path,options.callback)}else{wrapped.mkdir(path,options.callback)}},mkdirSync=function mkdirSync(path,options){options=getOptionsWithCallback(options,false);if(options.recursive){wrapped.mkdirp(path)}else{wrapped.mkdir(path)}},exists=function exists(path,callback){return wrapped.exists(path,callback)},existsSync=function exists(path){return wrapped.exists(path)},rmdir=function rmdir(path,options,callback){options=getOptionsWithCallback(options,callback);if(options.recursive){wrapped.rm(path,options.callback)}else{wrapped.rmdir(path,options.callback)}},rmdirSync=function rmdir(path,options){options=getOptionsWithCallback(options,false);if(options.recursive){wrapped.rm(path)}else{wrapped.rmdir(path)}},unlink=function unlink(path,callback){wrapped.rm(path,callback)},unlinkSync=function unlinkSync(path){wrapped.rm(path)},stat=function stat(path,options,callback){options=getOptionsWithCallback(options,callback);return wrapped.stat(path,options.callback)},statSync=function stat(path,options){options=getOptionsWithCallback(options,false);return wrapped.stat(path)},appendFile=function appendFile(path,data,options,callback){options=getOptionsWithEncodingCallback(options,callback);wrapped.string[path](function(err,existingData){if(err)return options.callback(err);if(options.__zipWrap_method!=='string'){data=ab2str(data)}wrapped.string[path]=existingData+data;options.callback()})},appendFileSync=function appendFileSync(path,data,options){options=getOptionsWithEncodingCallback(options,false);if(options.__zipWrap_method!=='string'){data=ab2str(data)}wrapped.string[path]=wrapped.string[path]()+data},rename=function rename(oldPath,newPath,callback){return wrapped.mv(oldPath,newPath,callback)},renameSync=function renameSync(oldPath,newPath){return wrapped.mv(oldPath,newPath)},copyFile=function copyFile(src,dest,flags,callback){var options=getFlagsWithCallback(flags,callback);if(options.COPYFILE_EXCL&&wrapped.exists(dest)){return options.callback(new Error(dest+' exists (options.COPYFILE_EXCL set)'))}return wrapped.cp(src,dest,options.callback)},copyFileSync=function copyFileSync(src,dest,flags){var options=getFlagsWithCallback(flags,false);if(options.COPYFILE_EXCL&&wrapped.exists(dest)){throw new Error(dest+' exists (options.COPYFILE_EXCL set)')}return wrapped.cp(src,dest)},watching={},watch=function watch(filename,options,listener){return wrapped.addWatcher(filename,options,function(a,b){listener(a,b)})},watchFile=function watchFile(filename,options,listener){if(typeof options==='function'){listener=options;options={interval:5007}}watchFile.watchers=watchFile.watchers||{};var watchers=watchFile.watchers[filename]||[];watchFile.watchers[filename]=watchers;wrapped.stat(filename,function(err,firstStat){var prev=firstStat;listener.watcher=wrapped.addWatcher(filename,options,function(a,b,curr){listener(curr,prev);prev=curr});watchers.push(listener)})},unwatchFile=function unwatchFile(filename,listener){if(watchFile.watchers){var watchers=watchFile.watchers[filename];if(watchers){if(listener){if(listener.watcher){listener.watcher.close();delete listener.watcher}var index=watchers.indexOf(listener);if(index>=0)watchers.splice(index,1);if(watchers.length===0){delete watchFile.watchers[filename]}}else{// remove all listeners
while(watchers.length>0){var list=watchers.shift();if(list.watcher){list.watcher.close();delete list.watcher}}delete watchFile.watchers[filename]}}}},tests=function(cb){console.log({testing_with:wrapped.view_dir('/',true).listing});test_mkdir(function(){console.log('test_mkdir passes');test_mkdirSync();console.log('test_mkdirSync passes');test_exists(function(){console.log('test_exists passes');test_existsSync();console.log('test_existsSync passes');test_rmdir(function(){console.log('test_rmdir passes');test_readFile(function(){console.log('test_readFile passes');test_writeFile(function(){console.log('test_writeFile passes');cb()})})})})});try{readFileSync('/jszip_test/hello-world.txt','utf8')}catch(e){console.log(e.message)}function test_mkdirSync(){mkdirSync('newdir');mkdirSync('newdir/more/paths/here',{recursive:true});var erred;try{mkdirSync('badroot/more/paths/here');erred=new Error('non recursive deep shoukd have failed')}catch(e){}if(erred){throw erred}try{mkdirSync('newdir');erred=new Error('already exist should have failed')}catch(e){}if(erred){throw erred}try{mkdirSync('/');erred=new Error('/ should have failed')}catch(e){}if(erred){throw erred}}function test_mkdir(cb){mkdir('newdir2',function(err){if(err){throw err}mkdir('newdir2',function(err){if(!err){throw new Error('already exist should have failed')}mkdir('newdir2/more/paths/here',{recursive:true},function(err){if(err){throw err}mkdir('badroot/more/paths/here',function(err){if(!err){throw new Error('non recursive deep shoukd have failed')}setTimeout(cb,1)})})})})}function test_exists(cb){exists('thisshouldnotexist',function(EXISTS){if(EXISTS){throw new Error('file should not exist')}exists('.',function(EXISTS){if(!EXISTS){throw new Error('file . should exist')}exists('/',function(EXISTS){if(!EXISTS){throw new Error('file / should exist')}exists('newdir',function(EXISTS){if(!EXISTS){throw new Error('file newdir should exist')}exists('newdir2/more/paths/here',function(EXISTS){if(!EXISTS){throw new Error('file newdir2/more/paths/here should exist')}exists('badroot/more/paths/here',function(EXISTS){if(EXISTS){throw new Error('file badroot/more/paths/here should not exist')}setTimeout(cb,1)})})})})})})}function test_existsSync(){if(existsSync('thisshouldnotexist')){throw new Error('file should not exist')}if(!existsSync('.')){throw new Error('file . should exist')}if(!existsSync('/')){throw new Error('file / should exist')}if(!existsSync('newdir')){throw new Error('file newdir should exist')}if(!existsSync('newdir2/more/paths/here')){throw new Error('file newdir2/more/paths/here should exist')}if(existsSync('badroot/more/paths/here')){throw new Error('file badroot/more/paths/here should not exist')}}function test_rmdir(cb){rmdir('this-path-should-not-exist',function(err){if(!err){throw new Error('rmdir on non existant path shoud fail')}rmdir('newdir',function(err){if(!err){throw new Error('rmdir on non empty path should fail')}rmdir('newdir2/more/paths/here',function(err){if(!err){throw new Error('rmdir on deep path - non recursive should have failed')}rmdir('newdir2/more/paths',{recursive:true},function(err){if(err){throw new Error('recursive rmdir failed')}setTimeout(cb,1)})})})})}function test_readFile(cb){readFile('jszip_test/hello-world.txt','utf8',function(err,data){if(err)throw err;if(data.trim()!=='hello world')throw'readFile test 1 failed';readFile('./jszip_test/hello-world.txt','utf8',function(err,data){if(err)throw err;if(data.trim()!=='hello world')throw'readFile test 2 failed';readFile('jszip_test/hello-world.txt','utf-8',function(err,data){if(err)throw err;if(data.trim()!=='hello world')throw'readFile test 3 failed';readFile('./jszip_test/hello-world.txt','utf-8',function(err,data){if(err)throw err;if(data.trim()!=='hello world')throw'readFile test 4 failed';readFile('/jszip_test/hello-world.txt','utf8',function(err,data){if(err)throw err;if(data.trim()!=='hello world')throw'readFile test 5 failed';readFile('/jszip_test/hello-world.txt','utf-8',function(err,data){if(err)throw err;if(data.trim()!=='hello world')throw'readFile test 6 failed';readFile('jszip_test/subdir/under/the/main/directory/harry_potter.txt','utf-8',function(err,data){if(err)throw err;if(data.trim()!=='ok it should be under the stairs.')throw'readFile test 7 failed';setTimeout(cb,1)})})})})})})})}function test_writeFile(cb){console.log(readdirSync('/'));writeFile('test.txt','utf8','yeah',function(err){if(err)throw err;console.log(readdirSync('/'));cb(err)})}},fs={/*impl*/'appendFile':{'value':appendFile,'configurable':true,'enumerable':true},/*impl*/'appendFileSync':{'value':appendFileSync,'configurable':true,'enumerable':true},'access':{'value':function access(path,mode,callback){throw new Error('not implemented')},'configurable':true,'enumerable':true},'accessSync':{'value':function accessSync(path,mode){throw new Error('not implemented')},'configurable':true,'enumerable':true},'chown':{'value':function chown(path,uid,gid,callback){throw new Error('not implemented')},'configurable':true,'enumerable':true},'chownSync':{'value':function chownSync(path,uid,gid){throw new Error('not implemented')},'configurable':true,'enumerable':true},'chmod':{'value':function chmod(path,mode,callback){throw new Error('not implemented')},'configurable':true,'enumerable':true},'chmodSync':{'value':function chmodSync(path,mode){throw new Error('not implemented')},'configurable':true,'enumerable':true},'close':{'value':function close(fd,callback){throw new Error('not implemented')},'configurable':true,'enumerable':true},'closeSync':{'value':function closeSync(fd){throw new Error('not implemented')},'configurable':true,'enumerable':true},/*impl*/'copyFile':{'value':copyFile,'configurable':true,'enumerable':true},/*impl*/'copyFileSync':{'value':copyFileSync,'configurable':true,'enumerable':true},'createReadStream':{'value':function createReadStream(path,options){throw new Error('not implemented')},'configurable':true,'enumerable':true},'createWriteStream':{'value':function createWriteStream(path,options){throw new Error('not implemented')},'configurable':true,'enumerable':true},/*impl*/'exists':{'value':exists,'configurable':true,'enumerable':true},/*impl*/'existsSync':{'value':existsSync,'configurable':true,'enumerable':true},'fchown':{'value':function fchown(fd,uid,gid,callback){throw new Error('not implemented')},'configurable':true,'enumerable':true},'fchownSync':{'value':function fchownSync(fd,uid,gid){throw new Error('not implemented')},'configurable':true,'enumerable':true},'fchmod':{'value':function fchmod(fd,mode,callback){throw new Error('not implemented')},'configurable':true,'enumerable':true},'fchmodSync':{'value':function fchmodSync(fd,mode){throw new Error('not implemented')},'configurable':true,'enumerable':true},'fdatasync':{'value':function fdatasync(fd,callback){throw new Error('not implemented')},'configurable':true,'enumerable':true},'fdatasyncSync':{'value':function fdatasyncSync(fd){throw new Error('not implemented')},'configurable':true,'enumerable':true},'fstat':{'value':function fstat(fd,options,callback){throw new Error('not implemented')},'configurable':true,'enumerable':true},'fstatSync':{'value':function fstatSync(fd,options={}){throw new Error('not implemented')},'configurable':true,'enumerable':true},'fsync':{'value':function fsync(fd,callback){throw new Error('not implemented')},'configurable':true,'enumerable':true},'fsyncSync':{'value':function fsyncSync(fd){throw new Error('not implemented')},'configurable':true,'enumerable':true},'ftruncate':{'value':function ftruncate(fd,len,callback){throw new Error('not implemented')},'configurable':true,'enumerable':true},'ftruncateSync':{'value':function ftruncateSync(fd,len=0){throw new Error('not implemented')},'configurable':true,'enumerable':true},'futimes':{'value':function futimes(fd,atime,mtime,callback){throw new Error('not implemented')},'configurable':true,'enumerable':true},'futimesSync':{'value':function futimesSync(fd,atime,mtime){throw new Error('not implemented')},'configurable':true,'enumerable':true},'lchown':{'value':function lchown(path,uid,gid,callback){throw new Error('not implemented')},'configurable':true,'enumerable':true},'lchownSync':{'value':function lchownSync(path,uid,gid){throw new Error('not implemented')},'configurable':true,'enumerable':true},'link':{'value':function link(existingPath,newPath,callback){throw new Error('not implemented')},'configurable':true,'enumerable':true},'linkSync':{'value':function linkSync(existingPath,newPath){throw new Error('not implemented')},'configurable':true,'enumerable':true},'lstat':{'value':function lstat(path,options,callback){throw new Error('not implemented')},'configurable':true,'enumerable':true},'lstatSync':{'value':function lstatSync(path,options={}){throw new Error('not implemented')},'configurable':true,'enumerable':true},/*impl*/'mkdir':{'value':mkdir,'configurable':true,'enumerable':true},/*impl*/'mkdirSync':{'value':mkdirSync,'configurable':true,'enumerable':true},'mkdtemp':{'value':function mkdtemp(prefix,options,callback){throw new Error('not implemented')},'configurable':true,'enumerable':true},'mkdtempSync':{'value':function mkdtempSync(prefix,options){throw new Error('not implemented')},'configurable':true,'enumerable':true},'open':{'value':function open(path,flags,mode,callback){throw new Error('not implemented')},'configurable':true,'enumerable':true},'openSync':{'value':function openSync(path,flags,mode){throw new Error('not implemented')},'configurable':true,'enumerable':true},'opendir':{'value':function opendir(path,options,callback){throw new Error('not implemented')},'configurable':true,'enumerable':true},'opendirSync':{'value':function opendirSync(path,options){throw new Error('not implemented')},'configurable':true,'enumerable':true},/*impl*/'readdir':{'value':readdir,'configurable':true,'enumerable':true},/*impl*/'readdirSync':{'value':readdirSync,'configurable':true,'enumerable':true},'read':{'value':function read(fd,buffer,offset,length,position,callback){throw new Error('not implemented')},'configurable':true,'enumerable':true},'readSync':{'value':function readSync(fd,buffer,offset,length,position){throw new Error('not implemented')},'configurable':true,'enumerable':true},/*impl*/'readFile':{'value':readFile,'configurable':true,'enumerable':true},/*impl*/'readFileSync':{'value':readFileSync,'configurable':true,'enumerable':true},'readlink':{'value':function readlink(path,options,callback){throw new Error('not implemented')},'configurable':true,'enumerable':true},'readlinkSync':{'value':function readlinkSync(path,options){throw new Error('not implemented')},'configurable':true,'enumerable':true},'realpath':{'value':function realpath(p,options,callback){throw new Error('not implemented')},'configurable':true,'enumerable':true},'realpathSync':{'value':function realpathSync(p,options){throw new Error('not implemented')},'configurable':true,'enumerable':true},'rename':{'value':rename,'configurable':true,'enumerable':true},'renameSync':{'value':renameSync,'configurable':true,'enumerable':true},'rmdir':{'value':rmdir,'configurable':true,'enumerable':true},'rmdirSync':{'value':rmdirSync,'configurable':true,'enumerable':true},/*impl*/'stat':{'value':stat,'configurable':true,'enumerable':true},/*impl*/'statSync':{'value':statSync,'configurable':true,'enumerable':true},'symlink':{'value':function symlink(target,path,type_,callback_){throw new Error('not implemented')},'configurable':true,'enumerable':true},'symlinkSync':{'value':function symlinkSync(target,path,type){throw new Error('not implemented')},'configurable':true,'enumerable':true},'truncate':{'value':function truncate(path,len,callback){throw new Error('not implemented')},'configurable':true,'enumerable':true},'truncateSync':{'value':function truncateSync(path,len){throw new Error('not implemented')},'configurable':true,'enumerable':true},/*impl*/'unwatchFile':{'value':unwatchFile,'configurable':true,'enumerable':true},/*impl*/'unlink':{'value':unlink,'configurable':true,'enumerable':true},/*impl*/'unlinkSync':{'value':unlinkSync,'configurable':true,'enumerable':true},'utimes':{'value':function utimes(path,atime,mtime,callback){throw new Error('not implemented')},'configurable':true,'enumerable':true},'utimesSync':{'value':function utimesSync(path,atime,mtime){throw new Error('not implemented')},'configurable':true,'enumerable':true},'watch':{'value':watch,'configurable':true,'enumerable':true},'watchFile':{'value':watchFile,'configurable':true,'enumerable':true},/*impl*/'writeFile':{'value':writeFile,'configurable':true,'enumerable':true},/*impl*/'writeFileSync':{'value':writeFileSync,'configurable':true,'enumerable':true},'write':{'value':function write(fd,buffer,offset,length,position,callback){throw new Error('not implemented')},'configurable':true,'enumerable':true},'writeSync':{'value':function writeSync(fd,buffer,offset,length,position){throw new Error('not implemented')},'configurable':true,'enumerable':true},'writev':{'value':function writev(fd,buffers,position,callback){throw new Error('not implemented')},'configurable':true,'enumerable':true},'writevSync':{'value':function writevSync(fd,buffers,position){throw new Error('not implemented')},'configurable':true,'enumerable':true},'Dir':{'value':function Dir(handle,path,options){throw new Error('not implemented')},'configurable':true,'enumerable':true},'Dirent':{'value':function Dirent(name,type){throw new Error('not implemented')},'configurable':true,'enumerable':true},'Stats':{'value':function Stats(dev,mode,nlink,uid,gid,rdev,blksize,ino,size,blocks,atimeMs,mtimeMs,ctimeMs,birthtimeMs){throw new Error('not implemented')},'configurable':true,'enumerable':true},'ReadStream':{'value':function ReadStream(path,options){throw new Error('not implemented')},'configurable':true,'enumerable':true},'WriteStream':{'value':function WriteStream(path,options){throw new Error('not implemented')},'configurable':true,'enumerable':true},'FileReadStream':{'value':function FileReadStream(path,options){throw new Error('not implemented')},'configurable':true,'enumerable':true},'FileWriteStream':{'value':function FileWriteStream(path,options){throw new Error('not implemented')},'configurable':true,'enumerable':true},'_toUnixTimestamp':{'value':function _toUnixTimestamp(time,name='time'){var __native=function toUnixTimestamp(time,name='time'){// eslint-disable-next-line eqeqeq
if(typeof time==='string'&&+time==time){return+time}if(Number.isFinite(time)){if(time<0){return Date.now()/1000}return time}if(isDate(time)){// Convert to 123.456 UNIX timestamp
return time.getTime()/1000}throw new ERR_INVALID_ARG_TYPE(name,['Date','Time in seconds'],time)}},'configurable':true,'enumerable':true},'promises':{'access':{'value':function access(path,mode=F_OK){throw new Error('not implemented')},'configurable':true,'enumerable':true},'copyFile':{'value':getPromiserForCopyFile(copyFile),'configurable':true,'enumerable':true},'open':{'value':function open(path,flags,mode){throw new Error('not implemented')},'configurable':true,'enumerable':true},'opendir':{'value':function opendir(...args){throw new Error('not implemented')},'configurable':true,'enumerable':true},'rename':{'value':getPromiserForRename(rename),'configurable':true,'enumerable':true},'truncate':{'value':function truncate(path,len=0){throw new Error('not implemented')},'configurable':true,'enumerable':true},'rmdir':{'value':getPromiserForOptionsWithCallback(rmdir),'configurable':true,'enumerable':true},'mkdir':{'value':getPromiserForOptionsWithCallback(mkdir),'configurable':true,'enumerable':true},'readdir':{'value':getPromiserForOptionsWithCallback(readdir),'configurable':true,'enumerable':true},'readlink':{'value':function readlink(path,options){throw new Error('not implemented')},'configurable':true,'enumerable':true},'symlink':{'value':function symlink(target,path,type_){throw new Error('not implemented')},'configurable':true,'enumerable':true},'lstat':{'value':function lstat(path,options={bigint:false}){throw new Error('not implemented')},'configurable':true,'enumerable':true},'stat':{'value':getPromiserForOptionsWithCallback(stat),'configurable':true,'enumerable':true},'link':{'value':function link(existingPath,newPath){throw new Error('not implemented')},'configurable':true,'enumerable':true},'unlink':{'value':getPromiserForCallback(unlink),'configurable':true,'enumerable':true},'chmod':{'value':function chmod(path,mode){throw new Error('not implemented')},'configurable':true,'enumerable':true},'lchmod':{'value':function lchmod(path,mode){throw new Error('not implemented')},'configurable':true,'enumerable':true},'lchown':{'value':function lchown(path,uid,gid){throw new Error('not implemented')},'configurable':true,'enumerable':true},'chown':{'value':function chown(path,uid,gid){throw new Error('not implemented')},'configurable':true,'enumerable':true},'utimes':{'value':function utimes(path,atime,mtime){throw new Error('not implemented')},'configurable':true,'enumerable':true},'realpath':{'value':function realpath(path,options){throw new Error('not implemented')},'configurable':true,'enumerable':true},'mkdtemp':{'value':function mkdtemp(prefix,options){throw new Error('not implemented')},'configurable':true,'enumerable':true},'writeFile':{'value':getPromiserForOptionsWithEncodingCallback(readFile),'configurable':true,'enumerable':true},'appendFile':{'value':function appendFile(path,data,options){throw new Error('not implemented')},'configurable':true,'enumerable':true},'readFile':{'value':getPromiserForOptionsWithEncodingCallback(readFile),'configurable':true,'enumerable':true}}};tests(function(){console.log('tests passed');cb({fs:Object.defineProperties({},fs),process:fs_process,wrapped:wrapped})})})}).catch(function(e){throw e})}return fs_JSZip}()})(typeof process+typeof module+typeof require==='objectobjectfunction'?[module,'exports']:[window,'fsJSZip']);/* fs_jszip-browser.min.js */
!function(x){x[0][x[1]]=function(url,cb){var self={ready:!1,fs:null,process:null};return window.JSZipUtils.getBinaryContent(url,function(err,data){if(err)return cb(err);window.fsJSZip(exports,data,window.zipWrap,window.JSZip,window.path,function(mod){self.fs=mod.fs,self.process=mod.process,self.ready=!0,cb(null,self.fs,self.process)})}),self}}(typeof process+typeof module+typeof require=="objectobjectfunction"?[module,"exports"]:[window,"startFSJSZip"]);/* extensions.js */
var inclusionsBegin,inclusionsEnd;!function(extensions,isNode){!function loadExtensions(e){"function"==typeof Object.polyfill?("boot"===e||isNode||window.removeEventListener("polyfills",loadExtensions),extensions(Object.polyfill),String.extensionsTest(Object.env.verbose),Object.notifyPollyfill("extensions.js","extensions")):"boot"!==e||isNode||window.addEventListener("polyfills",loadExtensions)}("boot")}(function(extend){var nodeExts,fs_extensions,Module_extensions,jsClass=Object.jsClass,isString=jsClass.getTest(""),cpArgs=Function.args;Object.env.isNode?require("util"):window.util?window.util:window.util=getUtil();function isEmpty(x){return 0<=[null,void 0].indexOf(x)||0===x.length||x.constructor===Object&&0===Object.keys(x).length}function getUtil(){return(dir={inherits:function(module){module.exports;return"function"==typeof Object.create?module.exports=function(ctor,superCtor){superCtor&&(ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}}))}:module.exports=function(ctor,superCtor){if(superCtor){ctor.super_=superCtor;function TempCtor(){}TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},module.exports}({exports:{}}),"is-generator-function":function(module){module.exports;var toStr=Object.prototype.toString,fnToStr=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,getProto=Object.getPrototypeOf,generatorFunc=function(){if(!hasToStringTag)return!1;try{return Function("return function*() {}")()}catch(e){}}(),GeneratorFunction=generatorFunc?getProto(generatorFunc):{};return module.exports=function(fn){return"function"==typeof fn&&(!!isFnRegex.test(fnToStr.call(fn))||(hasToStringTag?getProto(fn)===GeneratorFunction:"[object GeneratorFunction]"===toStr.call(fn)))},module.exports}({exports:{}}),"is-arguments":function(module){module.exports;function isStandardArguments(value){return!(hasToStringTag&&value&&"object"==typeof value&&Symbol.toStringTag in value)&&"[object Arguments]"===toStr.call(value)}function isLegacyArguments(value){return!!isStandardArguments(value)||null!==value&&"object"==typeof value&&"number"==typeof value.length&&0<=value.length&&"[object Array]"!==toStr.call(value)&&"[object Function]"===toStr.call(value.callee)}var hasToStringTag="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,toStr=Object.prototype.toString,supportsStandardArguments=function(){return isStandardArguments(arguments)}();return isStandardArguments.isLegacyArguments=isLegacyArguments,module.exports=supportsStandardArguments?isStandardArguments:isLegacyArguments,module.exports}({exports:{}}),"./isBuffer":function(module){module.exports;return module.exports=function(arg){return arg&&"object"==typeof arg&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8},module.exports}({exports:{}})})["./support/isBuffer"]=dir["./isBuffer"],function(module,require){var exports=module.exports,getOwnPropertyDescriptors=Object.getOwnPropertyDescriptors||function(obj){for(var keys=Object.keys(obj),descriptors={},i=0;i<keys.length;i++)descriptors[keys[i]]=Object.getOwnPropertyDescriptor(obj,keys[i]);return descriptors},formatRegExp=/%[sdj%]/g;exports.format=function(f){var i;if(!isString(f)){var objects=[];for(i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}i=1;for(var args=arguments,len=args.length,str=String(f).replace(formatRegExp,function(x){if("%%"===x)return"%";if(len<=i)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}break;default:return x}}),x=args[i];i<len;x=args[++i])isNull(x)||!isObject(x)?str+=" "+x:str+=" "+inspect(x);return str},exports.deprecate=function(fn,msg){if("undefined"!=typeof process&&!0===process.noDeprecation)return fn;if("undefined"==typeof process)return function(){return exports.deprecate(fn,msg).apply(this,arguments)};var warned=!1;return function(){if(!warned){if(process.throwDeprecation)throw new Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}};var debugs={},debugEnvRegex=/^$/;if("undefined"!=typeof process&&process.env&&process.env.NODE_DEBUG){var debugEnv=process.env.NODE_DEBUG;debugEnv=debugEnv.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),debugEnvRegex=new RegExp("^"+debugEnv+"$","i")}function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return 3<=arguments.length&&(ctx.depth=arguments[2]),4<=arguments.length&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str,styleType){return str}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=function(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");if(isNull(value))return ctx.stylize("null","null")}(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=function(array){var hash={};return array.forEach(function(val,idx){hash[val]=!0}),hash}(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(0<=keys.indexOf("message")||0<=keys.indexOf("description")))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var output,base="",array=!1,braces=["{","}"];if(isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}return isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0!==keys.length||array&&0!==value.length?recurseTimes<0?isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special"):(ctx.seen.push(value),output=array?function(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;i<l;++i)hasOwnProperty(value,String(i))?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),!0)):output.push("");return keys.forEach(function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}(ctx,value,recurseTimes,visibleKeys,keys):keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),function(output,base,braces){if(60<output.reduce(function(prev,cur){return 0<=cur.indexOf("\n")&&0,prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0))return braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1];return braces[0]+base+" "+output.join(", ")+" "+braces[1]}(output,base,braces)):braces[0]+base+braces[1]}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if((desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]}).get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(ctx.seen.indexOf(desc.value)<0?-1<(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1)).indexOf("\n")&&(str=array?str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\d+$/))return str;name=(name=JSON.stringify(""+key)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),ctx.stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ctx.stylize(name,"string"))}return name+": "+str}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}exports.debuglog=function(set){if(set=set.toUpperCase(),!debugs[set])if(debugEnvRegex.test(set)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},(exports.inspect=inspect).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.types=function(module){var exports=module.exports,isBuffer=require("./isBuffer"),isArgumentsObject=require("is-arguments"),isGeneratorFunction=require("is-generator-function");function uncurryThis(f){return f.call.bind(f)}var BigIntSupported="undefined"!=typeof BigInt,SymbolSupported="undefined"!=typeof Symbol,SymbolToStringTagSupported=SymbolSupported&&void 0!==Symbol.toStringTag,Uint8ArraySupported="undefined"!=typeof Uint8Array,ArrayBufferSupported="undefined"!=typeof ArrayBuffer;if(Uint8ArraySupported&&SymbolToStringTagSupported)var TypedArrayPrototype=Object.getPrototypeOf(Uint8Array.prototype),TypedArrayProto_toStringTag=uncurryThis(Object.getOwnPropertyDescriptor(TypedArrayPrototype,Symbol.toStringTag).get);var ObjectToString=uncurryThis(Object.prototype.toString),numberValue=uncurryThis(Number.prototype.valueOf),stringValue=uncurryThis(String.prototype.valueOf),booleanValue=uncurryThis(Boolean.prototype.valueOf);if(BigIntSupported)var bigIntValue=uncurryThis(BigInt.prototype.valueOf);if(SymbolSupported)var symbolValue=uncurryThis(Symbol.prototype.valueOf);function checkBoxedPrimitive(value,prototypeValueOf){if("object"!=typeof value)return!1;try{return prototypeValueOf(value),!0}catch(e){return!1}}function isTypedArray(value){return Uint8ArraySupported&&SymbolToStringTagSupported?void 0!==TypedArrayProto_toStringTag(value):isUint8Array(value)||isUint8ClampedArray(value)||isUint16Array(value)||isUint32Array(value)||isInt8Array(value)||isInt16Array(value)||isInt32Array(value)||isFloat32Array(value)||isFloat64Array(value)||isBigInt64Array(value)||isBigUint64Array(value)}function isUint8Array(value){return Uint8ArraySupported&&SymbolToStringTagSupported?"Uint8Array"===TypedArrayProto_toStringTag(value):"[object Uint8Array]"===ObjectToString(value)||isBuffer(value)&&void 0!==value.buffer}function isUint8ClampedArray(value){return Uint8ArraySupported&&SymbolToStringTagSupported?"Uint8ClampedArray"===TypedArrayProto_toStringTag(value):"[object Uint8ClampedArray]"===ObjectToString(value)}function isUint16Array(value){return Uint8ArraySupported&&SymbolToStringTagSupported?"Uint16Array"===TypedArrayProto_toStringTag(value):"[object Uint16Array]"===ObjectToString(value)}function isUint32Array(value){return Uint8ArraySupported&&SymbolToStringTagSupported?"Uint32Array"===TypedArrayProto_toStringTag(value):"[object Uint32Array]"===ObjectToString(value)}function isInt8Array(value){return Uint8ArraySupported&&SymbolToStringTagSupported?"Int8Array"===TypedArrayProto_toStringTag(value):"[object Int8Array]"===ObjectToString(value)}function isInt16Array(value){return Uint8ArraySupported&&SymbolToStringTagSupported?"Int16Array"===TypedArrayProto_toStringTag(value):"[object Int16Array]"===ObjectToString(value)}function isInt32Array(value){return Uint8ArraySupported&&SymbolToStringTagSupported?"Int32Array"===TypedArrayProto_toStringTag(value):"[object Int32Array]"===ObjectToString(value)}function isFloat32Array(value){return Uint8ArraySupported&&SymbolToStringTagSupported?"Float32Array"===TypedArrayProto_toStringTag(value):"[object Float32Array]"===ObjectToString(value)}function isFloat64Array(value){return Uint8ArraySupported&&SymbolToStringTagSupported?"Float64Array"===TypedArrayProto_toStringTag(value):"[object Float64Array]"===ObjectToString(value)}function isBigInt64Array(value){return Uint8ArraySupported&&SymbolToStringTagSupported?"BigInt64Array"===TypedArrayProto_toStringTag(value):"[object BigInt64Array]"===ObjectToString(value)}function isBigUint64Array(value){return Uint8ArraySupported&&SymbolToStringTagSupported?"BigUint64Array"===TypedArrayProto_toStringTag(value):"[object BigUint64Array]"===ObjectToString(value)}function isMapToString(value){return"[object Map]"===ObjectToString(value)}function isSetToString(value){return"[object Set]"===ObjectToString(value)}function isWeakMapToString(value){return"[object WeakMap]"===ObjectToString(value)}function isWeakSetToString(value){return"[object WeakSet]"===ObjectToString(value)}function isArrayBufferToString(value){return"[object ArrayBuffer]"===ObjectToString(value)}function isArrayBuffer(value){return"undefined"!=typeof ArrayBuffer&&(isArrayBufferToString.working?isArrayBufferToString(value):value instanceof ArrayBuffer)}function isDataViewToString(value){return"[object DataView]"===ObjectToString(value)}function isDataView(value){return"undefined"!=typeof DataView&&(isDataViewToString.working?isDataViewToString(value):value instanceof DataView)}function isSharedArrayBufferToString(value){return"[object SharedArrayBuffer]"===ObjectToString(value)}function isSharedArrayBuffer(value){return"undefined"!=typeof SharedArrayBuffer&&(isSharedArrayBufferToString.working?isSharedArrayBufferToString(value):value instanceof SharedArrayBuffer)}function isNumberObject(value){return checkBoxedPrimitive(value,numberValue)}function isStringObject(value){return checkBoxedPrimitive(value,stringValue)}function isBooleanObject(value){return checkBoxedPrimitive(value,booleanValue)}function isBigIntObject(value){return BigIntSupported&&checkBoxedPrimitive(value,bigIntValue)}function isSymbolObject(value){return SymbolSupported&&checkBoxedPrimitive(value,symbolValue)}return exports.isArgumentsObject=isArgumentsObject,exports.isGeneratorFunction=isGeneratorFunction,exports.isPromise=function(input){return"undefined"!=typeof Promise&&input instanceof Promise||null!==input&&"object"==typeof input&&"function"==typeof input.then&&"function"==typeof input.catch},exports.isArrayBufferView=function(value){if(ArrayBufferSupported&&ArrayBuffer.isView)return ArrayBuffer.isView(value);return isTypedArray(value)||isDataView(value)},exports.isTypedArray=isTypedArray,exports.isUint8Array=isUint8Array,exports.isUint8ClampedArray=isUint8ClampedArray,exports.isUint16Array=isUint16Array,exports.isUint32Array=isUint32Array,exports.isInt8Array=isInt8Array,exports.isInt16Array=isInt16Array,exports.isInt32Array=isInt32Array,exports.isFloat32Array=isFloat32Array,exports.isFloat64Array=isFloat64Array,exports.isBigInt64Array=isBigInt64Array,exports.isBigUint64Array=isBigUint64Array,isMapToString.working="undefined"!=typeof Map&&isMapToString(new Map),exports.isMap=function(value){return"undefined"!=typeof Map&&(isMapToString.working?isMapToString(value):value instanceof Map)},isSetToString.working="undefined"!=typeof Set&&isSetToString(new Set),exports.isSet=function(value){return"undefined"!=typeof Set&&(isSetToString.working?isSetToString(value):value instanceof Set)},isWeakMapToString.working="undefined"!=typeof WeakMap&&isWeakMapToString(new WeakMap),exports.isWeakMap=function(value){return"undefined"!=typeof WeakMap&&(isWeakMapToString.working?isWeakMapToString(value):value instanceof WeakMap)},isWeakSetToString.working="undefined"!=typeof WeakSet&&isWeakSetToString(new WeakSet),exports.isWeakSet=function(value){return isWeakSetToString(value)},isArrayBufferToString.working="undefined"!=typeof ArrayBuffer&&isArrayBufferToString(new ArrayBuffer),exports.isArrayBuffer=isArrayBuffer,isDataViewToString.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&isDataViewToString(new DataView(new ArrayBuffer(1),0,1)),exports.isDataView=isDataView,isSharedArrayBufferToString.working="undefined"!=typeof SharedArrayBuffer&&isSharedArrayBufferToString(new SharedArrayBuffer),exports.isSharedArrayBuffer=isSharedArrayBuffer,exports.isAsyncFunction=function(value){return"[object AsyncFunction]"===ObjectToString(value)},exports.isMapIterator=function(value){return"[object Map Iterator]"===ObjectToString(value)},exports.isSetIterator=function(value){return"[object Set Iterator]"===ObjectToString(value)},exports.isGeneratorObject=function(value){return"[object Generator]"===ObjectToString(value)},exports.isWebAssemblyCompiledModule=function(value){return"[object WebAssembly.Module]"===ObjectToString(value)},exports.isNumberObject=isNumberObject,exports.isStringObject=isStringObject,exports.isBooleanObject=isBooleanObject,exports.isBigIntObject=isBigIntObject,exports.isSymbolObject=isSymbolObject,exports.isBoxedPrimitive=function(value){return isNumberObject(value)||isStringObject(value)||isBooleanObject(value)||isBigIntObject(value)||isSymbolObject(value)},exports.isAnyArrayBuffer=function(value){return Uint8ArraySupported&&(isArrayBuffer(value)||isSharedArrayBuffer(value))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(method){Object.defineProperty(exports,method,{enumerable:!1,value:function(){throw new Error(method+" is not supported in userland")}})}),module.exports}({exports:{}}),exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=function(arg){return null===arg},exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=function(arg){return"symbol"==typeof arg},exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.types.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.types.isDate=isDate,exports.isError=isError,exports.types.isNativeError=isError,exports.isFunction=isFunction,exports.isPrimitive=function(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||void 0===arg},exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}exports.log=function(){console.log("%s - %s",function(){var d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin};var kCustomPromisifiedSymbol="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;return exports.promisify=function(original){if("function"!=typeof original)throw new TypeError('The "original" argument must be of type Function');if(kCustomPromisifiedSymbol&&original[kCustomPromisifiedSymbol]){var fn1=original[kCustomPromisifiedSymbol];if("function"!=typeof fn1)throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(fn1,kCustomPromisifiedSymbol,{value:fn1,enumerable:!1,writable:!1,configurable:!0}),fn1}function fn(){for(var promiseResolve,promiseReject,promise=new Promise(function(resolve,reject){promiseResolve=resolve,promiseReject=reject}),args=[],i=0;i<arguments.length;i++)args.push(arguments[i]);args.push(function(err,value){err?promiseReject(err):promiseResolve(value)});try{original.apply(this,args)}catch(err){promiseReject(err)}return promise}return Object.setPrototypeOf(fn,Object.getPrototypeOf(original)),kCustomPromisifiedSymbol&&Object.defineProperty(fn,kCustomPromisifiedSymbol,{value:fn,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(fn,getOwnPropertyDescriptors(original))},exports.promisify.custom=kCustomPromisifiedSymbol,exports.callbackify=function(original){if("function"!=typeof original)throw new TypeError('The "original" argument must be of type Function');function callbackified(){for(var args=[],i=0;i<arguments.length;i++)args.push(arguments[i]);var maybeCb=args.pop();if("function"!=typeof maybeCb)throw new TypeError("The last argument must be of type Function");function cb(){return maybeCb.apply(self,arguments)}var self=this;original.apply(this,args).then(function(ret){process.nextTick(cb.bind(null,null,ret))},function(rej){process.nextTick(function(reason,cb){if(!reason){var newReason=new Error("Promise was rejected with a falsy value");newReason.reason=reason,reason=newReason}return cb(reason)}.bind(null,rej,cb))})}return Object.setPrototypeOf(callbackified,Object.getPrototypeOf(original)),Object.defineProperties(callbackified,getOwnPropertyDescriptors(original)),callbackified},module.exports}({exports:{}},function(file){return dir[file]});var dir}function stringifyPathNode(n){if(n.charAt(0)+n.charAt(n.length-1)!=='""')return"["+n+"]";n=n.replace(/\./g,"\\u002E").replace(/\\"/g,"\\u0022");var s,n2=(s=n).substr(1,s.length-2);return n2.split("").some(function(c,ix){return!("A"<=c&&c<="Z")&&(!("a"<=c&&c<="z")&&("0"<=c&&c<=9?0===ix:"_$".indexOf(c)<0))})?"["+n+"]":"."+n2}function stringifyPathArray(p){return p.map(JSON.stringify).map(stringifyPathNode).join("")}function parsePathString(p){var arr=[];return p.split("[").forEach(function(chunk){chunk.split("]").forEach(function(chunk){arr.push.apply(arr,chunk.split("."))})}),arr=arr.filter(function(chunk){return""!==chunk}).map(function(chunk){if('"'===chunk.charAt(0))return JSON.parse(chunk);var num=Number.parseInt(chunk);return isNaN(chunk)?chunk:num})}!function(){void 0===JSON.stringify_dates&&Object.defineProperties(JSON,{stringify_dates:{value:function(obj,replacer,spaces){if(void 0===Date.prototype.toJSON)return JSON.stringify(obj,replacer,spaces);try{return Date.JSON_off(),JSON.stringify(obj,replacer,spaces)}finally{Date.JSON_on()}}}});if("function"==typeof Date.JSON_off)return;var restore_Date_prototype_toJSON="function"==typeof Date.prototype.toJSON&&{toJSON:{value:Date.prototype.toJSON,enumerable:!1,configurable:!0,writable:!0}};Object.defineProperties(Date,{JSON_off:{enumerable:!1,configurable:!0,writable:!0,value:function(){restore_Date_prototype_toJSON&&delete Date.prototype.toJSON}},JSON_on:{enumerable:!1,configurable:!0,writable:!0,value:function(){restore_Date_prototype_toJSON&&Object.defineProperties(Date.prototype,restore_Date_prototype_toJSON)}}})}(),Object.env.isNode&&(fs_extensions=(nodeExts=require("./extensions-node-functions.js")).fs_extensions,Module_extensions=nodeExts.Module_extensions),extend(Object,function(object){object("isEmpty",isEmpty),object("varify",function(obj,var_,equals,comma,semi,indents,debug){function unquoted(s){return"*<<"+s+">>*"}function json_replacer(k,v){if("function"!=typeof v)return"object"==typeof v&&v.constructor===Date?unquoted("new Date("+v.getTime()+")"):"object"==typeof v&&v.constructor===RegExp?unquoted("new RegExp('"+v.source.replace(bsDetect,"\\")+"','"+v.flags+"')"):v;var id=fn_id_magic+"."+Object.keys(fns).length,header="anonymous"===v.name?"function (":"function "+v.name+"(",str=v.toString().replace(fn_cleanup_re,"").replace(fn_cleanup2_re,header);return fns[id]=str,unquoted("${"+id+"}")}var fn_id_magic="fn_"+Math.round(Math.random()*Number.MAX_SAFE_INTEGER).toString(36),fn_cleanup_re=new RegExp("(?<=function anonymous\\(.*)(\\n)(?=\\))","sg"),fn_cleanup2_re=new RegExp("(function anonymous\\()","sg"),fns={},deQuoteIn=/"\*<</g,deQuoteOut=/>>\*"/g,bsDetect=/\\/g,keys=Object.keys(obj).filter(function(key){return[null,void 0].indexOf(obj[key])<0}),html_script_fixups=[{source:"<",flags:"g",repWith:"\\u003c"},{source:">",flags:"g",repWith:"\\u003e"}];return 0===keys.length?"":(void 0===var_&&(var_="var "),void 0===equals&&(equals=" = "),void 0===comma&&(comma=",\n"),void 0===semi&&(semi=";"),indents=null===indents?void 0:4,var_+keys.map(function(key){debug&&console.log({fixup_object:key});function re_replacer(re){fixed=fixed.replace(new RegExp(re.source,re.flags),re.repWith)}var fixed=JSON.stringify_dates(obj[key],json_replacer,indents).replace(deQuoteIn,"").replace(deQuoteOut,"");return html_script_fixups.forEach(re_replacer),fixed=fixed.renderWithObject(fns),key+equals+fixed}).join(comma)+semi)}),object("scriptify",function(obj,name){var self={},proto={},selfKeys=Object.keys(obj),selfVars=selfKeys.filter(function(key){return"function"!=typeof obj[key]}),selfFns=selfKeys.filter(function(key){return"function"==typeof obj[key]});return selfVars.forEach(function(key){self[key]=obj[key];var FN=Function;proto[key]={get:new FN("    return "+key+";"),set:new FN("val","   "+key+"=val;"),enumerable:!0,configurable:!0}}),selfFns.forEach(function(key){proto[key]={value:obj[key],enumerable:!0,configurable:!0}}),(new Array(13).join(" ")+function(){return Object.defineProperties({self:"self"},proto)}.toString()).reindent(0).replace(/scriptified/,name).replace(/\{self:"self"\}/,(Object.varify(self,"{},",void 0,void 0,"")+Object.varify(proto,",\n\n/*properties*/\nproto={",":",",\n","}",null)).reindent(4).trim())}),object("keyCount",function(o){if(o!==Object(o))throw new TypeError("Object.keyCount called on a non-object");var p,c=0,isKey=Object.prototype.hasOwnProperty.bind(o);for(p in o)isKey(p)&&c++;return c}),object("removeKey",function(obj,k){var res=obj[k];if(void 0!==res)return delete obj[k],res}),object("replaceKey",function(obj,k,v){var res=obj[k];return obj[k]=v,res}),object("removeAllKeys",function(obj){var res=Object.keys(obj);return res.forEach(function(k){delete obj[k]}),res}),object("mergeKeys",function(obj1,obj2,keys,keep){return(keys=keys||Object.keys(obj2)).forEach(function(k){keep&&void 0!==obj1[k]||(obj1[k]=obj2[k])}),obj1}),object("subtractKeys",function(obj,keys,isObject){var res={};return(keys=isObject?Object.keys(keys):keys).forEach(function(k){obj[k]&&(res[k]=obj[k],delete obj[k])}),res}),object("iterateKeys",function(obj,fn){Object.keys(obj).some(function(k,i,ks){try{return fn(k,obj[k],i,ks),!1}catch(e){return!0}})});function iterator(o,cb,k,i,ks){var v=o[k];return cb.apply(o,[k,v,i,ks,o,typeof v])}function iterator2(o,cb,k,i,ks){var v=o[k];return cb.apply(o,[{key:k,value:v,index:i,keys:ks,obj:o,type:typeof v}])}object("keyLoop",function(obj,cb,m){return Object.keys(obj).forEach((m?iterator2:iterator).bind(obj,obj,cb))}),object("keyMap",function(obj,cb,m){return Object.keys(obj).map((m?iterator2:iterator).bind(obj,obj,cb))}),object("keyFilter",function(obj,cb,m){var r={},o=obj;return Object.keys(o).filter((m?iterator2:iterator).bind(o,o,cb)).forEach(function(k){r[k]=o[k]}),r});var ab_now=function(){if(Object.env.isNode){var perf_hooks=require("perf_hooks");return perf_hooks.performance.now.bind(perf_hooks.performance)}return"object"==typeof performance&&"function"==typeof performance.now?performance.now.bind(performance):Date.now.bind(Date)}();Object.a_b_test_logging=!1,object("a_b_test",function(obj,fn,trials,loops,mode){if(arguments.length<6)return!1;if("string"!=typeof fn)return!1;if(["number","undefined"].indexOf(typeof trials)<0)return!1;if(["number","undefined"].indexOf(typeof loops)<0)return!1;var THIS=!1,logging=Object.a_b_test_logging;if("object"==typeof obj)switch(mode){case!1:case!0:THIS=void 0;break;default:if(["function","undefined"].indexOf(typeof mode)<0){THIS=mode;break}obj.constructor===mode&&"function"==typeof mode&&(THIS=void 0)}if(!1===THIS)return!1;var config=Object.getOwnPropertyDescriptor(obj,fn);if(!config)return!1;if(!config.writable||!config.configurable)return!1;var native=obj[fn];if("function"!=typeof native)return!1;trials=trials||100,loops=loops||1;var fns=cpArgs(arguments).slice(5);if(fns.some(function(fn){return"function"!=typeof fn}))return!1;fns.push(native);function next_trial(){trials<=++count&&function(){for(var best=1/0,best_ix=-1,i=0;i<ab_count;i++)totals[i]<best&&(best=totals[i],best_ix=i);var average=totals[best_ix]/count;logging&&(console.log(totals.map(function(total,ix){return{name:fns[ix].name,total:Number(total.toFixed(3)),per_trial:Number((total/count).toFixed(3)),per_invoke:Number((total/(count*loops)).toFixed(4))}})),fns[best_ix]===native?console.log("reverting to native mode for",fn,"after",count,"tests",average,"average msec"):console.log("selected mode",String.fromCharCode(97+best_ix),"for",fn,"after",count,"tests",average,"average msec"));config.value=fns[best_ix],delete obj[fn],Object.defineProperty(obj,fn,config)}()}function next(inc){ab_count<=++a_b&&(a_b=0),inc&&next_trial()}var count=0,a_b=0,totals=fns.map(function(){return 0}),ab_count=fns.length,names=fns.map(function(x){return x.name}).join(",");config.value=logging?function(){var result,start,start_,finish,elapsed,compare,this_=THIS||this,do_loops=loops,args=cpArgs(arguments),err=1!==loops&&new Error("inconsistent results");try{if(start=ab_now(),result=fns[a_b].apply(this_,args),elapsed=(finish=ab_now())-start,totals[a_b]+=elapsed,1===do_loops)console.log("trial #"+count+": invoked",fns[a_b].name,args.length,"args returning",result,"took",elapsed.toFixed(3),"msec"),next(!0);else{for(start_=start,next(!1);0<--do_loops;){if(start=ab_now(),compare=fns[a_b].apply(this_,args),finish=ab_now(),result!==compare)throw err;elapsed=finish-start,totals[a_b]+=elapsed,next(!1)}elapsed=finish-start_,console.log("trial #"+count+": invoked",names,"(",args.length,"args)",loops,"times, returning",result,"took",elapsed.toFixed(3),"msec (",(elapsed/loops).toFixed(3),"msec per invoke)"),next_trial()}}catch(e){if(fns[a_b]!==native)return(obj[fn]=native).apply(this_,args);throw e}return result}:function(){var result,start,start_,finish,elapsed,compare,this_=THIS||this,do_loops=loops,args=cpArgs(arguments),err=1!==loops&&new Error("inconsistent results");try{if(start=ab_now(),result=fns[a_b].apply(this_,args),elapsed=(finish=ab_now())-start,totals[a_b]+=elapsed,1===do_loops)next(!0);else{for(start_=start,next(!1);0<--do_loops;){if(start=ab_now(),compare=fns[a_b].apply(this_,args),finish=ab_now(),result!==compare)throw err;elapsed=finish-start,totals[a_b]+=elapsed,next(!1)}elapsed=finish-start_,next_trial()}}catch(e){if(fns[a_b]!==native)return(obj[fn]=native).apply(this_,args);throw e}return result},delete obj[fn],Object.defineProperty(obj,fn,config)}),object("a_b_test_async",function(obj,fn,trials,mode){if(arguments.length<5)return!1;if("string"!=typeof fn)return!1;if(["number","undefined"].indexOf(typeof trials)<0)return!1;if(["number","undefined"].indexOf(typeof loops)<0)return!1;var THIS=!1,logging=Object.a_b_test_logging;if("object"==typeof obj)switch(mode){case!1:case!0:THIS=void 0;break;default:if(["function","undefined"].indexOf(typeof mode)<0){THIS=mode;break}obj.constructor===mode&&"function"==typeof mode&&(THIS=void 0)}if(!1===THIS)return!1;var config=Object.getOwnPropertyDescriptor(obj,fn);if(!config)return!1;if(!config.writable||!config.configurable)return!1;var native=obj[fn];if("function"!=typeof native)return!1;trials=trials||100;var fns=cpArgs(arguments).slice(4);if(fns.some(function(fn){return"function"!=typeof fn}))return!1;fns.push(native);function next_trial(){trials<=++count&&function(){for(var best=1/0,best_ix=-1,i=0;i<ab_count;i++)totals[i]<best&&(best=totals[i],best_ix=i);var average=totals[best_ix]/count;logging&&(console.log(totals.map(function(total,ix){return{name:fns[ix].name,total:Number(total.toFixed(3)),per_invoke:Number((total/count).toFixed(3))}})),fns[best_ix]===native?console.log("reverting to native mode for",fn,"after",count,"tests",average,"average msec"):console.log("selected mode",String.fromCharCode(97+best_ix),"for",fn,"after",count,"tests",average,"average msec"));config.value=fns[best_ix],delete obj[fn],Object.defineProperty(obj,fn,config)}()}var count=0,a_b=0,totals=fns.map(function(){return 0}),ab_count=fns.length,next=function(inc){ab_count<=++a_b&&(a_b=0),inc&&next_trial()};fns.map(function(x){return x.name}).join(",");config.value=logging?function(){var start,finish,elapsed,this_=THIS||this,args=cpArgs(arguments),cb=0<args.length&&"function"==typeof args[args.length-1]&&args[args.length-1];return cb?(args[args.length-1]=function(){finish=ab_now(),elapsed=finish-start,totals[a_b]+=elapsed,console.log("trial #"+count+": invoked",fns[a_b].name,args.length,"args returning",void 0,"took",elapsed.toFixed(3),"msec"),next(!0),cb.apply(this_,cpArgs(arguments))},start=ab_now(),fns[a_b].apply(this_,args)):function(args,this_){var result,start,elapsed;try{start=ab_now(),result=fns[a_b].apply(this_,args),elapsed=ab_now()-start,totals[a_b]+=elapsed,console.log("trial #"+count+": invoked",fns[a_b].name,args.length,"args returning",result,"took",elapsed.toFixed(3),"msec"),next(!0)}catch(e){if(fns[a_b]!==native)return(obj[fn]=native).apply(this_,args);throw e}return result}(args,this_)}:function(){var start,finish,elapsed,this_=THIS||this,args=cpArgs(arguments),cb=0<args.length&&"function"==typeof args[args.length-1]&&args[args.length-1];return cb?(args[args.length-1]=function(){finish=ab_now(),elapsed=finish-start,totals[a_b]+=elapsed,next(!0),cb.apply(this_,cpArgs(arguments))},start=ab_now(),fns[a_b].apply(this_,args)):function(args,this_){var result,start,elapsed;try{start=ab_now(),result=fns[a_b].apply(this_,args),elapsed=ab_now()-start,totals[a_b]+=elapsed,next(!0)}catch(e){if(fns[a_b]!==native)return(obj[fn]=native).apply(this_,args);throw e}return result}(args,this_)},delete obj[fn],Object.defineProperty(obj,fn,config)}),object("a_b_test_tester",function(loops,quick){loops=loops||1;var logging_backup=Object.a_b_test_logging;Object.a_b_test_logging=!0;var String_prototype_indexOf=String.prototype.indexOf,sample=quick?"the quick brown fox jumps over the lazy dog":require("fs").readFileSync("./words.txt","utf8"),indexOfC_lookups=function(sep){var d={},c=0;console.log("preparing lookups...");for(var r,k,sampleSet=sample.split(sep),max=Math.min(25e3,sampleSet.length);c<max;)(k=sampleSet[r=Math.floor(Math.random()*sampleSet.length)])&&(sampleSet[r]=null,d[k=k.trim()]=sample.indexOf(k),++c%500==0&&(sampleSet=sampleSet.filter(function(x){return null!==x}),console.log("added",c,"random words, just added  [",k.padStart(20),"]",(c/(max/100)).toFixed(1),"% complete")));var keys=Object.keys(d),first=keys.shift(),last=keys.pop();return keys.splice(0,keys.length),console.log("prepared",c,"lookups",first,"thru",last),d}(quick?" ":"\n");function indexOf_a(str){for(var c=this.length,l=str.length,i=0;i<c;i++)if(this.substr(i,l)===str)return i;return-1}function indexOf_b(str){for(var c=this.length,i=(str.length,0);i<c;i++)if(this.substr(i).startsWith(str))return i;return-1}function indexOf_c(str){var x=indexOfC_lookups[str];return void 0===x&&(x=String_prototype_indexOf.call(this,str)),x}Object.a_b_test(String.prototype,"indexOf",10,loops,String,indexOf_a,indexOf_b,indexOf_c);for(var i=0;i<10;i++)sample.indexOf("fox"),sample.indexOf("jumps"),sample.indexOf("notFound"),sample.indexOf("abacinate"),sample.indexOf("dog"),sample.indexOf("lazy"),sample.indexOf("quick"),sample.indexOf("zebra"),sample.indexOf("the");var tester={test:function(a,b){return a.indexOf(b)}};for(Object.a_b_test(tester,"test",10,loops,!1,function(a,b){return indexOf_a.call(a,b)},function(a,b){return indexOf_b.call(a,b)},function(a,b){return indexOf_c.call(a,b)}),i=0;i<10;i++)tester.test(sample,"fox"),tester.test(sample,"jumps"),tester.test(sample,"notFound"),tester.test(sample,"abacinate"),tester.test(sample,"dog"),tester.test(sample,"lazy"),tester.test(sample,"quick"),tester.test(sample,"zebra"),tester.test(sample,"the");var tester2={test:sample.indexOf};for(Object.a_b_test(tester2,"test",10,loops,sample,indexOf_a,indexOf_b,indexOf_c),i=0;i<10;i++)tester2.test("fox"),tester2.test("jumps"),tester2.test("notFound"),tester2.test("abacinate"),tester2.test("dog"),tester2.test("lazy"),tester2.test("quick"),tester2.test("zebra"),tester2.test("the");var tester3={data:sample};for(Object.defineProperties(tester3,{test:{value:function(str){return this.data.indexOf(str)},configurable:!0,writable:!0},test_a:{value:function(str){return indexOf_a.call(this.data,str)}},test_b:{value:function(str){return indexOf_b.call(this.data,str)}},test_c:{value:function(str){return indexOf_c.call(this.data,str)}}}),Object.a_b_test(tester3,"test",10,loops,!0,tester3.test_a,tester3.test_b,tester3.test_c),i=0;i<10;i++)tester3.test("fox"),tester3.test("jumps"),tester3.test("notFound"),tester3.test("abacinate"),tester3.test("dog"),tester3.test("lazy"),tester3.test("quick"),tester3.test("zebra"),tester3.test("the");Object.a_b_test_logging=logging_backup}),object("a_b_test_async_tester",function(trials){trials=trials||10;var logging_backup=Object.a_b_test_logging;Object.a_b_test_logging=!0;var fs=require("fs"),readFileNative=fs.readFile.bind(fs);function readFile_a(){var delay=Math.floor(100+900*Math.random()),args=[readFileNative,delay].concat(cpArgs(arguments));return setTimeout.apply(global,args)}var count=trials+10;function afterRead(err,data){console.log({afterRead:{err:err,data:typeof data,length:data?data.length:void 0,count:count}}),!err&&0<data.indexOf("fs.readFile")?0<count--?(console.log("looping"),fs.readFile(__filename,"utf8",afterRead)):Object.a_b_test_logging=logging_backup:console.log("???")}fs.readFile(__filename,"utf8",function(err,data){console.log({err:err,data:typeof data,length:data?data.length:void 0}),!err&&0<data.indexOf("fs.readFile")&&(console.log("native fs.readFile looks ok"),readFile_a(__filename,"utf8",function(err,data){console.log({readFile_a:{err:err,data:typeof data,length:data?data.length:void 0}}),!err&&0<data.indexOf("fs.readFile")&&(console.log("delayed fs.readFile stub looks ok"),Object.a_b_test_async(fs,"readFile",trials,!0,readFile_a.bind(fs)),fs.readFile(__filename,"utf8",afterRead))}))})})}),extend(Array,function(array){array.prototype("remove",function(o){for(var ix;0<=(ix=this.indexOf(o));)this.splice(ix,1)}),array.prototype("contains",function(o){return 0<=this.lastIndexOf(o)}),array.prototype("add",function(o){this.indexOf(o)<0&&this.push(o)}),array.prototype("toggle",function(o){var ix,result=(ix=this.indexOf(o))<0;if(result)this.push(o);else for(;0<=ix;)this.splice(ix,1),ix=this.indexOf(o);return result}),array.prototype("replace",function(oldValue,newValue){if(oldValue&&oldValue!==newValue)for(var ix;0<=(ix=this.indexOf(oldValue));)this.splice(ix,1,newValue)}),array.prototype("item",function(ix){return this[ix]}),array("flattenArray",function(input,fn_bind_context,minArgs){function getValues(x,ix){switch(jsClass(x)){case"String":case"RegExp":return output.push(x);case"Array":return has_objects=!0,output.push.apply(output,x);case"Object":return has_objects=!0,output.push.apply(output,Object.values(x));case"Number":return output.push(x.toString());case"Function":if(fn_bind_context&&(1===x.length||x.length>=(minArgs||1))&&0<=Object.keys(x).length){var bound_fns=[];return Object.keys(x).forEach(function(k){Array.flattenArray(x[k],fn_bind_context,minArgs).forEach(function(term,term_ix){var fn_x=1===x.length?x(term):x.bind(fn_bind_context,term);Object.defineProperties(fn_x,{name:{value:("fn "+x.name+" "+k+" "+term+" "+(0===term_ix?"":" "+term_ix.toString(36))).split(" ").map(function(camel,ix){return 0===ix?camel.toLowerCase():camel.charAt(0).toUpperCase()+camel.substr(1).toLowerCase()}).join("")}}),bound_fns.push(fn_x)})}),output.push.apply(output,bound_fns)}return output.push(x)}}var output=[],has_objects=!1;for(getValues(input);has_objects;)input=output,has_objects=!(output=[]),input.forEach(getValues);return output}),array("flattenArrayWithPaths",function(input){var save_dir,output=[],paths=[],dir=[],getValues=function(x,ix){var here=void 0===ix?[]:[ix];switch(jsClass(x)){case"String":case"RegExp":return paths.push(dir.concat(here)),output.push(x);case"Array":return dir=(save_dir=dir).concat(here),x.forEach(getValues),void(dir=save_dir);case"Object":return dir=(save_dir=dir).concat(here),Object.keys(x).forEach(function(key){return getValues(x[key],key)}),void(dir=save_dir);case"Number":return paths.push(dir.concat(here)),output.push(x.toString())}};return getValues(input),{arr:output,paths:paths.map(stringifyPathArray)}}),array("followArrayPath",function(arr,path){return parsePathString(path).some(function(p){return!(arr=arr[p])}),arr}),array("setArrayPath",function(arr,path,value){return parsePathString(path).some(function(p,ix,keys){if(arr[p]){if(ix+1===keys.length)return arr[p]=value,!0}else{if(!(ix+1<keys.length))return arr[p]=value,!0;"string"==typeof keys[ix+1]?arr[p]={}:arr[p]=[]}return arr=arr[p],!1}),arr}),array.prototype("atPath",function(path){return Array.followArrayPath(this,path)}),array("proxifyArray",function(wrapped,console){wrapped="object"==typeof wrapped&&wrapped.constructor===Array?wrapped:"string"==typeof wrapped&&2<wrapped.length&&"["===wrapped.charAt(0)&&"]"===wrapped.substr(-1)?JSON.parse(wrapped):[];var sysConsole=console||{log:function(){}};console=sysConsole;function event_cmd(fn){event_props[fn.name]={value:fn,enumerable:!1,configurable:!0}}var events={push:[],pop:[],shift:[],unshift:[],splice:[]},event_props={};event_cmd(function(){console={log:function(){}}}),event_cmd(function(con){console=con||sysConsole}),event_cmd(function(ev,fn){"function"==typeof fn&&"object"==typeof events[ev]&&events[ev].indexOf(fn)<0&&events[ev].push(fn)}),event_cmd(function(ev,fn){if("function"==typeof fn&&"object"==typeof events[ev]){var ix=events[ev].indexOf(fn);0<=ix&&(console.log("removing event",ev),events[ev].splice(ix,1))}else"all"===fn&&"object"==typeof events[ev]?(console.log("removing",events[ev].length,"events from",ev),events[ev].splice(0,events[ev].length)):"all"===ev&&void 0===fn&&Object.keys(events).forEach(function(ev){console.log("removing",events[ev].length,"events from",ev),events[ev].splice(0,events[ev].length)})});var hookEventProp,wrapped_props,handlers={},original_props={hook:{value:function(){return delete wrapped.hook,delete wrapped.unhook,Object.defineProperties(wrapped,wrapped_props),wrapped},enumerable:!1,configurable:!0},unhook:{value:function(){return wrapped},enumerable:!1,configurable:!0}};wrapped_props={hook:{value:function(){return wrapped},enumerable:!1,configurable:!0},unhook:{value:function(){return delete wrapped.hook,delete wrapped.unhook,Object.defineProperties(wrapped,original_props),wrapped},enumerable:!1,configurable:!0}};return hookEventProp=function(ev){handlers[ev]={apply:function(ev,target,thisArg,argumentsList){var payload={event:ev,target:target};return payload[ev]={wrapped:wrapped,thisArg:thisArg,argumentsList:argumentsList,result:target.apply(wrapped,argumentsList)},events[ev].length?events[ev].forEach(function(fn){fn(payload)}):events.change.length?events.change.forEach(function(fn){fn(payload)}):console.log({event:payload}),payload[ev].result}.bind(this,ev)},original_props[ev]={value:wrapped[ev],enumerable:!1,configurable:!0},wrapped_props[ev]={value:new Proxy(original_props[ev].value,handlers[ev]),enumerable:!1,configurable:!0}},Object.keys(events).forEach(hookEventProp),events.change=[],Object.defineProperties(wrapped,wrapped_props),Object.defineProperties(wrapped,event_props),wrapped}),array.prototype("proxify",function(){return Array.proxifyArray(this)}),array.prototype("renderWithTemplate",function(template){return String.stringRenderer(template,this)})}),extend(String,function(string){string.prototype("contains",function(s){return String.prototype.includes.call(this,s)});var getOutput=RegExp.split.getOutput;function wrapStringMethod(method,checkEmpty){string.prototype(method,function(needle,limit,map){return checkEmpty&&checkEmpty(needle)?null:String[method](this,needle,limit,map)})}function camelCaseWord(s,ix){return s=s.trim().toLowerCase(),0===ix?s:s.charAt(0).toUpperCase()+s.substr(1)}function camelCaseArray(a){return a.map(camelCaseWord).join("")}function makeTextToken(x){var t={text:x.text};return Object.defineProperties(t,{toString:{value:function(){return this.text},enumerable:!1,configurable:!0}}),t}function makeToken(x){var t={split:x.delimit,mode:x.mode};return x.groups&&(t.groups=x.groups),x.delimit_src&&(t.src=x.delimit_src),Object.defineProperties(t,{toString:{value:function(){return this.text||this.split},enumerable:!1,configurable:!0}}),t}function whiteOutComments(src,singleChar,multiChar){var out=[],number="number"===singleChar,num_prefix=multiChar||"",w1=number?" ":singleChar||" ",w2=number?" ":multiChar||" ",white1=!1===singleChar?function(){return""}:function(x){return new Array(x.length+1).join(w1)},white2=!1===multiChar?function(){return""}:function(x){return new Array(x.length+1).join(w2)},singleStart=" "===w1?"  ":"//",multiStart=" "===w2?"  ":"/*",multiEnd=" "===w2?"  ":"*/",lines=src.split("\n"),isMulti=lines.map(function(){return!1}),regex=/(?<=(\(|=|;|,|^)\s*)\/((?![*+?])(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])+)\/((?:g(?:im?|mi?)?|i(?:gm?|mg?)?|m(?:gi?|ig?)?)?)/,escapes={escapedSingleQuote:/\\'/g,escapedDoubleQuote:/\\"/g,escapedNewLine:/\\\n/g},regexps={singleLine:/\/\//g,newLine:/\n/g,multiLineStart:/(?<!\/)\/\*/g,multiLineEnd:/\*\//g,singleQuote:/\'/g,doubleQuote:/\"/g},inMultiLineComment=!1;if(lines.forEach(function(line,ix){var OUT="",toks0=line.ArraySplit(regex),toks1=[],toks2=[];toks0?toks0.tokens.forEach(function(tok){if(tok.text){var sub=tok.text.ArraySplit(escapes);sub?sub.tokens.forEach(function(tok){toks2.push(tok)}):toks1.push(tok)}else toks1.push(tok)}):toks1=(toks1=line.ArraySplit(escapes))?toks1.tokens:[{text:line}],toks1.forEach(function(tok){if(tok.text){var sub=tok.text.ArraySplit(regexps);sub?sub.tokens.forEach(function(tok){toks2.push(tok)}):toks2.push(tok)}else toks2.push(tok)}),toks1=toks0=null;var inSingleLineComment=!1,inSingleQuote=!1,inDoubleQuote=!1;isMulti[ix]=inMultiLineComment,toks2.forEach(function(x){switch(!0){case inSingleLineComment:switch(x.src){case regex:case regexps.singleQuote:case regexps.doubleQuote:case escapes.escapedSingleQuote:case escapes.escapedDoubleQuote:case regexps.singleLine:case regexps.multiLineStart:case regexps.multiLineEnd:OUT+=white1(x.split);break;case escapes.escapedNewLine:OUT+=white1(" ")+"\n";break;case regexps.newLine:inSingleLineComment=!1,OUT+=x.split;break;default:x.text&&(OUT+=white1(x.text))}break;case inMultiLineComment:switch(x.src){case regex:case regexps.doubleQuote:case regexps.singleQuote:case escapes.escapedSingleQuote:case escapes.escapedDoubleQuote:case regexps.singleLine:case regexps.multiLineStart:OUT+=white2(x.split);break;case escapes.escapedNewLine:OUT+=white2(" ")+"\n";break;case regexps.multiLineEnd:OUT+=multiEnd,inMultiLineComment=!1;break;case regexps.newLine:OUT+=x.split;break;default:x.text&&(OUT+=white2(x.text))}break;case inSingleQuote:switch(x.src){case regex:case escapes.escapedSingleQuote:case escapes.escapedDoubleQuote:case regexps.singleLine:case regexps.multiLineStart:case regexps.multiLineEnd:case escapes.escapedNewLine:case regexps.doubleQuote:OUT+=x.split;break;case regexps.singleQuote:OUT+=x.split,inSingleQuote=!1;break;case regexps.newLine:throw new Error("unterminated string");default:x.text&&(OUT+=x.text)}break;case inDoubleQuote:switch(x.src){case regex:case escapes.escapedSingleQuote:case escapes.escapedDoubleQuote:case regexps.singleLine:case regexps.multiLineStart:case regexps.multiLineEnd:case escapes.escapedNewLine:case regexps.singleQuote:OUT+=x.split;break;case regexps.doubleQuote:OUT+=x.split,inDoubleQuote=!1;break;case regexps.newLine:throw new Error("unterminated string");default:x.text&&(OUT+=x.text)}break;default:if(x.text){OUT+=x.text;break}switch(x.src){case regexps.singleLine:OUT+=singleStart,inSingleLineComment=!0;break;case regexps.multiLineStart:OUT+=multiStart,inMultiLineComment=!0;break;case regexps.multiLineEnd:throw new Error(" OUT of place */");case regexps.singleQuote:inSingleQuote=!0,OUT+=x.split;break;case regexps.doubleQuote:inDoubleQuote=!0,OUT+=x.split;break;case regex:case regexps.newLine:OUT+=x.split}}}),out.push(OUT)}),lines.length!==out.length)throw new Error("internal error - out.length !== lines.length !");if(!1===singleChar&&!1===multiChar){function empty_lines(x){return 0<x.length}function collapse_line_ends(line,ix,ar){if(ix<ar.length-1){var next_line=ar[ix+1];(line.endsWith("=")||line.endsWith("{")||next_line.startsWith("}"))&&(line+=next_line,ar[ix+1]="",fix_needed=!0)}return line}var fix_needed=!0;for(out=out.map(function(line){return line.trim()}).filter(empty_lines);fix_needed;)fix_needed=!1,out=out.map(collapse_line_ends).filter(empty_lines)}if(!number)return out.join("\n");var pad=2+(1+lines.length).toString().length;return lines.map(function(line,ix){return isMulti[ix]?" *"+num_prefix+(1+ix).toString().padStart(pad)+" *  "+line:"/*"+num_prefix+(1+ix).toString().padStart(pad)+" */ "+line}).join("\n")}function ArraySplitViaWhitespaceComments(code,needle,limit,map,wc){wc=wc||String.fromCharCode(255);var split=whiteOutComments(code,wc,wc).ArraySplit(needle,limit);if(!split)return split;function falseToNull(x,ix){return!1===x||limit&&limit-1<=ix?null:x}var tok_ix=0;return split.raw.forEach(function(x,ix){x.text=x.length?code.substr(x.start,x.length):"",split[ix]=map?map(x.text,ix,split,x.start,falseToNull(x.next,ix),falseToNull(x.delimit,ix)):x.text,0!==x.length&&(split.tokens[tok_ix++]=makeTextToken(x)),x.delimit&&(split.tokens[tok_ix++]=makeToken(x))}),split}string("StringSplit",function(haystack,needle,limit,map){if(isEmpty(needle)||!isString(needle))return null;var haystack_length=haystack.length,splits=String.split(haystack,needle,limit),splits_length=splits.length;if(!map||!splits)return splits&&splits[0].length!==haystack_length?splits:null;var output_push,output=getOutput(map,function(push){output_push=push});if(splits_length<=1)return output_push(splits[0],0,null,null),output;var atIndex=0;needle.length;return splits.forEach(function(text,ix){var tail=ix===splits.length-1?null:needle;output_push(text,atIndex,null===tail?null:atIndex+text.length+tail.length,tail),atIndex=atIndex+text.length+(null===tail?0:tail.length)}),splits.splice(0,splits.length),output}),wrapStringMethod("StringSplit"),string.prototype("toCamelCase",function(){return camelCaseArray(this.replace(/-|\/|\+|_|\./g," ").split(" ").filter(function(x){return""!==x}))}),string("sha1",Object.env.isNode?function(){var crypto=require("crypto");return function(str,cb){var shasum=crypto.createHash("sha1");shasum.update(str);var hex=shasum.digest("hex");return"function"==typeof cb?setImmediate(cb,hex):hex}}():"function"==typeof window.sha1?function(str,cb){var hex=window.sha1(str);return"function"==typeof cb?cb(hex):hex}:function(){}),string.prototype("@sha1",function(){return String.sha1(""+this)}),string("htmlGenerator",function(template){var html=isString(template)&&0<template.length?""+template:"<!doctype html><html><head><title></title><style></style></head><body></body></html>",self={};return Object.defineProperties(self,{html:{get:function(){return html.replace(/(?<!<script.*src.*>)<\/script>\s*<script>/g,"")},set:function(h){html=h},enumerable:!0,configurable:!0},append:{value:function(h,where){switch(where="</"+(where||"body")+">",!0){case"function"==typeof h:h="<script>"+(h=h.toString()).substring(h.search(/{/)+1,h.length-1)+"<\/script>";break;case"object"==typeof h:h="<script>\n"+Object.varify(h)+"<\/script>";break;case 0===h.search(/^(\/[a-z]|[A-Z]|[0-9])*.*\.js/)&&-1===h.search(/\s/):h='<script src="'+h+'"><\/script>';break;case 0===h.search(/^(\/[a-z]|[A-Z]|[0-9])*.*\.css/)&&-1===h.search(/\s/):where="</head>",h='<link href="'+h+'" rel="stylesheet"\\>'}return html=html.replace(where,h+"\n"+where),self},enumerable:!0,configurable:!0},replace:{value:function(a,b){return html=html.replace(a,b),self},enumerable:!0,configurable:!0}})}),string.prototype("htmlGenerator",function(){return String.htmlGenerator(this)}),string("stringRenderer",function(template,obj){function render(temp,obj,ix){function getAllProperties(obj){function fetch(prop){allProps.indexOf(prop)<0&&allProps.push(prop)}for(var allProps=[],curr=obj;Object.getOwnPropertyNames(curr).forEach(fetch),curr=Object.getPrototypeOf(curr););return allProps}function zap(prefix,obj){getAllProperties(obj).forEach(function(key){var splitter="${"+prefix+key+"}",val=obj[key];if("object"==typeof val)null!==val&&zap(prefix+key+".",val);else{var splits=temp.split(splitter);1<splits.length&&(temp="function"==typeof val?splits.join(val.apply(obj,[temp,ix,template])):splits.join(val))}})}return zap("",obj),temp}return Array.isArray(obj)?obj.map(render.bind(this,template)).join("\n"):render(template,obj)}),string.prototype("renderWithObject",function(obj){return String.stringRenderer(this,obj)}),string("customNeedleString",function(s,name,props){switch(jsClass(s)){case"String":var S=String;if(void 0!==(s="string"==typeof s?new S(s):s).__CustomSplit){if(s.__CustomSplit==name)return s;delete s.__CustomSplit}return(props=props||{}).__CustomSplit={value:camelCaseWord(name),enumerable:!1,configurable:!0},Object.defineProperties(s,props),s;case"Object":case"Array":return Array.flattenArray(s).map(function(e){return String.customNeedleString(e,name,props)});default:return s}}),string("makeTextToken",makeTextToken),string("makeToken",makeToken),string("ArraySplit",function(){var c,c2,m,m2,s,re,needleFunctionName=(s=Object.prototype.toString.call.bind(Object.prototype.toString),re=/(\[object)\s{1}/g,function(haystack,needle){return m=(c=s(haystack)).match(re),m2=(c2=s(needle)).match(re),m&&m2?camelCaseArray([c.substring(m[0].length,c.length-1),c2.substring(m2[0].length,c2.length-1),needle.__CustomSplit||""])+"Split":""}),splitters={stringRegexpSplit:stringRegexpSplit,stringStringSplit:function(haystack,needle,limit,map){var check_fn=needleFunctionName(haystack,needle);{if("stringStringSplit"===check_fn){if(0===needle.length)return null;haystack.length;var splits=haystack.split(needle,limit),splits_length=splits.length;if(splits_length<=1)return null;function remap(el,ix){return map(el.text,ix,out,el.start,el.next,ix<splits_length-1?needle:null,null)}function get_el_n(str_n,n,els){switch(n){case 0:return out.push(map?remap(el0,n):el0)}var str_n_len=str_n.length,str_n_end=el_n_minus_1.next+str_n_len,el_n={start:el_n_minus_1.next,end:str_n_end,length:str_n_len,text:str_n,prev:el_n_minus_1.start,next:n<splits_length-1&&str_n_end+needle_len,delimit:n<splits_length-1&&needle,delimit_length:n<splits_length-1&&needle_len,index:n,mode:"String"};el_n_minus_1=el_n,out.push(map?remap(el_n,n):el_n)}var out=[],needle_len=needle.length,str_0=splits[0],s0_len=str_0.length,el0={start:0,end:s0_len,length:s0_len,text:str_0,prev:!1,next:s0_len+needle_len,delimit:needle,delimit_length:needle_len,index:0,mode:"String"},el_n_minus_1=el0;return 2===splits_length?(map?out.push(remap(el0,0)):out.push(el0),get_el_n(splits[1],1)):splits.forEach(get_el_n),out}var msg="stringRegexpSplit called - should it not be "+check_fn+" ?";throw console.log(msg)}},stringArraySplit:stringArraySplit,stringObjectSplit:function(haystack,needles,limit,map){return ArraySplit(haystack,Array.flattenArray(needles),limit,map)},stringStringWordsearchSplit:function(haystack,needle,limit,map){var word=needle.toString(),customNeedle=RegExp("(?<![\\w\\d])"+word+"(?![\\w\\d])");return customNeedle.__CustomSplit="Wordsearch("+word+")",customNeedle.__CustomSplit_src=needle,stringRegexpSplit(haystack,customNeedle,limit)}};function stringRegexpSplit(haystack,needle,limit,map){var check_fn=needleFunctionName(haystack,needle);if(check_fn.startsWith("stringRegexp")){haystack.length;var mode=needle.__CustomSplit?needle.__CustomSplit:"RegExp",delimit_src=needle,splits=String.RegExpSplit(haystack,needle,limit,map||function(mode,text,index,theArray,start,end,delimit,match,strings){if(!1!==text)return function(text,index,theArray,start,end,delimit,mode){var at_start=0===index,prev=theArray[index-1],at_end=!delimit,text_length=text.length,text_start=at_end?at_start?0:prev.next:start;return{start:text_start,end:text_start+text_length,text:text,length:text_length,prev:!at_start&&prev.next,next:!at_end&&end,delimit:!at_end&&delimit,delimit_src:!at_end&&delimit_src,delimit_length:!at_end&&delimit.length,index:index,mode:mode}}(text,index,theArray,start,end,delimit,mode);if(0===theArray.length)return;var last=theArray[theArray.length-1];last.start===start&&strings&&strings.groups&&(last.groups=strings.groups)}.bind(this,mode));return splits[splits.length-1].next=!1,splits}var msg="stringRegexpSplit called - should it not be "+check_fn+" ?";throw console.log(msg)}function sortOnDelimitStart(lowest,highest){return lowest.delimit_start-highest.delimit_start}function checkOverlaps(inst1,ix1,ar){ar.forEach(function(inst2,ix2){if(ix2!==ix1){if(inst2.delimit_start>inst1.delimit_start){if(inst2.delimit_start<inst1.delimit_end)throw console.log({inst1:inst1,inst2:inst2}),new Error("overlapping split terms")}else if(inst2.delimit_end>inst1.delimit_start){if(inst2.delimit_start<inst1.delimit_start)throw console.log({inst1:inst1,inst2:inst2}),new Error("overlapping split terms")}else if(inst2.delimit_end<inst1.delimit_end&&inst2.delimit_end>inst1.delimit_start)throw console.log({inst1:inst1,inst2:inst2}),new Error("overlapping split terms");if(inst1!==inst2&&!1!==inst1.next&&!1!==inst2.next&&(!1!==inst1.delimit_start&&inst1.delimit_start===inst2.delimit_start||!1!==inst1.delimit_end&&inst1.delimit_end===inst2.delimit_end))throw console.log({inst1:inst1,inst2:inst2}),new Error("overlapping split terms")}})}function stringArraySplit(haystack,needles,limit,map){if(isString(haystack)&&"object"==typeof needles&&needles.constructor===Array){haystack.length;var needle_descs=needles.map(function(n){return result=(needle=n).toString(),needle.__CustomSplit?needle.__CustomSplit+"("+result+")":result;var needle,result});needles=needles.filter(function(ignore,ix){return needle_descs.indexOf(needle_descs[ix])===ix}),needle_descs.length,needles.length,needle_descs.splice(0,needle_descs.length);function remap(el,ix){return map(el.text,ix,out,el.start,el.next,el.delimit,null)}var splits=needles.map(function(needle){var fn=String.needleFunction(haystack,needle);return fn?fn.call(this,haystack,needle,limit):null}),out=[],work=splits.map(function(arr,ix){return null===arr?null:1===arr.length?null:{ix:ix,splits:arr}}).filter(function(x){return null!==x});if(0===work.length)return null;if(1===work.length)return map?work[0].splits.map(remap):work[0].splits;work=work.map(function(delim){return delim.start=delim.splits[0].start,delim.text=delim.splits[0].text,delim.delimit=delim.splits[0].delimit,delim.delimit_start=delim.splits[0].end,delim.delimit_end=delim.splits[0].next,delim.end=delim.splits[0].next,delim.splits.forEach(function(inst){inst.delimit_start=inst.end,inst.delimit_end=inst.next,Object.defineProperties(inst,{delim:{value:delim,enumerable:!1,configurable:!0}})}),delim});var pending=[];work.forEach(function(delim){delim.splits.forEach(function(inst){pending.push(inst)})}),pending.sort(sortOnDelimitStart),pending.forEach(checkOverlaps),(pending=pending.filter(function(inst,ix){return null!==inst&&!!inst.delimit&&(void 0===limit||ix<limit)})).forEach(function(inst,ix,ar){inst.start=0===ix?0:ar[ix-1].delimit_end,inst.end=ix<ar.length||inst.delimit_end===haystack.length?inst.delimit_start:haystack.length,inst.length=inst.end-inst.start,inst.text=haystack.substring(inst.start,inst.end),delete inst.index,delete inst.prev,delete inst.next,inst.index=ix,out.push(map?remap(inst,ix):inst)});var last=out[out.length-1];if(last.delimit_end<haystack.length&&(void 0===limit||out.length<limit)){var final={start:last.delimit_end,end:haystack.length,length:haystack.length-last.delimit_end,text:haystack.substring(last.delimit_end,haystack.length),delimit:!1,delimit_start:!1,delimit_end:!1,index:out.length};out.push(map?remap(final,out.length):final)}return out}return null}function ArraySplit(haystack,needles,limit,map){if(isEmpty(needles))return null;var tokens=[],flattened=Array.flattenArrayWithPaths(needles),flat=flattened.arr,raw=stringArraySplit(haystack,flat,limit);if(null===raw)return raw;function falseToNull(x,ix){return!1===x||limit&&limit-1<=ix?null:x}var out=[];raw.some(function(x,index){return 0!==x.length&&tokens.push(makeTextToken(x)),x.delimit&&tokens.push(makeToken(x)),out.push(map?map(x.text,index,out,x.start,falseToNull(x.next,index),falseToNull(x.delimit,index)):x.text),void 0!==limit&&index===limit-1});var td_cache;return Object.defineProperties(out,{all_needles:{enumerable:!1,configurable:!0,writable:!0,value:needles},needles:{enumerable:!1,configurable:!0,writable:!0,value:flat},raw:{enumerable:!1,configurable:!0,writable:!0,value:raw},tokens:{enumerable:!1,configurable:!0,writable:!0,value:tokens},token_distribution:{enumerable:!1,configurable:!0,get:function(){if(!td_cache){td_cache={},tokens.forEach(function(x,ix){if(x.split){var split=x.src?x.src.__CustomSplit?x.mode:x.mode+"("+x.src.toString()+")":x.mode+"("+x.split+")";td_cache[split]?td_cache[split].indexes.push(ix):flat.some(function(needle){if(!x.src)return td_cache[split]={split:x.split,indexes:[ix]},!0;if(x.src.__CustomSplit){if(needle.__CustomSplit+"("+needle+")"===x.src.__CustomSplit)return td_cache[split]={split:x.src,indexes:[ix],custom_data:x.src.__CustomSplit_src},!0}else if(needle===x.src)return td_cache[split]={split:x.src,indexes:[ix]},!0})}});var keys=Object.keys(td_cache);td_cache={splits:new Array(flat.length),named:td_cache,paths:{}},keys.forEach(function(k){var split=td_cache.named[k],src=split.custom_data||split.src||split.split,ix=flat.indexOf(src);if(split.path=flattened.paths[ix],split.indexes.forEach(function(tokIx){tokens[tokIx].path=split.path}),td_cache.splits[ix]=split,Array.setArrayPath(td_cache.paths,split.path,split),split.custom_data){var custom_data=split.split;split.split=src,split.custom_data=custom_data}}),td_cache.splits=td_cache.splits.filter(function(el){return null!==el})}return td_cache}}}),out}return string("needleFunction",function(haystack,needle){return splitters[needleFunctionName(haystack,needle)]}),string.prototype("toWordsearch",function(props){return String.customNeedleString(this+"","Wordsearch",props)}),string("Wordsearch",function(needle,props){return String.customNeedleString(needle,"Wordsearch",props)}),ArraySplit}()),string.prototype("ArraySplit",function(needle,limit,map){return String.ArraySplit(this,needle,limit,map)}),string("whiteOutComments",whiteOutComments),string.prototype("whiteOutComments",function(singleChar,multiChar){return whiteOutComments(this,singleChar,multiChar)}),string.prototype("@codeStripped",function(){return whiteOutComments(this,!1,!1)}),string.prototype("@codeSpaced",function(){return whiteOutComments(this)}),string.prototype("@codeNumbered",function(){return whiteOutComments(this,"number")}),string.prototype("ArraySplitCode",function(needle,limit,map,wc){return ArraySplitViaWhitespaceComments(this,needle,limit,map,wc)}),string("RegExpSplit",RegExp.split),wrapStringMethod("RegExpSplit"),string("mapSplit",function(haystack,needle,limit,map){if(isEmpty(needle))return null;var handler;if(String.needleFunction&&String.ArraySplit)return String.ArraySplit(haystack,[needle],limit,map);if(!handler&&(handler=String.split,map))switch(jsClass(needle)){case"RegExp":handler=RegExp.split;break;case"String":handler=String.StringSplit}return handler(haystack,needle,limit,map)}),wrapStringMethod("mapSplit",isEmpty),string.prototype("@lines",function(nl){return this.split(nl||"\n")}),string.prototype("indent",function(spaces,nl){switch(typeof spaces){case"string":break;case"number":spaces=Array(1+spaces).join(" ");break;default:spaces="    "}return nl=nl||"\n",this.split(nl).map(function(x){return spaces+x}).join(nl)}),string.prototype("indentLevel",function(lines,tabs,reindent){var i;if(lines){if(lines=this.replace(/\r/g,"").lines,reindent)return lines.map(function(line){return line.indentLevel(!1,tabs,!0)}).join("\n");var min=this.indentLevel(!1,tabs);if(0<lines.length)for(i=1;i<lines.length;i++)0!==lines[i].trim().length&&(min=Math.min(min,lines[i].indentLevel(!1,tabs)));return min}var remain=(this.trimLeft||this.trimStart).bind(this)(),chars=this.length-remain.length;if(0===chars)return reindent?this:0;tabs=tabs||4;var indented=this.substr(0,chars);for(i=chars=0;i<indented.length;i++)switch(indented.charAt(i)){case"\t":chars+=tabs-chars%tabs;continue;case"\r":case"\n":return 0;default:chars++}return reindent?new Array(1+chars).join(" ")+remain:chars}),string.prototype("reindent",function(spaces,tabs,nl){var current=this.indentLevel(!0,tabs||4);if(current===spaces)return String(this);var filler=new Array(1+spaces).join(" ");return nl=nl||"\n",this.indentLevel(!0,tabs||4,!0).split(nl).map(function(line){return filler+line.substr(current)}).join(nl)}),string.prototype("load",function(filename){return require("fs").readFileSync(filename,"utf8")}),string("load",function(filename){return require("fs").readFileSync(filename,"utf8")}),string("extensionsTest",function(verbose){getSafeJson(testMappedSampleData()),getSafeJson(testMappedSampleData(!0));var array_call0,array_call1,array_call2,array_call3,ArrayMapSample=(array_call0=reparse({ar:[],ix:0,x:""}),array_call1=reparse({ar:[array_call0],ix:1,x:" quick brown "}),array_call2=reparse({ar:[array_call0,array_call1],ix:2,x:" jumps over "}),array_call3=reparse({ar:[array_call0,array_call1,array_call2],ix:3,x:" lazy "}),[array_call0,array_call1,array_call2,array_call3]),ArrayMapSampleJSON=getSafeJson(ArrayMapSample);function testNotFound(name,data){if(null===data)return verbose&&console.log("PASS: > "+name),!0;throw console.log("FAIL: > "+name),console.log({testBasic:{got:data,expected:null}}),new Error("test failed")}function testBasic(name,data){var sample=["one","two","three"],sample_json=getSafeJson(sample);if(data&&getSafeJson(data)===sample_json)return verbose&&console.log("PASS: > "+name),!0;throw console.log("FAIL: > "+name),console.log({testBasic:{got:data,expected:sample}}),new Error("test failed")}function testBasicLimit(name,data,limit){var sample=["one","two","three"].slice(0,limit),sample_json=getSafeJson(sample);if(data&&getSafeJson(data)===sample_json)return verbose&&console.log("PASS: > "+name),!0;throw console.log("FAIL: > "+name),console.log({testBasicLimit:{got:data,expected:sample,limit:limit}}),new Error("test failed")}function testWords(name,data){var WordsSample=[""," quick brown "," jumps over "," lazy "],WordsSampleJSON=getSafeJson(WordsSample);if(data&&getSafeJson(data)===WordsSampleJSON)return verbose&&console.log("PASS: > "+name),!0;throw console.log("FAIL: > "+name),console.dir({testWords:{got:data,expected:WordsSample}},{depth:null}),new Error("test failed")}function testMappedSampleData(){var src="one two three",ix1=src.indexOf("one"),ix2=src.indexOf("two"),ix3=src.indexOf("three"),row1=reparse(["one",0,[],ix1,ix1+3+1," "]),row2=reparse(["two",1,[row1],ix2,ix2+3+1," "]),row3=reparse(["three",2,[row1,row2],ix3,null,null]);return reparse([row1,row2,row3])}function testMapped2(name,sample,obj,fn,args,limit){var history=[],FN=obj[fn],cb=args.pop();args.push(function(){var cb_args=cpArgs(arguments);if(ix>sample.length)throw 0<history.length&&console.log({prev_:history}),console.log({extra:cb_args,callNo:ix,limit:limit}),new Error("too many calls to callback");if(getArrayJson(sample[ix])===getArrayJson(cb_args))return history.push(cb_args),ix++,cb.apply(this,cb_args);0<history.length&&history.forEach(function(h,ix){console.log({ix:ix,good:h})});throw console.log({ix:ix,got_____:cb_args}),console.log({ix:ix,expected:sample[ix]}),console.log({limit:limit}),new Error("incorrect args")});var ix=0;return limit&&limit<=sample.length&&(sample.splice(limit,sample.length),sample[limit-1][4]=null,sample[limit-1][5]=null),limit&&limit>sample.length&&(limit=sample.length),FN.apply(obj,args)}function mappedResult(){return reparse(cpArgs(arguments))}function mappedTextResult(x,ix,ar){return reparse({x:x,ix:ix,ar:ar})}function testArrayMap(name,data){var json=getArrayJson(data);if(json===ArrayMapSampleJSON)return verbose&&console.log("PASS: > "+name),!0;throw console.dir({testArrayMap:{got__raw:data,got_sort:JSON.parse(json),expected:ArrayMapSample,got_json:json,expt_json:ArrayMapSampleJSON}},{depth:null}),console.log("FAIL: > "+name),new Error("test failed")}function testTokensRejoin(name,source,data){if(null===data)return verbose&&console.log("PASS: > "+name+" (barely - data is null)"),!0;var rejoined=data.tokens.map(function(e){return e.split||e.text}).join("");if(rejoined===source)return verbose&&console.log("PASS: > "+name),!0;throw console.log("FAIL: > "+name),console.log({testTokensRejoin:{got:data,rejoined:rejoined,expected:source}}),new Error("test failed")}function StringTests(obj,objName,func,filter){var source="the quick brown fox jumps over the lazy dog",theObj=obj||source,objFunc=theObj[func];return objFunc=obj?objFunc.bind(theObj,source):objFunc.bind(source),function(obj,objName,func,objFunc,filter){testNotFound("notFound returns null:"+objName+"."+func+"(null)",objFunc(null)),testNotFound("notFound returns null:"+objName+"."+func+"(null- false positive)",objFunc.call(this+" null token",null)),testNotFound("notFound returns null:"+objName+"."+func+"(undefined)",objFunc()),testNotFound("notFound returns null:"+objName+"."+func+"(undefined - false positive)",objFunc.call(this+" was undefined.")),testNotFound("notFound returns null:"+objName+"."+func+"([])",objFunc([])),testNotFound("notFound returns null:"+objName+"."+func+"({})",objFunc({})),(!filter||0<=filter.indexOf("Array"))&&(testNotFound("notFound returns null:"+objName+"."+func+"(String,String)",objFunc(["pigs","fly"])),testNotFound("notFound returns null:"+objName+"."+func+"(RegExp,RegExp)",objFunc([/pigs/,/fly/])),testNotFound("notFound returns null:"+objName+"."+func+"(Wordsearch,Wordsearch)",objFunc([String.Wordsearch("pigs"),String.Wordsearch("fly")]))),(!filter||0<=filter.indexOf("String"))&&testNotFound("notFound returns null:"+objName+"."+func+"(Wordsearch([String,String]))",objFunc(String.Wordsearch(["pigs","fly"]))),(!filter||0<=filter.indexOf("Array"))&&(testNotFound("notFound returns null:"+objName+"."+func+"(String,RegExp,Wordsearch)",objFunc(["pigs",/fly/,String.Wordsearch("quickly")])),testWords(objName+"."+func+"([String,String,String])",objFunc(["the","fox","dog"])),testWords(objName+"."+func+"([RegExp,RegExp,RegExp])",objFunc([/the/,/fox/,/dog/])),testWords(objName+"."+func+"([Wordsearch,Wordsearch,Wordsearch])",objFunc([String.Wordsearch("the"),String.Wordsearch("fox"),String.Wordsearch("dog")])),testWords(objName+"."+func+"(WordsSearch([String,String,String]))",objFunc(String.Wordsearch(["the","fox","dog"]))),testWords(objName+"."+func+"([Wordsearch(String),String,RegExp])",objFunc([String.Wordsearch("the"),"fox",/dog/])),testWords(objName+"."+func+"([String,String,String,notfound])",objFunc(["the","fox","dog","extra"])),testWords(objName+"."+func+"([RegExp,RegExp,RegExp,notfound])",objFunc([/the/,/fox/,/dog/,/extra/])),testWords(objName+"."+func+"([Wordsearch,Wordsearch,Wordsearch,notfound])",objFunc([String.Wordsearch("the"),String.Wordsearch("fox"),String.Wordsearch("dog"),String.Wordsearch("extra")])),testWords(objName+"."+func+"(WordsSearch([String,String,String,notfound]))",objFunc(String.Wordsearch(["the","fox","dog","extra"]))),testWords(objName+"."+func+"([Wordsearch(String),String,RegExp,notfound])",objFunc([String.Wordsearch("the"),"fox",/dog/,"extra"]))),(!filter||0<=filter.indexOf("Array")||0<=filter.indexOf("Object"))&&testWords(objName+"."+func+"({assorted keys})",objFunc({stupidKey:"the",dumbKey:/fox/,crazyKey:["dog".toWordsearch()],missingKey:String.Wordsearch([{gone:"cat"}])})),(!filter||0<=filter.indexOf("Array"))&&(testArrayMap(objName+"."+func+"([String,String,String])",objFunc(["the","fox","dog"],void 0,mappedTextResult)),testArrayMap(objName+"."+func+"([RegExp,RegExp,RegExp])",objFunc([/the/,/fox/,/dog/],void 0,mappedTextResult)),testArrayMap(objName+"."+func+"([Wordsearch,Wordsearch,Wordsearch])",objFunc([String.Wordsearch("the"),String.Wordsearch("fox"),String.Wordsearch("dog")],void 0,mappedTextResult)),testArrayMap(objName+"."+func+"(WordsSearch([String,String,String]))",objFunc(String.Wordsearch(["the","fox","dog"]),void 0,mappedTextResult)),testArrayMap(objName+"."+func+"([Wordsearch(String),String,RegExp])",objFunc([String.Wordsearch("the"),"fox",/dog/],void 0,mappedTextResult)),testArrayMap(objName+"."+func+"([String,String,String,notfound])",objFunc(["the","fox","dog","extra"],void 0,mappedTextResult)),testArrayMap(objName+"."+func+"([RegExp,RegExp,RegExp,notfound])",objFunc([/the/,/fox/,/dog/,/extra/],void 0,mappedTextResult)),testArrayMap(objName+"."+func+"([Wordsearch,Wordsearch,Wordsearch,notfound])",objFunc([String.Wordsearch("the"),String.Wordsearch("fox"),String.Wordsearch("dog"),String.Wordsearch("extra")],void 0,mappedTextResult)),testArrayMap(objName+"."+func+"(WordsSearch([String,String,String,notfound]))",objFunc(String.Wordsearch(["the","fox","dog","extra"]),void 0,mappedTextResult)),testArrayMap(objName+"."+func+"([Wordsearch(String),String,RegExp,notfound])",objFunc([String.Wordsearch("the"),"fox",/dog/,"extra"],void 0,mappedTextResult))),(!filter||0<=filter.indexOf("Array")||0<=filter.indexOf("Object"))&&testArrayMap(objName+"."+func+"([asorted keys via testArrayMap ])",objFunc({stupidKey:"the",dumbKey:/fox/,crazyKey:["dog".toWordsearch()],missingKey:String.Wordsearch([{gone:"cat"}])},void 0,mappedTextResult))}.bind(source)(theObj,objName,func,objFunc,filter)}function getSafeJson(x){var cache=[],output=JSON.stringify(x,function(key,value){if("object"==typeof value&&null!==value){if(function(e){return"object"==typeof e&&e.constructor===Array&&"number"==typeof e.index&&"string"==typeof e.input}(value))return function(e){var r={exec:e.slice(0)};return Object.keys(e).filter(function(x,ix){return x!=ix.toString()}).forEach(function(k){r[k]=e[k]}),r}(value);if(-1!==cache.indexOf(value))return{circular:jsClass(value)};cache.push(value)}return value});return cache.splice(0,cache.length),output}function reparse(x){return JSON.parse(getSafeJson(x))}function sortKeys(db){switch(jsClass(db)){case"Array":return db.map(sortKeys);case"Object":var k=Object.keys(db);k.sort();var r={};return k.forEach(function(K){r[K]=sortKeys(db[K])}),r;default:return db}}function getArrayJson(A){return getSafeJson(sortKeys(A))}testBasic("String.split(String)","one two three".split(" ")),testBasicLimit("String.split(String,1)","one two three".split(" ",1),1),testBasicLimit("String.split(String,2)","one two three".split(" ",2),2),testBasic("String.split(String,3)","one two three".split(" ")),testBasic("String.split(String,99)","one two three".split(" ")),testBasic("String.split(RegExp)","one two three".split(/\s/)),testBasicLimit("String.split(RegExp,1)","one two three".split(/\s/,1),1),testBasicLimit("String.split(RegExp,2)","one two three".split(/\s/,2),2),testBasic("String.split(RegExp,3)","one two three".split(/\s/,3)),testBasic("String.split(RegExp,99)","one two three".split(/\s/,99)),testBasic("String.StringSplit(String)","one two three".StringSplit(" ")),testBasicLimit("String.StringSplit(RegExp,1)","one two three".StringSplit(" ",1),1),testBasicLimit("String.StringSplit(RegExp,2)","one two three".StringSplit(" ",2),2),testBasic("String.StringSplit(String)","one two three".StringSplit(" ",3)),testBasic("String.StringSplit(String)","one two three".StringSplit(" ",99)),testMapped2("String.StringSplit(String,map)",testMappedSampleData(),"one two three","StringSplit",[" ",void 0,mappedResult]),testMapped2("String.StringSplit(String,map, limit 1)",testMappedSampleData(),"one two three","StringSplit",[" ",1,mappedResult],1),testMapped2("String.StringSplit(String,map, limit 2)",testMappedSampleData(),"one two three","StringSplit",[" ",2,mappedResult],2),testMapped2("String.StringSplit(String,map, limit 99)",testMappedSampleData(),"one two three","StringSplit",[" ",99,mappedResult],99),testBasic("String.RegExpSplit(RegExp)","one two three".RegExpSplit(/\s/)),testBasicLimit("String.RegExpSplit(RegExp, limit 1)","one two three".RegExpSplit(/\s/,1),1),testBasicLimit("String.RegExpSplit(RegExp limit 2)","one two three".RegExpSplit(/\s/,2),2),testBasic("String.RegExpSplit(RegExp, limit 3)","one two three".RegExpSplit(/\s/,3)),testBasic("String.RegExpSplit(RegExp, limit 99)","one two three".RegExpSplit(/\s/,99)),testMapped2("String.RegExpSplit(RegExp,map)",testMappedSampleData(),"one two three","RegExpSplit",[/\s/,void 0,mappedResult]),testBasic("String.mapSplit(String)","one two three".mapSplit(" ")),testBasic("String.mapSplit(/\\s/)","one two three".mapSplit(/\s/)),testBasic("String.mapSplit([/\\s/])","one two three".mapSplit([/\s/])),testBasic("String.mapSplit([' '])","one two three".mapSplit([" "])),testMapped2("String.mapSplit(String,map)",testMappedSampleData(),"one two three","mapSplit",[" ",void 0,mappedResult]),testMapped2("String.mapSplit(String,map limit 1)",testMappedSampleData(),"one two three","mapSplit",[" ",1,mappedResult],1),testMapped2("String.mapSplit(String,map limit 2)",testMappedSampleData(),"one two three","mapSplit",[" ",2,mappedResult],2),testMapped2("String.mapSplit(String,map limit 3)",testMappedSampleData(),"one two three","mapSplit",[" ",3,mappedResult],3),testMapped2("String.mapSplit(String,map limit 99)",testMappedSampleData(),"one two three","mapSplit",[" ",99,mappedResult],99),testBasic("String.mapSplit(RegExp)","one two three".mapSplit(/\s/)),testMapped2("String.mapSplit(RegExp,map)",testMappedSampleData(),"one two three","mapSplit",[/\s/,void 0,mappedResult]),testNotFound("notFound returns null:ArraySplit(null)","i searched all around the world".ArraySplit(null)),testNotFound("notFound returns null:ArraySplit(null- false positive)","i searched all around the world for a null token".ArraySplit(null)),testNotFound("notFound returns null:ArraySplit(undefined)","i searched all around the world".ArraySplit()),testNotFound("notFound returns null:ArraySplit(undefined- false positive)","i searched all around the world for a an undefined item".ArraySplit()),testNotFound("notFound returns null:ArraySplit([])","i searched all around the world".ArraySplit([])),testNotFound("notFound returns null:ArraySplit({})","i searched all around the world".ArraySplit({})),testNotFound("notFound returns null:ArraySplit('')","i searched all around the world".ArraySplit("")),testNotFound("notFound returns null:ArraySplit('')","i searched all around the world".ArraySplit(["pigs","fly"])),testNotFound("notFound returns null:ArraySplit('')","i searched all around the world".ArraySplit("pigs")),testTokensRejoin("String.ArraySplit(Strings x 4 hits)","the quick brown fox jumps over the lazy dog",String.ArraySplit("the quick brown fox jumps over the lazy dog",["the","jumps","lazy","dog"])),testTokensRejoin("String.ArraySplit(Strings 4 misses)","the quick brown fox jumps over the lazy dog",String.ArraySplit("the quick brown fox jumps over the lazy dog",["jumper","jumping","lazier","wolf"])),testTokensRejoin("String.ArraySplit(Strings x 4 hits + 4 misses)","the quick brown fox jumps over the lazy dog",String.ArraySplit("the quick brown fox jumps over the lazy dog",["the","jumper","jumping","jumps","lazier","lazy","wolf","dog"])),StringTests(String,"String","ArraySplit"),StringTests(String,"String","mapSplit"),StringTests(!1,'"string literal"',"ArraySplit"),StringTests(!1,'"string literal"',"mapSplit"),StringTests(!1,'"string literal"',"StringSplit","String"),StringTests(!1,'"string literal"',"RegExpSplit","RegExp")})}),extend(Function,function(func){var nodeExtsMod,nodeGetPath,CB_TOKEN=[{cb:null}],WS_PATH="/javascript.Function.load",WS_PORT=3029;Object.env.isNode&&(nodeExtsMod=nodeExts(WS_PATH,"/js/",WS_PORT,cpArgs,__filename),nodeGetPath=nodeExtsMod.nodeGetPath,func("startServer",nodeExtsMod.nodeWSServer));function browserSocketConnection(){if(browserSocketConnection.singleton)return browserSocketConnection.singleton;function notifier(ev){var events=[],execute=Function.prototype.call.call.bind(Function.prototype.call);return ws.addEventListener(ev,function(event){var count=events?events.length:0;0<count&&(events.forEach(execute),events.splice(1,count)),events=null}),{fired:function(){return null===events},add:function(fn){events&&events.push(fn)},run:function(fn){events?events.push(fn):fn()},remove:function(fn){if(events){if(!fn)return!events.splice(0,events.length);0<=events.indexOf(fn)&&events.splice(fn,1)}}}}var WSS=location.protocol.startsWith("https")?"wss":"ws",SERVER=location.hostname,ws=new WebSocket(WSS+"://"+SERVER+":"+WS_PORT+WS_PATH),events={open:notifier("open"),close:notifier("close")};events.close.add(function(){events.open.remove()});var callbacks={};return ws.addEventListener("message",function(event){var payload=JSON.parse(event.data),callback=callbacks[payload.id];callback&&(callback.fn.apply(callback.THIS,payload.args),events.close.remove(callback.cleanup),callback.cleanup())}),browserSocketConnection.singleton={call:function(){var args=cpArgs(arguments),fn=args.shift(),cb="function"==typeof args[args.length-1]?args.pop():void 0;if(cb){args.push(CB_TOKEN);function cleanup(){delete callbacks[id]}var id=(1024*Math.random()).toString(36)+Date.now().toString(36);events.close.add(cleanup),callbacks[id]={fn:cb,THIS:this,cleanup:cleanup},events.open.run(function(){ws.send(JSON.stringify({fn:fn,id:id,args:args}))})}else events.open.run(function(){ws.send(JSON.stringify({fn:fn,args:args}))})}}}func("load",function(name,cb){if(Object.env.isNode)return nodeGetPath(name)?cb(require(name)):void 0;var winName=name.toCamelCase();return window[winName]?cb(window[winName]):browserSocketConnection().call("load",name,location.protocol,location.hostname,function(payload){var script=document.createElement("script");script.onload=script.onreadystatechange=function(_,isAbort){!isAbort&&script.readyState&&"loaded"!=script.readyState&&"complete"!=script.readyState||(script=script.onload=script.onreadystatechange=null,window[winName]&&cb(window[winName]))},script[payload.mode]=payload.data,document.head.appendChild(script)})}),func("browserInternalRequire",function(){var cache={},factories={util:getUtil};function browserInternalRequire(mod){return cache[mod]?cache[mod]:factories[mod]?cache[mod]=factories[mod]():void 0}return browserInternalRequire.resolve=function(mod){return factories[mod]||!1},browserInternalRequire}())}),Object.env.isNode&&(extend(require("module"),Module_extensions),extend("fs",fs_extensions)),Object.env.isNode&&0<process.argv.indexOf("--Function.startServer")&&Function.startServer()},!!Object.env&&Object.env.isNode||"object"==typeof process&&"object"==typeof module&&"function"==typeof require&&!!require("jspolyfills"));
/* (ex) ./require_simulator.json */
(function(x){x[0][x[1]]=function(){var dir,cache={},aliases={"../node_modules/browser-punycode/punycode.js":"punycode","../node_modules/browser-url/url.js":"url","../node_modules/browser-querystring/index.js":"querystring","../node_modules/browser-util/util.js":"util","../node_modules/inherits/inherits.js":"inherits","../node_modules/is-arguments/index.js":"is-arguments","../node_modules/is-generator-function/index.js":"is-generator-function","../node_modules/browser-path/path.js":"path"},__sim_require=function require(dirname,file){//file = file.search(/^\.{1}/) ===0 ? file.replace(/^\.{1}/,dirname) : file;
file=aliases[file]||file;var mod=cache[file];if(mod)return mod;if(dir[file]){cache[file]=mod=dir[file].load();return mod}throw JSON.stringify({error:"file not found",filename:file,dirname:dirname})};dir={"punycode":{name:"browser-punycode",path:"../node_modules/browser-punycode/punycode.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-punycode/punycode.js
"use strict";/** Highest positive signed 32-bit float value */const maxInt=2147483647;// aka. 0x7FFFFFFF or 2^31-1
/** Bootstring parameters */const base=36;const tMin=1;const tMax=26;const skew=38;const damp=700;const initialBias=72;const initialN=128;// 0x80
const delimiter="-";// '\x2D'
/** Regular expressions */const regexPunycode=/^xn--/;const regexNonASCII=/[^\0-\x7E]/;// non-ASCII chars
const regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g;// RFC 3490 separators
/** Error messages */const errors={"overflow":"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"};/** Convenience shortcuts */const baseMinusTMin=base-tMin;const floor=Math.floor;const stringFromCharCode=String.fromCharCode;/*--------------------------------------------------------------------------*//**
                 * A generic error utility function.
                 * @private
                 * @param {String} type The error type.
                 * @returns {Error} Throws a `RangeError` with the applicable error message.
                 */function error(type){throw new RangeError(errors[type])}/**
                 * A generic `Array#map` utility function.
                 * @private
                 * @param {Array} array The array to iterate over.
                 * @param {Function} callback The function that gets called for every array
                 * item.
                 * @returns {Array} A new array of values returned by the callback function.
                 */function map(array,fn){const result=[];let length=array.length;while(length--){result[length]=fn(array[length])}return result}/**
                 * A simple `Array#map`-like wrapper to work with domain name strings or email
                 * addresses.
                 * @private
                 * @param {String} domain The domain name or email address.
                 * @param {Function} callback The function that gets called for every
                 * character.
                 * @returns {Array} A new string of characters returned by the callback
                 * function.
                 */function mapDomain(string,fn){const parts=string.split("@");let result="";if(parts.length>1){// In email addresses, only the domain name should be punycoded. Leave
// the local part (i.e. everything up to `@`) intact.
result=parts[0]+"@";string=parts[1]}// Avoid `split(regex)` for IE8 compatibility. See #17.
string=string.replace(regexSeparators,".");const labels=string.split(".");const encoded=map(labels,fn).join(".");return result+encoded}/**
                 * Creates an array containing the numeric code points of each Unicode
                 * character in the string. While JavaScript uses UCS-2 internally,
                 * this function will convert a pair of surrogate halves (each of which
                 * UCS-2 exposes as separate characters) into a single code point,
                 * matching UTF-16.
                 * @see `punycode.ucs2.encode`
                 * @see <https://mathiasbynens.be/notes/javascript-encoding>
                 * @memberOf punycode.ucs2
                 * @name decode
                 * @param {String} string The Unicode input string (UCS-2).
                 * @returns {Array} The new array of code points.
                 */function ucs2decode(string){const output=[];let counter=0;const length=string.length;while(counter<length){const value=string.charCodeAt(counter++);if(value>=55296&&value<=56319&&counter<length){// It's a high surrogate, and there is a next character.
const extra=string.charCodeAt(counter++);if((extra&64512)==56320){// Low surrogate.
output.push(((value&1023)<<10)+(extra&1023)+65536)}else{// It's an unmatched surrogate; only append this code unit, in case the
// next code unit is the high surrogate of a surrogate pair.
output.push(value);counter--}}else{output.push(value)}}return output}/**
                 * Creates a string based on an array of numeric code points.
                 * @see `punycode.ucs2.decode`
                 * @memberOf punycode.ucs2
                 * @name encode
                 * @param {Array} codePoints The array of numeric code points.
                 * @returns {String} The new Unicode string (UCS-2).
                 */const ucs2encode=array=>String.fromCodePoint(...array);/**
                 * Converts a basic code point into a digit/integer.
                 * @see `digitToBasic()`
                 * @private
                 * @param {Number} codePoint The basic numeric code point value.
                 * @returns {Number} The numeric value of a basic code point (for use in
                 * representing integers) in the range `0` to `base - 1`, or `base` if
                 * the code point does not represent a value.
                 */const basicToDigit=function(codePoint){if(codePoint-48<10){return codePoint-22}if(codePoint-65<26){return codePoint-65}if(codePoint-97<26){return codePoint-97}return base};/**
                 * Converts a digit/integer into a basic code point.
                 * @see `basicToDigit()`
                 * @private
                 * @param {Number} digit The numeric value of a basic code point.
                 * @returns {Number} The basic code point whose value (when used for
                 * representing integers) is `digit`, which needs to be in the range
                 * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is
                 * used; else, the lowercase form is used. The behavior is undefined
                 * if `flag` is non-zero and `digit` has no uppercase form.
                 */const digitToBasic=function(digit,flag){//  0..25 map to ASCII a..z or A..Z
// 26..35 map to ASCII 0..9
return digit+22+75*(digit<26)-((flag!=0)<<5)};/**
                 * Bias adaptation function as per section 3.4 of RFC 3492.
                 * https://tools.ietf.org/html/rfc3492#section-3.4
                 * @private
                 */const adapt=function(delta,numPoints,firstTime){let k=0;delta=firstTime?floor(delta/damp):delta>>1;delta+=floor(delta/numPoints);for(;/* no initialization */delta>baseMinusTMin*tMax>>1;k+=base){delta=floor(delta/baseMinusTMin)}return floor(k+(baseMinusTMin+1)*delta/(delta+skew))};/**
                 * Converts a Punycode string of ASCII-only symbols to a string of Unicode
                 * symbols.
                 * @memberOf punycode
                 * @param {String} input The Punycode string of ASCII-only symbols.
                 * @returns {String} The resulting string of Unicode symbols.
                 */const decode=function(input){// Don't use UCS-2.
const output=[];const inputLength=input.length;let i=0;let n=initialN;let bias=initialBias;// Handle the basic code points: let `basic` be the number of input code
// points before the last delimiter, or `0` if there is none, then copy
// the first basic code points to the output.
let basic=input.lastIndexOf(delimiter);if(basic<0){basic=0}for(let j=0;j<basic;++j){// if it's not a basic code point
if(input.charCodeAt(j)>=128){error("not-basic")}output.push(input.charCodeAt(j))}// Main decoding loop: start just after the last delimiter if any basic code
// points were copied; start at the beginning otherwise.
for(let index=basic>0?basic+1:0;index<inputLength;)/* no final expression */{// `index` is the index of the next character to be consumed.
// Decode a generalized variable-length integer into `delta`,
// which gets added to `i`. The overflow checking is easier
// if we increase `i` as we go, then subtract off its starting
// value at the end to obtain `delta`.
let oldi=i;for(let w=1,k=base;;/* no condition */k+=base){if(index>=inputLength){error("invalid-input")}const digit=basicToDigit(input.charCodeAt(index++));if(digit>=base||digit>floor((maxInt-i)/w)){error("overflow")}i+=digit*w;const t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(digit<t){break}const baseMinusT=base-t;if(w>floor(maxInt/baseMinusT)){error("overflow")}w*=baseMinusT}const out=output.length+1;bias=adapt(i-oldi,out,oldi==0);// `i` was supposed to wrap around from `out` to `0`,
// incrementing `n` each time, so we'll fix that now:
if(floor(i/out)>maxInt-n){error("overflow")}n+=floor(i/out);i%=out;// Insert `n` at position `i` of the output.
output.splice(i++,0,n)}return String.fromCodePoint(...output)};/**
                 * Converts a string of Unicode symbols (e.g. a domain name label) to a
                 * Punycode string of ASCII-only symbols.
                 * @memberOf punycode
                 * @param {String} input The string of Unicode symbols.
                 * @returns {String} The resulting Punycode string of ASCII-only symbols.
                 */const encode=function(input){const output=[];// Convert the input in UCS-2 to an array of Unicode code points.
input=ucs2decode(input);// Cache the length.
let inputLength=input.length;// Initialize the state.
let n=initialN;let delta=0;let bias=initialBias;// Handle the basic code points.
for(const currentValue of input){if(currentValue<128){output.push(stringFromCharCode(currentValue))}}let basicLength=output.length;let handledCPCount=basicLength;// `handledCPCount` is the number of code points that have been handled;
// `basicLength` is the number of basic code points.
// Finish the basic string with a delimiter unless it's empty.
if(basicLength){output.push(delimiter)}// Main encoding loop:
while(handledCPCount<inputLength){// All non-basic code points < n have been handled already. Find the next
// larger one:
let m=maxInt;for(const currentValue of input){if(currentValue>=n&&currentValue<m){m=currentValue}}// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,
// but guard against overflow.
const handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((maxInt-delta)/handledCPCountPlusOne)){error("overflow")}delta+=(m-n)*handledCPCountPlusOne;n=m;for(const currentValue of input){if(currentValue<n&&++delta>maxInt){error("overflow")}if(currentValue==n){// Represent delta as a generalized variable-length integer.
let q=delta;for(let k=base;;/* no condition */k+=base){const t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(q<t){break}const qMinusT=q-t;const baseMinusT=base-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0)));q=floor(qMinusT/baseMinusT)}output.push(stringFromCharCode(digitToBasic(q,0)));bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength);delta=0;++handledCPCount}}++delta;++n}return output.join("")};/**
                 * Converts a Punycode string representing a domain name or an email address
                 * to Unicode. Only the Punycoded parts of the input will be converted, i.e.
                 * it doesn't matter if you call it on a string that has already been
                 * converted to Unicode.
                 * @memberOf punycode
                 * @param {String} input The Punycoded domain name or email address to
                 * convert to Unicode.
                 * @returns {String} The Unicode representation of the given Punycode
                 * string.
                 */const toUnicode=function(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})};/**
                 * Converts a Unicode string representing a domain name or an email address to
                 * Punycode. Only the non-ASCII parts of the domain name will be converted,
                 * i.e. it doesn't matter if you call it with a domain that's already in
                 * ASCII.
                 * @memberOf punycode
                 * @param {String} input The domain name or email address to convert, as a
                 * Unicode string.
                 * @returns {String} The Punycode representation of the given domain name or
                 * email address.
                 */const toASCII=function(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})};/*--------------------------------------------------------------------------*//** Define the public API */const punycode={/**
                     * A string representing the current Punycode.js version number.
                     * @memberOf punycode
                     * @type String
                     */"version":"2.1.0",/**
                     * An object of methods to convert from JavaScript's internal character
                     * representation (UCS-2) to Unicode code points, and back.
                     * @see <https://mathiasbynens.be/notes/javascript-encoding>
                     * @memberOf punycode
                     * @type Object
                     */"ucs2":{"decode":ucs2decode,"encode":ucs2encode},"decode":decode,"encode":encode,"toASCII":toASCII,"toUnicode":toUnicode};module.exports=punycode;// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-punycode/punycode.js sha1 = 39ab3964d954c66ab440a590444fd7dd3493be37
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/browser-punycode"),"punycode.js","/home/jonathanmaxannett/jsextensions/node_modules/browser-punycode")},"url":{name:"browser-url",path:"../node_modules/browser-url/url.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-url/url.js
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
"use strict";var punycode=require("punycode");var util=require("./util");exports.parse=urlParse;exports.resolve=urlResolve;exports.resolveObject=urlResolveObject;exports.format=urlFormat;exports.Url=Url;function Url(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}// Reference: RFC 3986, RFC 1808, RFC 2396
// define these here so at least they only have to be
// compiled once on the first module load.
var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,// Special case for a simple path URL
simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,// RFC 2396: characters reserved for delimiting URLs.
// We actually just auto-escape these.
delims=["<",">","\"","`"," ","\r","\n","\t"],// RFC 2396: characters not allowed for various reasons.
unwise=["{","}","|","\\","^","`"].concat(delims),// Allowed by RFCs, but cause of XSS attacks.  Always escape these.
autoEscape=["'"].concat(unwise),// Characters that are never ever allowed in a hostname.
// Note that any invalid chars are also handled, but these
// are the ones that are *expected* to be seen, so we fast-path
// them.
nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,// protocols that can allow "unsafe" and "unwise" chars.
unsafeProtocol={"javascript":true,"javascript:":true},// protocols that never have a hostname.
hostlessProtocol={"javascript":true,"javascript:":true},// protocols that always contain a // bit.
slashedProtocol={"http":true,"https":true,"ftp":true,"gopher":true,"file":true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},querystring=require("querystring");function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&util.isObject(url)&&url instanceof Url)return url;var u=new Url;u.parse(url,parseQueryString,slashesDenoteHost);return u}Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!util.isString(url)){throw new TypeError("Parameter 'url' must be a string, not "+typeof url)}// Copy chrome, IE, opera backslash-handling behavior.
// Back slashes before the query string get converted to forward slashes
// See: https://code.google.com/p/chromium/issues/detail?id=25916
var queryIndex=url.indexOf("?"),splitter=queryIndex!==-1&&queryIndex<url.indexOf("#")?"?":"#",uSplit=url.split(splitter),slashRegex=/\\/g;uSplit[0]=uSplit[0].replace(slashRegex,"/");url=uSplit.join(splitter);var rest=url;// trim before proceeding.
// This is to support parse stuff like "  http://foo.com  \n"
rest=rest.trim();if(!slashesDenoteHost&&url.split("#").length===1){// Try fast path regexp
var simplePath=simplePathPattern.exec(rest);if(simplePath){this.path=rest;this.href=rest;this.pathname=simplePath[1];if(simplePath[2]){this.search=simplePath[2];if(parseQueryString){this.query=querystring.parse(this.search.substr(1))}else{this.query=this.search.substr(1)}}else if(parseQueryString){this.search="";this.query={}}return this}}var proto=protocolPattern.exec(rest);if(proto){proto=proto[0];var lowerProto=proto.toLowerCase();this.protocol=lowerProto;rest=rest.substr(proto.length)}// figure out if it's got a host
// user@server is *always* interpreted as a hostname, and url
// resolution will treat //foo/bar as host=foo,path=bar because that's
// how the browser resolves relative URLs.
if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes=rest.substr(0,2)==="//";if(slashes&&!(proto&&hostlessProtocol[proto])){rest=rest.substr(2);this.slashes=true}}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){// there's a hostname.
// the first instance of /, ?, ;, or # ends the host.
//
// If there is an @ in the hostname, then non-host chars *are* allowed
// to the left of the last @ sign, unless some host-ending character
// comes *before* the @-sign.
// URLs are obnoxious.
//
// ex:
// http://a@b@c/ => user:a@b host:c
// http://a@b?@c => user:a host:c path:/?@c
// v0.12 TODO(isaacs): This is not quite how Chrome does things.
// Review our test case against browsers more comprehensively.
// find the first instance of any hostEndingChars
var hostEnd=-1;for(var i=0;i<hostEndingChars.length;i++){var hec=rest.indexOf(hostEndingChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))hostEnd=hec}// at this point, either we have an explicit point where the
// auth portion cannot go past, or the last @ char is the decider.
var auth,atSign;if(hostEnd===-1){// atSign can be anywhere.
atSign=rest.lastIndexOf("@")}else{// atSign must be in auth portion.
// http://a@b/c@d => host:b auth:a path:/c@d
atSign=rest.lastIndexOf("@",hostEnd)}// Now we have a portion which is definitely the auth.
// Pull that off.
if(atSign!==-1){auth=rest.slice(0,atSign);rest=rest.slice(atSign+1);this.auth=decodeURIComponent(auth)}// the host is the remaining to the left of the first non-host char
hostEnd=-1;for(var i=0;i<nonHostChars.length;i++){var hec=rest.indexOf(nonHostChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))hostEnd=hec}// if we still have not hit it, then the entire thing is a host.
if(hostEnd===-1)hostEnd=rest.length;this.host=rest.slice(0,hostEnd);rest=rest.slice(hostEnd);// pull out port.
this.parseHost();// we've indicated that there is a hostname,
// so even if it's empty, it has to be present.
this.hostname=this.hostname||"";// if hostname begins with [ and ends with ]
// assume that it's an IPv6 address.
var ipv6Hostname=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";// validate a little.
if(!ipv6Hostname){var hostparts=this.hostname.split(/\./);for(var i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(!part)continue;if(!part.match(hostnamePartPattern)){var newpart="";for(var j=0,k=part.length;j<k;j++){if(part.charCodeAt(j)>127){// we replace non-ASCII char with a temporary placeholder
// we need this to make sure size of hostname is not
// broken by replacing non-ASCII by nothing
newpart+="x"}else{newpart+=part[j]}}// we test again with ASCII char only
if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i);var notHost=hostparts.slice(i+1);var bit=part.match(hostnamePartStart);if(bit){validParts.push(bit[1]);notHost.unshift(bit[2])}if(notHost.length){rest="/"+notHost.join(".")+rest}this.hostname=validParts.join(".");break}}}}if(this.hostname.length>hostnameMaxLen){this.hostname=""}else{// hostnames are always lower case.
this.hostname=this.hostname.toLowerCase()}if(!ipv6Hostname){// IDNA Support: Returns a punycoded representation of "domain".
// It only converts parts of the domain name that
// have non-ASCII characters, i.e. it doesn't matter if
// you call it with a domain that already is ASCII-only.
this.hostname=punycode.toASCII(this.hostname)}var p=this.port?":"+this.port:"";var h=this.hostname||"";this.host=h+p;this.href+=this.host;// strip [ and ] from the hostname
// the host field still retains them, though
if(ipv6Hostname){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(rest[0]!=="/"){rest="/"+rest}}}// now rest is set to the post-host stuff.
// chop off any delim chars.
if(!unsafeProtocol[lowerProto]){// First, make 100% sure that any "autoEscape" chars get
// escaped, even if encodeURIComponent doesn't think they
// need to be.
for(var i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];if(rest.indexOf(ae)===-1)continue;var esc=encodeURIComponent(ae);if(esc===ae){esc=escape(ae)}rest=rest.split(ae).join(esc)}}// chop off from the tail first.
var hash=rest.indexOf("#");if(hash!==-1){// got a fragment string.
this.hash=rest.substr(hash);rest=rest.slice(0,hash)}var qm=rest.indexOf("?");if(qm!==-1){this.search=rest.substr(qm);this.query=rest.substr(qm+1);if(parseQueryString){this.query=querystring.parse(this.query)}rest=rest.slice(0,qm)}else if(parseQueryString){// no query string, but parseQueryString still requested
this.search="";this.query={}}if(rest)this.pathname=rest;if(slashedProtocol[lowerProto]&&this.hostname&&!this.pathname){this.pathname="/"}//to support http.request
if(this.pathname||this.search){var p=this.pathname||"";var s=this.search||"";this.path=p+s}// finally, reconstruct the href based on what has been validated.
this.href=this.format();return this};// format a parsed object into a url string
function urlFormat(obj){// ensure it's an object, and not a string url.
// If it's an obj, this is a no-op.
// this way, you can call url_format() on strings
// to clean up potentially wonky urls.
if(util.isString(obj))obj=urlParse(obj);if(!(obj instanceof Url))return Url.prototype.format.call(obj);return obj.format()}Url.prototype.format=function(){var auth=this.auth||"";if(auth){auth=encodeURIComponent(auth);auth=auth.replace(/%3A/i,":");auth+="@"}var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=false,query="";if(this.host){host=auth+this.host}else if(this.hostname){host=auth+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){host+=":"+this.port}}if(this.query&&util.isObject(this.query)&&Object.keys(this.query).length){query=querystring.stringify(this.query)}var search=this.search||query&&"?"+query||"";if(protocol&&protocol.substr(-1)!==":")protocol+=":";// only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.
// unless they had them to begin with.
if(this.slashes||(!protocol||slashedProtocol[protocol])&&host!==false){host="//"+(host||"");if(pathname&&pathname.charAt(0)!=="/")pathname="/"+pathname}else if(!host){host=""}if(hash&&hash.charAt(0)!=="#")hash="#"+hash;if(search&&search.charAt(0)!=="?")search="?"+search;pathname=pathname.replace(/[?#]/g,function(match){return encodeURIComponent(match)});search=search.replace("#","%23");return protocol+host+pathname+search+hash};function urlResolve(source,relative){return urlParse(source,false,true).resolve(relative)}Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,false,true)).format()};function urlResolveObject(source,relative){if(!source)return relative;return urlParse(source,false,true).resolveObject(relative)}Url.prototype.resolveObject=function(relative){if(util.isString(relative)){var rel=new Url;rel.parse(relative,false,true);relative=rel}var result=new Url;var tkeys=Object.keys(this);for(var tk=0;tk<tkeys.length;tk++){var tkey=tkeys[tk];result[tkey]=this[tkey]}// hash is always overridden, no matter what.
// even href="" will remove it.
result.hash=relative.hash;// if the relative url is empty, then there's nothing left to do here.
if(relative.href===""){result.href=result.format();return result}// hrefs like //foo/bar always cut to the protocol.
if(relative.slashes&&!relative.protocol){// take everything except the protocol from relative
var rkeys=Object.keys(relative);for(var rk=0;rk<rkeys.length;rk++){var rkey=rkeys[rk];if(rkey!=="protocol")result[rkey]=relative[rkey]}//urlParse appends trailing / to urls like http://www.example.com
if(slashedProtocol[result.protocol]&&result.hostname&&!result.pathname){result.path=result.pathname="/"}result.href=result.format();return result}if(relative.protocol&&relative.protocol!==result.protocol){// if it's a known url protocol, then changing
// the protocol does weird things
// first, if it's not file:, then we MUST have a host,
// and if there was a path
// to begin with, then we MUST have a path.
// if it is file:, then the host is dropped,
// because that's known to be hostless.
// anything else is assumed to be absolute.
if(!slashedProtocol[relative.protocol]){var keys=Object.keys(relative);for(var v=0;v<keys.length;v++){var k=keys[v];result[k]=relative[k]}result.href=result.format();return result}result.protocol=relative.protocol;if(!relative.host&&!hostlessProtocol[relative.protocol]){var relPath=(relative.pathname||"").split("/");while(relPath.length&&!(relative.host=relPath.shift()));if(!relative.host)relative.host="";if(!relative.hostname)relative.hostname="";if(relPath[0]!=="")relPath.unshift("");if(relPath.length<2)relPath.unshift("");result.pathname=relPath.join("/")}else{result.pathname=relative.pathname}result.search=relative.search;result.query=relative.query;result.host=relative.host||"";result.auth=relative.auth;result.hostname=relative.hostname||relative.host;result.port=relative.port;// to support http.request
if(result.pathname||result.search){var p=result.pathname||"";var s=result.search||"";result.path=p+s}result.slashes=result.slashes||relative.slashes;result.href=result.format();return result}var isSourceAbs=result.pathname&&result.pathname.charAt(0)==="/",isRelAbs=relative.host||relative.pathname&&relative.pathname.charAt(0)==="/",mustEndAbs=isRelAbs||isSourceAbs||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],relPath=relative.pathname&&relative.pathname.split("/")||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];// if the url is a non-slashed url, then relative
// links like ../.. should be able
// to crawl up to the hostname, as well.  This is strange.
// result.protocol has already been set by now.
// Later on, put the first path part into the host field.
if(psychotic){result.hostname="";result.port=null;if(result.host){if(srcPath[0]==="")srcPath[0]=result.host;else srcPath.unshift(result.host)}result.host="";if(relative.protocol){relative.hostname=null;relative.port=null;if(relative.host){if(relPath[0]==="")relPath[0]=relative.host;else relPath.unshift(relative.host)}relative.host=null}mustEndAbs=mustEndAbs&&(relPath[0]===""||srcPath[0]==="")}if(isRelAbs){// it's absolute.
result.host=relative.host||relative.host===""?relative.host:result.host;result.hostname=relative.hostname||relative.hostname===""?relative.hostname:result.hostname;result.search=relative.search;result.query=relative.query;srcPath=relPath;// fall through to the dot-handling below.
}else if(relPath.length){// it's relative
// throw away the existing file, and take the new path instead.
if(!srcPath)srcPath=[];srcPath.pop();srcPath=srcPath.concat(relPath);result.search=relative.search;result.query=relative.query}else if(!util.isNullOrUndefined(relative.search)){// just pull out the search.
// like href='?foo'.
// Put this after the other two cases because it simplifies the booleans
if(psychotic){result.hostname=result.host=srcPath.shift();//occationaly the auth can get stuck only in host
//this especially happens in cases like
//url.resolveObject('mailto:local1@domain1', 'local2@domain2')
var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift()}}result.search=relative.search;result.query=relative.query;//to support http.request
if(!util.isNull(result.pathname)||!util.isNull(result.search)){result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")}result.href=result.format();return result}if(!srcPath.length){// no path at all.  easy.
// we've already handled the other stuff above.
result.pathname=null;//to support http.request
if(result.search){result.path="/"+result.search}else{result.path=null}result.href=result.format();return result}// if a url ENDs in . or .., then it must get a trailing slash.
// however, if it ends in anything else non-slashy,
// then it must NOT get a trailing slash.
var last=srcPath.slice(-1)[0];var hasTrailingSlash=(result.host||relative.host||srcPath.length>1)&&(last==="."||last==="..")||last==="";// strip single dots, resolve double dots to parent dir
// if the path tries to go above the root, `up` ends up > 0
var up=0;for(var i=srcPath.length;i>=0;i--){last=srcPath[i];if(last==="."){srcPath.splice(i,1)}else if(last===".."){srcPath.splice(i,1);up++}else if(up){srcPath.splice(i,1);up--}}// if the path is allowed to go above the root, restore leading ..s
if(!mustEndAbs&&!removeAllDots){for(;up--;up){srcPath.unshift("..")}}if(mustEndAbs&&srcPath[0]!==""&&(!srcPath[0]||srcPath[0].charAt(0)!=="/")){srcPath.unshift("")}if(hasTrailingSlash&&srcPath.join("/").substr(-1)!=="/"){srcPath.push("")}var isAbsolute=srcPath[0]===""||srcPath[0]&&srcPath[0].charAt(0)==="/";// put the host back
if(psychotic){result.hostname=result.host=isAbsolute?"":srcPath.length?srcPath.shift():"";//occationaly the auth can get stuck only in host
//this especially happens in cases like
//url.resolveObject('mailto:local1@domain1', 'local2@domain2')
var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift()}}mustEndAbs=mustEndAbs||result.host&&srcPath.length;if(mustEndAbs&&!isAbsolute){srcPath.unshift("")}if(!srcPath.length){result.pathname=null;result.path=null}else{result.pathname=srcPath.join("/")}//to support request.http
if(!util.isNull(result.pathname)||!util.isNull(result.search)){result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")}result.auth=relative.auth||result.auth;result.slashes=result.slashes||relative.slashes;result.href=result.format();return result};Url.prototype.parseHost=function(){var host=this.host;var port=portPattern.exec(host);if(port){port=port[0];if(port!==":"){this.port=port.substr(1)}host=host.substr(0,host.length-port.length)}if(host)this.hostname=host};// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-url/url.js sha1 = 78d0ac233252dbbecf7afc93c2c3ad56965f53e2
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/browser-url"),"url.js","/home/jonathanmaxannett/jsextensions/node_modules/browser-url")},"./util":{name:"url",path:"../node_modules/browser-url/util.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-url/util.js
"use strict";module.exports={isString:function(arg){return typeof arg==="string"},isObject:function(arg){return typeof arg==="object"&&arg!==null},isNull:function(arg){return arg===null},isNullOrUndefined:function(arg){return arg==null}};// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-url/util.js sha1 = b83cee072b6381001e94414862d934d65004d92b
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/browser-url"),"util.js","/home/jonathanmaxannett/jsextensions/node_modules/browser-url")},"querystring":{name:"browser-querystring",path:"../node_modules/browser-querystring/index.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring/index.js
"use strict";exports.decode=exports.parse=require("./decode");exports.encode=exports.stringify=require("./encode");// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring/index.js sha1 = cb7fd2835f652938cfe501f3f0c225e2646eb801
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring"),"index.js","/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring")},"./util":{name:"url",path:"../node_modules/browser-url/util.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-url/util.js
"use strict";module.exports={isString:function(arg){return typeof arg==="string"},isObject:function(arg){return typeof arg==="object"&&arg!==null},isNull:function(arg){return arg===null},isNullOrUndefined:function(arg){return arg==null}};// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-url/util.js sha1 = b83cee072b6381001e94414862d934d65004d92b
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/browser-url"),"util.js","/home/jonathanmaxannett/jsextensions/node_modules/browser-url")},"./decode":{name:"querystring",path:"../node_modules/browser-querystring/decode.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring/decode.js
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
"use strict";// If obj.hasOwnProperty has been overridden, then calling
// obj.hasOwnProperty(prop) will break.
// See: https://github.com/joyent/node/issues/1707
function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&";eq=eq||"=";var obj={};if(typeof qs!=="string"||qs.length===0){return obj}var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1000;if(options&&typeof options.maxKeys==="number"){maxKeys=options.maxKeys}var len=qs.length;// maxKeys <= 0 means that we should not limit keys count
if(maxKeys>0&&len>maxKeys){len=maxKeys}for(var i=0;i<len;++i){var x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq),kstr,vstr,k,v;if(idx>=0){kstr=x.substr(0,idx);vstr=x.substr(idx+1)}else{kstr=x;vstr=""}k=decodeURIComponent(kstr);v=decodeURIComponent(vstr);if(!hasOwnProperty(obj,k)){obj[k]=v}else if(Array.isArray(obj[k])){obj[k].push(v)}else{obj[k]=[obj[k],v]}}return obj};// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring/decode.js sha1 = 78c13537ae65852bb6b1df4563ced3a27f848376
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring"),"decode.js","/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring")},"./encode":{name:"querystring",path:"../node_modules/browser-querystring/encode.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring/encode.js
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
"use strict";var stringifyPrimitive=function(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return"";}};module.exports=function(obj,sep,eq,name){sep=sep||"&";eq=eq||"=";if(obj===null){obj=undefined}if(typeof obj==="object"){return Object.keys(obj).map(function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;if(Array.isArray(obj[k])){return obj[k].map(function(v){return ks+encodeURIComponent(stringifyPrimitive(v))}).join(sep)}else{return ks+encodeURIComponent(stringifyPrimitive(obj[k]))}}).join(sep)}if(!name)return"";return encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj))};// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring/encode.js sha1 = bc42441192cea9de787398850f1d308980421017
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring"),"encode.js","/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring")},"./decode":{name:"querystring",path:"../node_modules/browser-querystring/decode.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring/decode.js
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
"use strict";// If obj.hasOwnProperty has been overridden, then calling
// obj.hasOwnProperty(prop) will break.
// See: https://github.com/joyent/node/issues/1707
function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&";eq=eq||"=";var obj={};if(typeof qs!=="string"||qs.length===0){return obj}var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1000;if(options&&typeof options.maxKeys==="number"){maxKeys=options.maxKeys}var len=qs.length;// maxKeys <= 0 means that we should not limit keys count
if(maxKeys>0&&len>maxKeys){len=maxKeys}for(var i=0;i<len;++i){var x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq),kstr,vstr,k,v;if(idx>=0){kstr=x.substr(0,idx);vstr=x.substr(idx+1)}else{kstr=x;vstr=""}k=decodeURIComponent(kstr);v=decodeURIComponent(vstr);if(!hasOwnProperty(obj,k)){obj[k]=v}else if(Array.isArray(obj[k])){obj[k].push(v)}else{obj[k]=[obj[k],v]}}return obj};// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring/decode.js sha1 = 78c13537ae65852bb6b1df4563ced3a27f848376
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring"),"decode.js","/home/jonathanmaxannett/jsextensions/node_modules/browser-querystring")},"util":{name:"browser-util",path:"../node_modules/browser-util/util.js",load:function(module,require,__filename,__dirname){var process={"env":{},"cwd":function(){return"/"}},exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-util/util.js
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
var getOwnPropertyDescriptors=Object.getOwnPropertyDescriptors||function getOwnPropertyDescriptors(obj){var keys=Object.keys(obj);var descriptors={};for(var i=0;i<keys.length;i++){descriptors[keys[i]]=Object.getOwnPropertyDescriptor(obj,keys[i])}return descriptors};var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++){objects.push(inspect(arguments[i]))}return objects.join(" ")}var i=1;var args=arguments;var len=args.length;var str=String(f).replace(formatRegExp,function(x){if(x==="%%")return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x;}});for(var x=args[i];i<len;x=args[++i]){if(isNull(x)||!isObject(x)){str+=" "+x}else{str+=" "+inspect(x)}}return str};// Mark that a method should not be used.
// Returns a modified function which warns once by default.
// If --no-deprecation is set, then it is a no-op.
exports.deprecate=function(fn,msg){if(typeof process!=="undefined"&&process.noDeprecation===true){return fn}// Allow for deprecating things in the process of starting up.
if(typeof process==="undefined"){return function(){return exports.deprecate(fn,msg).apply(this,arguments)}}var warned=false;function deprecated(){if(!warned){if(process.throwDeprecation){throw new Error(msg)}else if(process.traceDeprecation){console.trace(msg)}else{console.error(msg)}warned=true}return fn.apply(this,arguments)}return deprecated};var debugs={};var debugEnvRegex=/^$/;if(process.env.NODE_DEBUG){var debugEnv=process.env.NODE_DEBUG;debugEnv=debugEnv.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase();debugEnvRegex=new RegExp("^"+debugEnv+"$","i")}exports.debuglog=function(set){set=set.toUpperCase();if(!debugs[set]){if(debugEnvRegex.test(set)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else{debugs[set]=function(){}}}return debugs[set]};/**
                 * Echos the value of a value. Trys to print the value out
                 * in the best way possible given the different types.
                 *
                 * @param {Object} obj The object to print out.
                 * @param {Object} opts Optional options object that alters the output.
                 *//* legacy: obj, showHidden, depth, colors*/function inspect(obj,opts){// default options
var ctx={seen:[],stylize:stylizeNoColor};// legacy...
if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts)){// legacy...
ctx.showHidden=opts}else if(opts){// got an "options" object
exports._extend(ctx,opts)}// set default options
if(isUndefined(ctx.showHidden))ctx.showHidden=false;if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth)}exports.inspect=inspect;// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics
inspect.colors={"bold":[1,22],"italic":[3,23],"underline":[4,24],"inverse":[7,27],"white":[37,39],"grey":[90,39],"black":[30,39],"blue":[34,39],"cyan":[36,39],"green":[32,39],"magenta":[35,39],"red":[31,39],"yellow":[33,39]};// Don't use 'blue' not visible on cmd.exe
inspect.styles={"special":"cyan","number":"yellow","boolean":"yellow","undefined":"grey","null":"bold","string":"green","date":"magenta",// "name": intentionally not styling
"regexp":"red"};function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];if(style){return"\x1B["+inspect.colors[style][0]+"m"+str+"\x1B["+inspect.colors[style][1]+"m"}else{return str}}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};array.forEach(function(val,idx){hash[val]=true});return hash}function formatValue(ctx,value,recurseTimes){// Provide a hook for user-specified inspect functions.
// Check that value is an object with an inspect function on it
if(ctx.customInspect&&value&&isFunction(value.inspect)&&// Filter out the util module, it's inspect function is special
value.inspect!==exports.inspect&&// Also filter out any prototype objects using the circular check.
!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes,ctx);if(!isString(ret)){ret=formatValue(ctx,ret,recurseTimes)}return ret}// Primitive types cannot have properties
var primitive=formatPrimitive(ctx,value);if(primitive){return primitive}// Look up the keys of the object.
var keys=Object.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden){keys=Object.getOwnPropertyNames(value)}// IE doesn't make error fields non-enumerable
// http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx
if(isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0)){return formatError(value)}// Some type of object without properties can be shortcutted.
if(keys.length===0){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}if(isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),"date")}if(isError(value)){return formatError(value)}}var base="",array=false,braces=["{","}"];// Make Array say that they are Array
if(isArray(value)){array=true;braces=["[","]"]}// Make functions say that they are functions
if(isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}// Make RegExps say that they are RegExps
if(isRegExp(value)){base=" "+RegExp.prototype.toString.call(value)}// Make dates with properties first say the date
if(isDate(value)){base=" "+Date.prototype.toUTCString.call(value)}// Make error with message first say the error
if(isError(value)){base=" "+formatError(value)}if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1]}if(recurseTimes<0){if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}else{return ctx.stylize("[Object]","special")}}ctx.seen.push(value);var output;if(array){output=formatArray(ctx,value,recurseTimes,visibleKeys,keys)}else{output=keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)})}ctx.seen.pop();return reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,"\"")+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");// For some reason typeof null is "object", so special case here.
if(isNull(value))return ctx.stylize("null","null")}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i){if(hasOwnProperty(value,String(i))){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true))}else{output.push("")}}keys.forEach(function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true))}});return output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize("[Getter/Setter]","special")}else{str=ctx.stylize("[Getter]","special")}}else{if(desc.set){str=ctx.stylize("[Setter]","special")}}if(!hasOwnProperty(visibleKeys,key)){name="["+key+"]"}if(!str){if(ctx.seen.indexOf(desc.value)<0){if(isNull(recurseTimes)){str=formatValue(ctx,desc.value,null)}else{str=formatValue(ctx,desc.value,recurseTimes-1)}if(str.indexOf("\n")>-1){if(array){str=str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2)}else{str="\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")}}}else{str=ctx.stylize("[Circular]","special")}}if(isUndefined(name)){if(array&&key.match(/^\d+$/)){return str}name=JSON.stringify(""+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,"name")}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,"\"").replace(/(^"|"$)/g,"'");name=ctx.stylize(name,"string")}}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0;var length=output.reduce(function(prev,cur){numLinesEst++;if(cur.indexOf("\n")>=0)numLinesEst++;return prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(length>60){return braces[0]+(base===""?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]}return braces[0]+base+" "+output.join(", ")+" "+braces[1]}// NOTE: These type checking functions intentionally don't use `instanceof`
// because it is fragile and can be easily faked with `Object.create()`.
exports.types=require("./support/types");function isArray(ar){return Array.isArray(ar)}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return isObject(re)&&objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;exports.types.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==="[object Date]"}exports.isDate=isDate;exports.types.isDate=isDate;function isError(e){return isObject(e)&&(objectToString(e)==="[object Error]"||e instanceof Error)}exports.isError=isError;exports.types.isNativeError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||// ES6 symbol
typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=require("./support/isBuffer");function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];// 26 Feb 16:19:34
function timestamp(){var d=new Date;var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}// log is just a thin wrapper to console.log that prepends a timestamp
exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))};/**
                 * Inherit the prototype methods from one constructor into another.
                 *
                 * The Function.prototype.inherits from lang.js rewritten as a standalone
                 * function (not on Function.prototype). NOTE: If this file is to be loaded
                 * during bootstrapping this function needs to be rewritten using some native
                 * functions as prototype setup using normal JavaScript does not work as
                 * expected during bootstrapping (see mirror.js in r114903).
                 *
                 * @param {function} ctor Constructor function which needs to inherit the
                 *     prototype.
                 * @param {function} superCtor Constructor function to inherit prototype from.
                 */exports.inherits=require("inherits");exports._extend=function(origin,add){// Don't do anything if add isn't an object
if(!add||!isObject(add))return origin;var keys=Object.keys(add);var i=keys.length;while(i--){origin[keys[i]]=add[keys[i]]}return origin};function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var kCustomPromisifiedSymbol=typeof Symbol!=="undefined"?Symbol("util.promisify.custom"):undefined;exports.promisify=function promisify(original){if(typeof original!=="function")throw new TypeError("The \"original\" argument must be of type Function");if(kCustomPromisifiedSymbol&&original[kCustomPromisifiedSymbol]){var fn=original[kCustomPromisifiedSymbol];if(typeof fn!=="function"){throw new TypeError("The \"util.promisify.custom\" argument must be of type Function")}Object.defineProperty(fn,kCustomPromisifiedSymbol,{value:fn,enumerable:false,writable:false,configurable:true});return fn}function fn(){var promiseResolve,promiseReject;var promise=new Promise(function(resolve,reject){promiseResolve=resolve;promiseReject=reject});var args=[];for(var i=0;i<arguments.length;i++){args.push(arguments[i])}args.push(function(err,value){if(err){promiseReject(err)}else{promiseResolve(value)}});try{original.apply(this,args)}catch(err){promiseReject(err)}return promise}Object.setPrototypeOf(fn,Object.getPrototypeOf(original));if(kCustomPromisifiedSymbol)Object.defineProperty(fn,kCustomPromisifiedSymbol,{value:fn,enumerable:false,writable:false,configurable:true});return Object.defineProperties(fn,getOwnPropertyDescriptors(original))};exports.promisify.custom=kCustomPromisifiedSymbol;function callbackifyOnRejected(reason,cb){// `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).
// Because `null` is a special error value in callbacks which means "no error
// occurred", we error-wrap so the callback consumer can distinguish between
// "the promise rejected with null" or "the promise fulfilled with undefined".
if(!reason){var newReason=new Error("Promise was rejected with a falsy value");newReason.reason=reason;reason=newReason}return cb(reason)}function callbackify(original){if(typeof original!=="function"){throw new TypeError("The \"original\" argument must be of type Function")}// We DO NOT return the promise as it gives the user a false sense that
// the promise is actually somehow related to the callback's execution
// and that the callback throwing will reject the promise.
function callbackified(){var args=[];for(var i=0;i<arguments.length;i++){args.push(arguments[i])}var maybeCb=args.pop();if(typeof maybeCb!=="function"){throw new TypeError("The last argument must be of type Function")}var self=this;var cb=function(){return maybeCb.apply(self,arguments)};// In true node style we process the callback on `nextTick` with all the
// implications (stack, `uncaughtException`, `async_hooks`)
original.apply(this,args).then(function(ret){process.nextTick(cb.bind(null,null,ret))},function(rej){process.nextTick(callbackifyOnRejected.bind(null,rej,cb))})}Object.setPrototypeOf(callbackified,Object.getPrototypeOf(original));Object.defineProperties(callbackified,getOwnPropertyDescriptors(original));return callbackified}exports.callbackify=callbackify;// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-util/util.js sha1 = 6c4ffc8c5c96de1ecf5d8fe3422e9cd99f3b5200
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/browser-util"),"util.js","/home/jonathanmaxannett/jsextensions/node_modules/browser-util")},"./support/types":{name:"types",path:"../node_modules/browser-util/support/types.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support/types.js
// Currently in sync with Node.js lib/internal/util/types.js
// https://github.com/nodejs/node/commit/112cc7c27551254aa2b17098fb774867f05ed0d9
"use strict";var isBuffer=require("./isBuffer");var isArgumentsObject=require("is-arguments");var isGeneratorFunction=require("is-generator-function");function uncurryThis(f){return f.call.bind(f)}var BigIntSupported=typeof BigInt!=="undefined";var SymbolSupported=typeof Symbol!=="undefined";var SymbolToStringTagSupported=SymbolSupported&&typeof Symbol.toStringTag!=="undefined";var Uint8ArraySupported=typeof Uint8Array!=="undefined";var ArrayBufferSupported=typeof ArrayBuffer!=="undefined";if(Uint8ArraySupported&&SymbolToStringTagSupported){var TypedArrayPrototype=Object.getPrototypeOf(Uint8Array.prototype);var TypedArrayProto_toStringTag=uncurryThis(Object.getOwnPropertyDescriptor(TypedArrayPrototype,Symbol.toStringTag).get)}var ObjectToString=uncurryThis(Object.prototype.toString);var numberValue=uncurryThis(Number.prototype.valueOf);var stringValue=uncurryThis(String.prototype.valueOf);var booleanValue=uncurryThis(Boolean.prototype.valueOf);if(BigIntSupported){var bigIntValue=uncurryThis(BigInt.prototype.valueOf)}if(SymbolSupported){var symbolValue=uncurryThis(Symbol.prototype.valueOf)}function checkBoxedPrimitive(value,prototypeValueOf){if(typeof value!=="object"){return false}try{prototypeValueOf(value);return true}catch(e){return false}}exports.isArgumentsObject=isArgumentsObject;exports.isGeneratorFunction=isGeneratorFunction;// Taken from here and modified for better browser support
// https://github.com/sindresorhus/p-is-promise/blob/cda35a513bda03f977ad5cde3a079d237e82d7ef/index.js
function isPromise(input){return typeof Promise!=="undefined"&&input instanceof Promise||input!==null&&typeof input==="object"&&typeof input.then==="function"&&typeof input.catch==="function"}exports.isPromise=isPromise;function isArrayBufferView(value){if(ArrayBufferSupported&&ArrayBuffer.isView){return ArrayBuffer.isView(value)}return isTypedArray(value)||isDataView(value)}exports.isArrayBufferView=isArrayBufferView;function isTypedArray(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)!==undefined}else{return isUint8Array(value)||isUint8ClampedArray(value)||isUint16Array(value)||isUint32Array(value)||isInt8Array(value)||isInt16Array(value)||isInt32Array(value)||isFloat32Array(value)||isFloat64Array(value)||isBigInt64Array(value)||isBigUint64Array(value)}}exports.isTypedArray=isTypedArray;function isUint8Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Uint8Array"}else{return ObjectToString(value)==="[object Uint8Array]"||// If it's a Buffer instance _and_ has a `.buffer` property,
// this is an ArrayBuffer based buffer; thus it's an Uint8Array
// (Old Node.js had a custom non-Uint8Array implementation)
isBuffer(value)&&value.buffer!==undefined}}exports.isUint8Array=isUint8Array;function isUint8ClampedArray(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Uint8ClampedArray"}else{return ObjectToString(value)==="[object Uint8ClampedArray]"}}exports.isUint8ClampedArray=isUint8ClampedArray;function isUint16Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Uint16Array"}else{return ObjectToString(value)==="[object Uint16Array]"}}exports.isUint16Array=isUint16Array;function isUint32Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Uint32Array"}else{return ObjectToString(value)==="[object Uint32Array]"}}exports.isUint32Array=isUint32Array;function isInt8Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Int8Array"}else{return ObjectToString(value)==="[object Int8Array]"}}exports.isInt8Array=isInt8Array;function isInt16Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Int16Array"}else{return ObjectToString(value)==="[object Int16Array]"}}exports.isInt16Array=isInt16Array;function isInt32Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Int32Array"}else{return ObjectToString(value)==="[object Int32Array]"}}exports.isInt32Array=isInt32Array;function isFloat32Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Float32Array"}else{return ObjectToString(value)==="[object Float32Array]"}}exports.isFloat32Array=isFloat32Array;function isFloat64Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Float64Array"}else{return ObjectToString(value)==="[object Float64Array]"}}exports.isFloat64Array=isFloat64Array;function isBigInt64Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="BigInt64Array"}else{return ObjectToString(value)==="[object BigInt64Array]"}}exports.isBigInt64Array=isBigInt64Array;function isBigUint64Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="BigUint64Array"}else{return ObjectToString(value)==="[object BigUint64Array]"}}exports.isBigUint64Array=isBigUint64Array;function isMapToString(value){return ObjectToString(value)==="[object Map]"}isMapToString.working=typeof Map!=="undefined"&&isMapToString(new Map);function isMap(value){if(typeof Map==="undefined"){return false}return isMapToString.working?isMapToString(value):value instanceof Map}exports.isMap=isMap;function isSetToString(value){return ObjectToString(value)==="[object Set]"}isSetToString.working=typeof Set!=="undefined"&&isSetToString(new Set);function isSet(value){if(typeof Set==="undefined"){return false}return isSetToString.working?isSetToString(value):value instanceof Set}exports.isSet=isSet;function isWeakMapToString(value){return ObjectToString(value)==="[object WeakMap]"}isWeakMapToString.working=typeof WeakMap!=="undefined"&&isWeakMapToString(new WeakMap);function isWeakMap(value){if(typeof WeakMap==="undefined"){return false}return isWeakMapToString.working?isWeakMapToString(value):value instanceof WeakMap}exports.isWeakMap=isWeakMap;function isWeakSetToString(value){return ObjectToString(value)==="[object WeakSet]"}isWeakSetToString.working=typeof WeakSet!=="undefined"&&isWeakSetToString(new WeakSet);function isWeakSet(value){return isWeakSetToString(value);if(typeof WeakSet==="undefined"){return false}return isWeakSetToString.working?isWeakSetToString(value):value instanceof WeakSet}exports.isWeakSet=isWeakSet;function isArrayBufferToString(value){return ObjectToString(value)==="[object ArrayBuffer]"}isArrayBufferToString.working=typeof ArrayBuffer!=="undefined"&&isArrayBufferToString(new ArrayBuffer);function isArrayBuffer(value){if(typeof ArrayBuffer==="undefined"){return false}return isArrayBufferToString.working?isArrayBufferToString(value):value instanceof ArrayBuffer}exports.isArrayBuffer=isArrayBuffer;function isDataViewToString(value){return ObjectToString(value)==="[object DataView]"}isDataViewToString.working=typeof ArrayBuffer!=="undefined"&&typeof DataView!=="undefined"&&isDataViewToString(new DataView(new ArrayBuffer(1),0,1));function isDataView(value){if(typeof DataView==="undefined"){return false}return isDataViewToString.working?isDataViewToString(value):value instanceof DataView}exports.isDataView=isDataView;function isSharedArrayBufferToString(value){return ObjectToString(value)==="[object SharedArrayBuffer]"}isSharedArrayBufferToString.working=typeof SharedArrayBuffer!=="undefined"&&isSharedArrayBufferToString(new SharedArrayBuffer);function isSharedArrayBuffer(value){if(typeof SharedArrayBuffer==="undefined"){return false}return isSharedArrayBufferToString.working?isSharedArrayBufferToString(value):value instanceof SharedArrayBuffer}exports.isSharedArrayBuffer=isSharedArrayBuffer;function isAsyncFunction(value){return ObjectToString(value)==="[object AsyncFunction]"}exports.isAsyncFunction=isAsyncFunction;function isMapIterator(value){return ObjectToString(value)==="[object Map Iterator]"}exports.isMapIterator=isMapIterator;function isSetIterator(value){return ObjectToString(value)==="[object Set Iterator]"}exports.isSetIterator=isSetIterator;function isGeneratorObject(value){return ObjectToString(value)==="[object Generator]"}exports.isGeneratorObject=isGeneratorObject;function isWebAssemblyCompiledModule(value){return ObjectToString(value)==="[object WebAssembly.Module]"}exports.isWebAssemblyCompiledModule=isWebAssemblyCompiledModule;function isNumberObject(value){return checkBoxedPrimitive(value,numberValue)}exports.isNumberObject=isNumberObject;function isStringObject(value){return checkBoxedPrimitive(value,stringValue)}exports.isStringObject=isStringObject;function isBooleanObject(value){return checkBoxedPrimitive(value,booleanValue)}exports.isBooleanObject=isBooleanObject;function isBigIntObject(value){return BigIntSupported&&checkBoxedPrimitive(value,bigIntValue)}exports.isBigIntObject=isBigIntObject;function isSymbolObject(value){return SymbolSupported&&checkBoxedPrimitive(value,symbolValue)}exports.isSymbolObject=isSymbolObject;function isBoxedPrimitive(value){return isNumberObject(value)||isStringObject(value)||isBooleanObject(value)||isBigIntObject(value)||isSymbolObject(value)}exports.isBoxedPrimitive=isBoxedPrimitive;function isAnyArrayBuffer(value){return Uint8ArraySupported&&(isArrayBuffer(value)||isSharedArrayBuffer(value))}exports.isAnyArrayBuffer=isAnyArrayBuffer;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(method){Object.defineProperty(exports,method,{enumerable:false,value:function(){throw new Error(method+" is not supported in userland")}})});// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support/types.js sha1 = 3bfa608d786eeb0caad9f69079a1a13006fd50a9
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support"),"types.js","/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support")},"./support/isBuffer":{name:"isBuffer",path:"../node_modules/browser-util/support/isBuffer.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support/isBuffer.js
module.exports=function isBuffer(arg){return arg instanceof Buffer};// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support/isBuffer.js sha1 = ab526fa0e6a7e7f560d2126a632cc8342158334d
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support"),"isBuffer.js","/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support")},"inherits":{name:"inherits",path:"../node_modules/inherits/inherits.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/inherits/inherits.js
try{var util=require("util");if(typeof util.inherits!=="function")throw"";module.exports=util.inherits}catch(e){module.exports=require("./inherits_browser.js")}// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/inherits/inherits.js sha1 = 491caba7b70590f6dcbe37d7edccd9f89ac1b9fd
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/inherits"),"inherits.js","/home/jonathanmaxannett/jsextensions/node_modules/inherits")},"./support/types":{name:"types",path:"../node_modules/browser-util/support/types.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support/types.js
// Currently in sync with Node.js lib/internal/util/types.js
// https://github.com/nodejs/node/commit/112cc7c27551254aa2b17098fb774867f05ed0d9
"use strict";var isBuffer=require("./isBuffer");var isArgumentsObject=require("is-arguments");var isGeneratorFunction=require("is-generator-function");function uncurryThis(f){return f.call.bind(f)}var BigIntSupported=typeof BigInt!=="undefined";var SymbolSupported=typeof Symbol!=="undefined";var SymbolToStringTagSupported=SymbolSupported&&typeof Symbol.toStringTag!=="undefined";var Uint8ArraySupported=typeof Uint8Array!=="undefined";var ArrayBufferSupported=typeof ArrayBuffer!=="undefined";if(Uint8ArraySupported&&SymbolToStringTagSupported){var TypedArrayPrototype=Object.getPrototypeOf(Uint8Array.prototype);var TypedArrayProto_toStringTag=uncurryThis(Object.getOwnPropertyDescriptor(TypedArrayPrototype,Symbol.toStringTag).get)}var ObjectToString=uncurryThis(Object.prototype.toString);var numberValue=uncurryThis(Number.prototype.valueOf);var stringValue=uncurryThis(String.prototype.valueOf);var booleanValue=uncurryThis(Boolean.prototype.valueOf);if(BigIntSupported){var bigIntValue=uncurryThis(BigInt.prototype.valueOf)}if(SymbolSupported){var symbolValue=uncurryThis(Symbol.prototype.valueOf)}function checkBoxedPrimitive(value,prototypeValueOf){if(typeof value!=="object"){return false}try{prototypeValueOf(value);return true}catch(e){return false}}exports.isArgumentsObject=isArgumentsObject;exports.isGeneratorFunction=isGeneratorFunction;// Taken from here and modified for better browser support
// https://github.com/sindresorhus/p-is-promise/blob/cda35a513bda03f977ad5cde3a079d237e82d7ef/index.js
function isPromise(input){return typeof Promise!=="undefined"&&input instanceof Promise||input!==null&&typeof input==="object"&&typeof input.then==="function"&&typeof input.catch==="function"}exports.isPromise=isPromise;function isArrayBufferView(value){if(ArrayBufferSupported&&ArrayBuffer.isView){return ArrayBuffer.isView(value)}return isTypedArray(value)||isDataView(value)}exports.isArrayBufferView=isArrayBufferView;function isTypedArray(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)!==undefined}else{return isUint8Array(value)||isUint8ClampedArray(value)||isUint16Array(value)||isUint32Array(value)||isInt8Array(value)||isInt16Array(value)||isInt32Array(value)||isFloat32Array(value)||isFloat64Array(value)||isBigInt64Array(value)||isBigUint64Array(value)}}exports.isTypedArray=isTypedArray;function isUint8Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Uint8Array"}else{return ObjectToString(value)==="[object Uint8Array]"||// If it's a Buffer instance _and_ has a `.buffer` property,
// this is an ArrayBuffer based buffer; thus it's an Uint8Array
// (Old Node.js had a custom non-Uint8Array implementation)
isBuffer(value)&&value.buffer!==undefined}}exports.isUint8Array=isUint8Array;function isUint8ClampedArray(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Uint8ClampedArray"}else{return ObjectToString(value)==="[object Uint8ClampedArray]"}}exports.isUint8ClampedArray=isUint8ClampedArray;function isUint16Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Uint16Array"}else{return ObjectToString(value)==="[object Uint16Array]"}}exports.isUint16Array=isUint16Array;function isUint32Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Uint32Array"}else{return ObjectToString(value)==="[object Uint32Array]"}}exports.isUint32Array=isUint32Array;function isInt8Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Int8Array"}else{return ObjectToString(value)==="[object Int8Array]"}}exports.isInt8Array=isInt8Array;function isInt16Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Int16Array"}else{return ObjectToString(value)==="[object Int16Array]"}}exports.isInt16Array=isInt16Array;function isInt32Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Int32Array"}else{return ObjectToString(value)==="[object Int32Array]"}}exports.isInt32Array=isInt32Array;function isFloat32Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Float32Array"}else{return ObjectToString(value)==="[object Float32Array]"}}exports.isFloat32Array=isFloat32Array;function isFloat64Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="Float64Array"}else{return ObjectToString(value)==="[object Float64Array]"}}exports.isFloat64Array=isFloat64Array;function isBigInt64Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="BigInt64Array"}else{return ObjectToString(value)==="[object BigInt64Array]"}}exports.isBigInt64Array=isBigInt64Array;function isBigUint64Array(value){if(Uint8ArraySupported&&SymbolToStringTagSupported){return TypedArrayProto_toStringTag(value)==="BigUint64Array"}else{return ObjectToString(value)==="[object BigUint64Array]"}}exports.isBigUint64Array=isBigUint64Array;function isMapToString(value){return ObjectToString(value)==="[object Map]"}isMapToString.working=typeof Map!=="undefined"&&isMapToString(new Map);function isMap(value){if(typeof Map==="undefined"){return false}return isMapToString.working?isMapToString(value):value instanceof Map}exports.isMap=isMap;function isSetToString(value){return ObjectToString(value)==="[object Set]"}isSetToString.working=typeof Set!=="undefined"&&isSetToString(new Set);function isSet(value){if(typeof Set==="undefined"){return false}return isSetToString.working?isSetToString(value):value instanceof Set}exports.isSet=isSet;function isWeakMapToString(value){return ObjectToString(value)==="[object WeakMap]"}isWeakMapToString.working=typeof WeakMap!=="undefined"&&isWeakMapToString(new WeakMap);function isWeakMap(value){if(typeof WeakMap==="undefined"){return false}return isWeakMapToString.working?isWeakMapToString(value):value instanceof WeakMap}exports.isWeakMap=isWeakMap;function isWeakSetToString(value){return ObjectToString(value)==="[object WeakSet]"}isWeakSetToString.working=typeof WeakSet!=="undefined"&&isWeakSetToString(new WeakSet);function isWeakSet(value){return isWeakSetToString(value);if(typeof WeakSet==="undefined"){return false}return isWeakSetToString.working?isWeakSetToString(value):value instanceof WeakSet}exports.isWeakSet=isWeakSet;function isArrayBufferToString(value){return ObjectToString(value)==="[object ArrayBuffer]"}isArrayBufferToString.working=typeof ArrayBuffer!=="undefined"&&isArrayBufferToString(new ArrayBuffer);function isArrayBuffer(value){if(typeof ArrayBuffer==="undefined"){return false}return isArrayBufferToString.working?isArrayBufferToString(value):value instanceof ArrayBuffer}exports.isArrayBuffer=isArrayBuffer;function isDataViewToString(value){return ObjectToString(value)==="[object DataView]"}isDataViewToString.working=typeof ArrayBuffer!=="undefined"&&typeof DataView!=="undefined"&&isDataViewToString(new DataView(new ArrayBuffer(1),0,1));function isDataView(value){if(typeof DataView==="undefined"){return false}return isDataViewToString.working?isDataViewToString(value):value instanceof DataView}exports.isDataView=isDataView;function isSharedArrayBufferToString(value){return ObjectToString(value)==="[object SharedArrayBuffer]"}isSharedArrayBufferToString.working=typeof SharedArrayBuffer!=="undefined"&&isSharedArrayBufferToString(new SharedArrayBuffer);function isSharedArrayBuffer(value){if(typeof SharedArrayBuffer==="undefined"){return false}return isSharedArrayBufferToString.working?isSharedArrayBufferToString(value):value instanceof SharedArrayBuffer}exports.isSharedArrayBuffer=isSharedArrayBuffer;function isAsyncFunction(value){return ObjectToString(value)==="[object AsyncFunction]"}exports.isAsyncFunction=isAsyncFunction;function isMapIterator(value){return ObjectToString(value)==="[object Map Iterator]"}exports.isMapIterator=isMapIterator;function isSetIterator(value){return ObjectToString(value)==="[object Set Iterator]"}exports.isSetIterator=isSetIterator;function isGeneratorObject(value){return ObjectToString(value)==="[object Generator]"}exports.isGeneratorObject=isGeneratorObject;function isWebAssemblyCompiledModule(value){return ObjectToString(value)==="[object WebAssembly.Module]"}exports.isWebAssemblyCompiledModule=isWebAssemblyCompiledModule;function isNumberObject(value){return checkBoxedPrimitive(value,numberValue)}exports.isNumberObject=isNumberObject;function isStringObject(value){return checkBoxedPrimitive(value,stringValue)}exports.isStringObject=isStringObject;function isBooleanObject(value){return checkBoxedPrimitive(value,booleanValue)}exports.isBooleanObject=isBooleanObject;function isBigIntObject(value){return BigIntSupported&&checkBoxedPrimitive(value,bigIntValue)}exports.isBigIntObject=isBigIntObject;function isSymbolObject(value){return SymbolSupported&&checkBoxedPrimitive(value,symbolValue)}exports.isSymbolObject=isSymbolObject;function isBoxedPrimitive(value){return isNumberObject(value)||isStringObject(value)||isBooleanObject(value)||isBigIntObject(value)||isSymbolObject(value)}exports.isBoxedPrimitive=isBoxedPrimitive;function isAnyArrayBuffer(value){return Uint8ArraySupported&&(isArrayBuffer(value)||isSharedArrayBuffer(value))}exports.isAnyArrayBuffer=isAnyArrayBuffer;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(method){Object.defineProperty(exports,method,{enumerable:false,value:function(){throw new Error(method+" is not supported in userland")}})});// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support/types.js sha1 = 3bfa608d786eeb0caad9f69079a1a13006fd50a9
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support"),"types.js","/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support")},"./isBuffer":{name:"isBuffer",path:"../node_modules/browser-util/support/isBuffer.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support/isBuffer.js
module.exports=function isBuffer(arg){return arg instanceof Buffer};// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support/isBuffer.js sha1 = ab526fa0e6a7e7f560d2126a632cc8342158334d
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support"),"isBuffer.js","/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support")},"is-arguments":{name:"is-arguments",path:"../node_modules/is-arguments/index.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/is-arguments/index.js
"use strict";var hasToStringTag=typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol";var toStr=Object.prototype.toString;var isStandardArguments=function isArguments(value){if(hasToStringTag&&value&&typeof value==="object"&&Symbol.toStringTag in value){return false}return toStr.call(value)==="[object Arguments]"};var isLegacyArguments=function isArguments(value){if(isStandardArguments(value)){return true}return value!==null&&typeof value==="object"&&typeof value.length==="number"&&value.length>=0&&toStr.call(value)!=="[object Array]"&&toStr.call(value.callee)==="[object Function]"};var supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;// for tests
module.exports=supportsStandardArguments?isStandardArguments:isLegacyArguments;// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/is-arguments/index.js sha1 = 03e026d417599e244476071ea2b165c63bb647a5
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/is-arguments"),"index.js","/home/jonathanmaxannett/jsextensions/node_modules/is-arguments")},"is-generator-function":{name:"is-generator-function",path:"../node_modules/is-generator-function/index.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/is-generator-function/index.js
"use strict";var toStr=Object.prototype.toString;var fnToStr=Function.prototype.toString;var isFnRegex=/^\s*(?:function)?\*/;var hasToStringTag=typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol";var getProto=Object.getPrototypeOf;var getGeneratorFunc=function(){// eslint-disable-line consistent-return
if(!hasToStringTag){return false}try{return Function("return function*() {}")()}catch(e){}};var generatorFunc=getGeneratorFunc();var GeneratorFunction=generatorFunc?getProto(generatorFunc):{};module.exports=function isGeneratorFunction(fn){if(typeof fn!=="function"){return false}if(isFnRegex.test(fnToStr.call(fn))){return true}if(!hasToStringTag){var str=toStr.call(fn);return str==="[object GeneratorFunction]"}return getProto(fn)===GeneratorFunction};// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/is-generator-function/index.js sha1 = aa4dacfbf2826bea0fdfb40c9e566137f53456b9
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/is-generator-function"),"index.js","/home/jonathanmaxannett/jsextensions/node_modules/is-generator-function")},"./inherits_browser.js":{name:"inherits",path:"../node_modules/inherits/inherits_browser.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/inherits/inherits_browser.js
if(typeof Object.create==="function"){// implementation from standard node.js 'util' module
module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}else{// old school shim for old browsers
module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/inherits/inherits_browser.js sha1 = 7c13eacf36e79e5e7dd257d80ec25846e4df7eb3
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/inherits"),"inherits_browser.js","/home/jonathanmaxannett/jsextensions/node_modules/inherits")},"./isBuffer":{name:"isBuffer",path:"../node_modules/browser-util/support/isBuffer.js",load:function(module,require,__filename,__dirname){var exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support/isBuffer.js
module.exports=function isBuffer(arg){return arg instanceof Buffer};// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support/isBuffer.js sha1 = ab526fa0e6a7e7f560d2126a632cc8342158334d
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support"),"isBuffer.js","/home/jonathanmaxannett/jsextensions/node_modules/browser-util/support")},"path":{name:"browser-path",path:"../node_modules/browser-path/path.js",load:function(module,require,__filename,__dirname){var process={"env":{},"cwd":function(){return"/"}},exports=module.exports;// paste begin:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-path/path.js
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
"use strict";var isWindows=process.platform==="win32";var util=require("util");// resolves . and .. elements in a path array with directory names there
// must be no slashes or device names (c:\) in the array
// (so also no leading and trailing slashes - it does not distinguish
// relative and absolute paths)
function normalizeArray(parts,allowAboveRoot){var res=[];for(var i=0;i<parts.length;i++){var p=parts[i];// ignore empty parts
if(!p||p===".")continue;if(p===".."){if(res.length&&res[res.length-1]!==".."){res.pop()}else if(allowAboveRoot){res.push("..")}}else{res.push(p)}}return res}// returns an array with empty elements removed from either end of the input
// array or the original array if no elements need to be removed
function trimArray(arr){var lastIndex=arr.length-1;var start=0;for(;start<=lastIndex;start++){if(arr[start])break}var end=lastIndex;for(;end>=0;end--){if(arr[end])break}if(start===0&&end===lastIndex)return arr;if(start>end)return[];return arr.slice(start,end+1)}// Regex to split a windows path into three parts: [*, device, slash,
// tail] windows-only
var splitDeviceRe=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/;// Regex to split the tail part of the above into [*, dir, basename, ext]
var splitTailRe=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/;var win32={};// Function to split a filename into [root, dir, basename, ext]
function win32SplitPath(filename){// Separate device+slash from tail
var result=splitDeviceRe.exec(filename),device=(result[1]||"")+(result[2]||""),tail=result[3]||"";// Split the tail into dir, basename and extension
var result2=splitTailRe.exec(tail),dir=result2[1],basename=result2[2],ext=result2[3];return[device,dir,basename,ext]}function win32StatPath(path){var result=splitDeviceRe.exec(path),device=result[1]||"",isUnc=!!device&&device[1]!==":";return{device:device,isUnc:isUnc,isAbsolute:isUnc||!!result[2],// UNC paths are always absolute
tail:result[3]}}function normalizeUNCRoot(device){return"\\\\"+device.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}// path.resolve([from ...], to)
win32.resolve=function(){var resolvedDevice="",resolvedTail="",resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1;i--){var path;if(i>=0){path=arguments[i]}else if(!resolvedDevice){path=process.cwd()}else{// Windows has the concept of drive-specific current working
// directories. If we've resolved a drive letter but not yet an
// absolute path, get cwd for that drive. We're sure the device is not
// an unc path at this points, because unc paths are always absolute.
path=process.env["="+resolvedDevice];// Verify that a drive-local cwd was found and that it actually points
// to our drive. If not, default to the drive's root.
if(!path||path.substr(0,3).toLowerCase()!==resolvedDevice.toLowerCase()+"\\"){path=resolvedDevice+"\\"}}// Skip empty and invalid entries
if(!util.isString(path)){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){continue}var result=win32StatPath(path),device=result.device,isUnc=result.isUnc,isAbsolute=result.isAbsolute,tail=result.tail;if(device&&resolvedDevice&&device.toLowerCase()!==resolvedDevice.toLowerCase()){// This path points to another device so it is not applicable
continue}if(!resolvedDevice){resolvedDevice=device}if(!resolvedAbsolute){resolvedTail=tail+"\\"+resolvedTail;resolvedAbsolute=isAbsolute}if(resolvedDevice&&resolvedAbsolute){break}}// Convert slashes to backslashes when `resolvedDevice` points to an UNC
// root. Also squash multiple slashes into a single one where appropriate.
if(isUnc){resolvedDevice=normalizeUNCRoot(resolvedDevice)}// At this point the path should be resolved to a full absolute path,
// but handle relative paths to be safe (might happen when process.cwd()
// fails)
// Normalize the tail path
resolvedTail=normalizeArray(resolvedTail.split(/[\\\/]+/),!resolvedAbsolute).join("\\");return resolvedDevice+(resolvedAbsolute?"\\":"")+resolvedTail||"."};win32.normalize=function(path){var result=win32StatPath(path),device=result.device,isUnc=result.isUnc,isAbsolute=result.isAbsolute,tail=result.tail,trailingSlash=/[\\\/]$/.test(tail);// Normalize the tail path
tail=normalizeArray(tail.split(/[\\\/]+/),!isAbsolute).join("\\");if(!tail&&!isAbsolute){tail="."}if(tail&&trailingSlash){tail+="\\"}// Convert slashes to backslashes when `device` points to an UNC root.
// Also squash multiple slashes into a single one where appropriate.
if(isUnc){device=normalizeUNCRoot(device)}return device+(isAbsolute?"\\":"")+tail};win32.isAbsolute=function(path){return win32StatPath(path).isAbsolute};win32.join=function(){var paths=[];for(var i=0;i<arguments.length;i++){var arg=arguments[i];if(!util.isString(arg)){throw new TypeError("Arguments to path.join must be strings")}if(arg){paths.push(arg)}}var joined=paths.join("\\");// Make sure that the joined path doesn't start with two slashes, because
// normalize() will mistake it for an UNC path then.
//
// This step is skipped when it is very clear that the user actually
// intended to point at an UNC path. This is assumed when the first
// non-empty string arguments starts with exactly two slashes followed by
// at least one more non-slash character.
//
// Note that for normalize() to treat a path as an UNC path it needs to
// have at least 2 components, so we don't filter for that here.
// This means that the user can use join to construct UNC paths from
// a server name and a share name; for example:
//   path.join('//server', 'share') -> '\\\\server\\share\')
if(!/^[\\\/]{2}[^\\\/]/.test(paths[0])){joined=joined.replace(/^[\\\/]{2,}/,"\\")}return win32.normalize(joined)};// path.relative(from, to)
// it will solve the relative path from 'from' to 'to', for instance:
// from = 'C:\\orandea\\test\\aaa'
// to = 'C:\\orandea\\impl\\bbb'
// The output of the function should be: '..\\..\\impl\\bbb'
win32.relative=function(from,to){from=win32.resolve(from);to=win32.resolve(to);// windows is not case sensitive
var lowerFrom=from.toLowerCase();var lowerTo=to.toLowerCase();var toParts=trimArray(to.split("\\"));var lowerFromParts=trimArray(lowerFrom.split("\\"));var lowerToParts=trimArray(lowerTo.split("\\"));var length=Math.min(lowerFromParts.length,lowerToParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(lowerFromParts[i]!==lowerToParts[i]){samePartsLength=i;break}}if(samePartsLength==0){return to}var outputParts=[];for(var i=samePartsLength;i<lowerFromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("\\")};win32._makeLong=function(path){// Note: this will *probably* throw somewhere.
if(!util.isString(path))return path;if(!path){return""}var resolvedPath=win32.resolve(path);if(/^[a-zA-Z]\:\\/.test(resolvedPath)){// path is local filesystem path, which needs to be converted
// to long UNC path.
return"\\\\?\\"+resolvedPath}else if(/^\\\\[^?.]/.test(resolvedPath)){// path is network UNC path, which needs to be converted
// to long UNC path.
return"\\\\?\\UNC\\"+resolvedPath.substring(2)}return path};win32.dirname=function(path){var result=win32SplitPath(path),root=result[0],dir=result[1];if(!root&&!dir){// No dirname whatsoever
return"."}if(dir){// It has a dirname, strip trailing slash
dir=dir.substr(0,dir.length-1)}return root+dir};win32.basename=function(path,ext){var f=win32SplitPath(path)[2];// TODO: make this comparison case-insensitive on windows?
if(ext&&f.substr(-1*ext.length)===ext){f=f.substr(0,f.length-ext.length)}return f};win32.extname=function(path){return win32SplitPath(path)[3]};win32.format=function(pathObject){if(!util.isObject(pathObject)){throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof pathObject)}var root=pathObject.root||"";if(!util.isString(root)){throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof pathObject.root)}var dir=pathObject.dir;var base=pathObject.base||"";if(!dir){return base}if(dir[dir.length-1]===win32.sep){return dir+base}return dir+win32.sep+base};win32.parse=function(pathString){if(!util.isString(pathString)){throw new TypeError("Parameter 'pathString' must be a string, not "+typeof pathString)}var allParts=win32SplitPath(pathString);if(!allParts||allParts.length!==4){throw new TypeError("Invalid path '"+pathString+"'")}return{root:allParts[0],dir:allParts[0]+allParts[1].slice(0,-1),base:allParts[2],ext:allParts[3],name:allParts[2].slice(0,allParts[2].length-allParts[3].length)}};win32.sep="\\";win32.delimiter=";";// Split a filename into [root, dir, basename, ext], unix version
// 'root' is just a slash, or nothing.
var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;var posix={};function posixSplitPath(filename){return splitPathRe.exec(filename).slice(1)}// path.resolve([from ...], to)
// posix version
posix.resolve=function(){var resolvedPath="",resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();// Skip empty and invalid entries
if(!util.isString(path)){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){continue}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=path[0]==="/"}// At this point the path should be resolved to a full absolute path, but
// handle relative paths to be safe (might happen when process.cwd() fails)
// Normalize the path
resolvedPath=normalizeArray(resolvedPath.split("/"),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."};// path.normalize(path)
// posix version
posix.normalize=function(path){var isAbsolute=posix.isAbsolute(path),trailingSlash=path&&path[path.length-1]==="/";// Normalize the path
path=normalizeArray(path.split("/"),!isAbsolute).join("/");if(!path&&!isAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isAbsolute?"/":"")+path};// posix version
posix.isAbsolute=function(path){return path.charAt(0)==="/"};// posix version
posix.join=function(){var path="";for(var i=0;i<arguments.length;i++){var segment=arguments[i];if(!util.isString(segment)){throw new TypeError("Arguments to path.join must be strings")}if(segment){if(!path){path+=segment}else{path+="/"+segment}}}return posix.normalize(path)};// path.relative(from, to)
// posix version
posix.relative=function(from,to){from=posix.resolve(from).substr(1);to=posix.resolve(to).substr(1);var fromParts=trimArray(from.split("/"));var toParts=trimArray(to.split("/"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")};posix._makeLong=function(path){return path};posix.dirname=function(path){var result=posixSplitPath(path),root=result[0],dir=result[1];if(!root&&!dir){// No dirname whatsoever
return"."}if(dir){// It has a dirname, strip trailing slash
dir=dir.substr(0,dir.length-1)}return root+dir};posix.basename=function(path,ext){var f=posixSplitPath(path)[2];// TODO: make this comparison case-insensitive on windows?
if(ext&&f.substr(-1*ext.length)===ext){f=f.substr(0,f.length-ext.length)}return f};posix.extname=function(path){return posixSplitPath(path)[3]};posix.format=function(pathObject){if(!util.isObject(pathObject)){throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof pathObject)}var root=pathObject.root||"";if(!util.isString(root)){throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof pathObject.root)}var dir=pathObject.dir?pathObject.dir+posix.sep:"";var base=pathObject.base||"";return dir+base};posix.parse=function(pathString){if(!util.isString(pathString)){throw new TypeError("Parameter 'pathString' must be a string, not "+typeof pathString)}var allParts=posixSplitPath(pathString);if(!allParts||allParts.length!==4){throw new TypeError("Invalid path '"+pathString+"'")}allParts[1]=allParts[1]||"";allParts[2]=allParts[2]||"";allParts[3]=allParts[3]||"";return{root:allParts[0],dir:allParts[0]+allParts[1].slice(0,-1),base:allParts[2],ext:allParts[3],name:allParts[2].slice(0,allParts[2].length-allParts[3].length)}};posix.sep="/";posix.delimiter=":";if(isWindows)module.exports=win32;else/* posix */module.exports=posix;module.exports.posix=posix;module.exports.win32=win32;// paste end:file:/home/jonathanmaxannett/jsextensions/node_modules/browser-path/path.js sha1 = f14f27107c2666c5ea412b37e34ab947ec3d2453
return module.exports}.bind(this,{exports:{}},__sim_require.bind(this,"/home/jonathanmaxannett/jsextensions/node_modules/browser-path"),"path.js","/home/jonathanmaxannett/jsextensions/node_modules/browser-path")},___the___:"end"};var mod=function(module,require,__filename,__dirname){var exports=module.exports;//paste-begin: http://npmjs.com
module.exports=function(){var res={};["punycode","url","querystring","util","path"].forEach(function(m){res[m]=require(m)});return res}();//paste-end: http://npmjs.com
return module.exports};return mod({exports:{}},__sim_require.bind(this,"."),"browser-internal.js",".")}()})(typeof process+typeof module+typeof require==="objectobjectfunction"?[module,"exports"]:[window,"simRequire"]);
/* jshint ignore:end */
